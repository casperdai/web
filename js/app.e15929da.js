(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,a){e.exports=a("56d7")},"1deb":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d"),a("1deb"),a("455b");var s=a("2b0e"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view"),e.showMask?s("div",{staticClass:"requesting_mask"},[s("img",{attrs:{src:a("88a7")}})]):e._e()],1)},n=[],i="REQUESTING",r="REQUEST_FINISHED",c={name:"app",data:function(){return{showMask:!1,maskId:-1}},created:function(){var e=this;this.$eventBus.$on(i,function(t){e.showMask=!0,e.maskId=t}),this.$eventBus.$on(r,function(t){e.maskId===t&&(e.maskId=-1,e.showMask=!1)})}},l=c,d=(a("5c0b"),a("2877")),u=Object(d["a"])(l,o,n,!1,null,null,null);u.options.__file="App.vue";var h=u.exports,p=a("ade3"),m=(a("f751"),a("7514"),a("2f62")),f="LOGIN",g="LOGOUT",v=a("d4ec"),y=a("bee2"),b=a("bc3a"),k=a.n(b),w=(a("3b2b"),a("a481"),a("96eb")),A=a.n(w),S=A.a.Random;A.a.setup({timeout:"200-2000"});var C="/";function T(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))}A.a.mock("".concat(C,"area/loadAll"),"post",{code:200,message:"operate successfully","data|4-11":[{"id|+1":0,"areaName|1":["Hong Kong","China","Canada","Macao","Taiwan","Germany","United Kingdom","Angola","Bangladesh","Brazil","Japan"],areaCode:/\d{3}/}]}),A.a.mock("".concat(C,"common/smscode/send"),"post",{code:200,message:"operate successfully"}),A.a.mock("".concat(C,"common/email/send"),"post",{code:200,message:"operate successfully"}),A.a.mock("".concat(C,"staff/preModify"),"post",{code:200,message:"operate successfully",data:{token:"d367eadf588d452ba9367a7567b5f029"}}),A.a.mock("".concat(C,"parent/password/modify"),"post",{code:200,message:"operate successfully"}),A.a.mock("".concat(C,"staff/password/modify"),"post",{code:200,message:"operate successfully"});var I=window.sessionStorage.getItem("parent");I?I=JSON.parse(I):(I={token:"4ee4437885254799b1baf6fe6bf6497a",isFirstLogin:1,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",firstName:"Albany",middleName:"Wa Iat",lastName:"Tam",mobile:"90984154",email:"Albany@gmail.com"},T("parent",I)),A.a.mock("".concat(C,"parent/login"),"post",{code:200,message:"operate successfully",data:JSON.parse(JSON.stringify(I))}),A.a.mock("".concat(C,"parent/info"),"post",{code:200,message:"operate successfully",data:JSON.parse(JSON.stringify(I))});var N=window.sessionStorage.getItem("teacher");N?N=JSON.parse(N):(N={token:"d367eadf588d452ba9367a7567b5f029",isFirstLogin:1,id:321,legacyId:"91985",headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/5836cc0dcf204c228f9973670a2ca4e1",userName:"yukiko.wong",roles:3,braceletOfBinding:0,"steps|100-100000":0,mobile:"4555477",email:"yukiko.wong@gmail.com"},T("teacher",N)),A.a.mock("".concat(C,"staff/login"),"post",{code:200,message:"operate successfully",data:N}),A.a.mock("".concat(C,"staff/info"),"post",{code:200,message:"operate successfully",data:N});var P,L=window.sessionStorage.getItem("kids");function _(e,t){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));return e}L?L=JSON.parse(L):(L=[{id:467,studentId:"467",firstName:"Bryan",middleName:"Chun Kit",lastName:"Tam",heartRate:89,"steps|100-100000":0,headTeacherFirstName:"Gregg",headTeacherLastName:"Lee",headTeacherUserName:"gregg.lee",gradeLevel:"Grade 10",classId:"10B",braceletOfBinding:0,relationship:1,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busId:S.integer(10,500)},{id:1170,studentId:"1401677",firstName:"Cayden",middleName:"Chun Ting",lastName:"Angelia","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:1,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52"},{id:11720,studentId:"1401676",firstName:"Cayden",middleName:"Chun Ting",lastName:"Alisa","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52"},{id:11730,studentId:"1401675",firstName:"Cayden",middleName:"Chun Ting",lastName:"Jay","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:1,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busId:S.integer(10,500)},{id:11740,studentId:"1401674",firstName:"Cayden",middleName:"Chun Ting",lastName:"DaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisy","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:1,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busId:S.integer(10,500)},{id:11570,studentId:"1401671",firstName:"Cayden",middleName:"Chun Ting",lastName:"June","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busId:S.integer(10,500)},{id:11970,studentId:"1401672",firstName:"Cayden",middleName:"Chun Ting",lastName:"Allen","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:1,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52"},{id:12570,studentId:"1401673",firstName:"Cayden",middleName:"Chun Ting",lastName:"Krystal","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busId:S.integer(10,500)}],T("kids",L)),A.a.mock("".concat(C,"parent/children"),"post",{code:200,message:"operate successfully",data:JSON.parse(JSON.stringify(L))}),A.a.mock("".concat(C,"parent/bracelet/bind"),"post",function(e){var t=S.integer(200,201),a=e.idStudent;if(200===t){var s=L.find(function(e){return e.studentId===a});s&&(s.braceletOfBinding=1,T("kids",L))}return{code:t,message:200===t?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"parent/bracelet/unbind"),"post",function(e){var t=S.integer(200,201),a=e.idStudent;if(200===t){var s=L.find(function(e){return e.studentId===a});s&&(s.braceletOfBinding=0,T("kids",L))}return{code:t,message:200===t?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"staff/bracelet/bind"),"post",function(){var e=S.integer(200,201);return 200===e&&(N.braceletOfBinding=1,T("teacher",N)),{code:e,message:200===e?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"staff/bracelet/unbind"),"post",function(){var e=S.integer(200,201);return 200===e&&(N.braceletOfBinding=0,T("teacher",N)),{code:e,message:200===e?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"parent/child/signinrecord"),"post",function(e){var t=JSON.parse(e.body);1===t.page&&(P=Date.now());var a=t.page-1,s=[];if(a<=5)for(var o,n=t.pageSize,i=1,r=0;r<n;r++)o=new Date(P),o.setHours(o.getHours()-a*n*i-r*i),s.push({checkTimeStr:_("yyyy-MM-dd hh:mm:ss",o),checkTime:o.getTime(),type:S.integer(1,7)});return{code:200,message:"operate successfully",data:s}}),A.a.mock("".concat(C,"staff/signinrecord"),"post",function(e){var t=JSON.parse(e.body);1===t.page&&(P=Date.now());var a=t.page-1,s=[];if(a<=5)for(var o,n=t.pageSize,i=1,r=0;r<n;r++)o=new Date(P),o.setHours(o.getHours()-a*n*i-r*i),s.push({checkTimeStr:_("yyyy-MM-dd hh:mm:ss",o),checkTime:o.getTime(),type:S.integer(1,7)});return{code:200,message:"operate successfully",data:s}}),A.a.mock("".concat(C,"parent/child/stepstate"),"post",function(e){for(var t,a=JSON.parse(e.body),s=Date.now(),o=[],n=1===a.type?7:(new Date).getDate(),i=24,r=0;r<n;r++)t=new Date(s),t.setHours(t.getHours()-r*i),o.push({sportDateStr:_("yyyy-MM-dd",t),sportDate:t.getTime(),steps:S.integer(100,2e4)});return{code:200,message:"operate successfully",data:o}}),A.a.mock("".concat(C,"staff/stepsstat"),"post",function(e){for(var t,a=JSON.parse(e.body),s=Date.now(),o=[],n=1===a.type?7:(new Date).getDate(),i=24,r=0;r<n;r++)t=new Date(s),t.setHours(t.getHours()-r*i),o.push({sportDateStr:_("yyyy-MM-dd",t),sportDate:t.getTime(),steps:S.integer(100,2e4)});return{code:200,message:"operate successfully",data:o}}),A.a.mock("".concat(C,"parent/child/sport"),"post",{code:200,message:"operate successfully",data:{"steps|100-20000":6520,heartRate:89}}),A.a.mock("".concat(C,"staff/sport"),"post",{code:200,message:"operate successfully",data:{"steps|100-20000":6520,heartRate:89}}),A.a.mock("".concat(C,"parent/child/modifyBSSId"),"post",function(e){var t=JSON.parse(e.body),a=S.integer(200,201),s=t.idStudent;if(200===a){var o=L.find(function(e){return e.studentId===s});o&&(o.braceletOfBinding=t.BSSId,T("kids",L))}return{code:a,message:200===a?"operate successfully":"operate failed"}});var M={};A.a.mock("".concat(C,"common/attachment/upload"),"post",function(e){var t=200,a=new FileReader,s=window.URL.createObjectURL(e.body);return M[s]={load:!0},a.onload=function(e){M[s].load=!1;var t=e.target||e.srcElement;M[s].child?(M[s].child.headUrl=e.picImgPath,T("kids",L),delete M[s]):M[s].teacher?(M[s].teacher.headUrl=e.picImgPath,T("teacher",N),delete M[s]):M[s].img=t.result},a.readAsDataURL(e.body),{code:t,message:200===t?"operate successfully":"operate failed",data:{attachmentId:S.integer(1,999),realPath:s}}}),A.a.mock("".concat(C,"parent/child/modifyPic"),"post",function(e){var t=JSON.parse(e.body),a=200,s=t.idStudent;if(200===a){var o=L.find(function(e){return e.studentId===s});o&&M[t.picImgPath]&&(M[t.picImgPath].load?M[t.picImgPath].child=o:(o.headUrl=M[t.picImgPath].img,T("kids",L),delete M[t.picImgPath]))}return{code:a,message:200===a?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"staff/pic/modify"),"post",function(e){var t=JSON.parse(e.body),a=200;return 200===a&&M[t.picImgPath]&&(M[t.picImgPath].load?M[t.picImgPath].teacher=N:(N.headUrl=M[t.picImgPath].img,T("teacher",N),delete M[t.picImgPath])),{code:a,message:200===a?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"parent/emali/modify"),"post",function(e){var t=JSON.parse(e.body),a=S.integer(200,201);return 200===a&&(I.email=t.email,T("parent",I)),{code:a,message:200===a?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"staff/emali/modify"),"post",function(e){var t=JSON.parse(e.body),a=S.integer(200,201);return 200===a&&(N.email=t.email,T("teacher",N)),{code:a,message:200===a?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"parent/mobile/modify"),"post",function(e){var t=JSON.parse(e.body),a=S.integer(200,201);return 200===a&&(I.mobile=t.mobile,T("parent",I)),{code:a,message:200===a?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"staff/mobile/modify"),"post",function(e){var t=JSON.parse(e.body),a=S.integer(200,201);return 200===a&&(N.mobile=t.mobile,T("teacher",N)),{code:a,message:200===a?"operate successfully":"operate failed"}}),A.a.mock("".concat(C,"staff/mobile/checkvcode"),"post",{code:200,message:"operate successfully",data:{token:"d367eadf588d452ba9367a7567b5f029"}}),A.a.mock("".concat(C,"staff/email/checkvcode"),"post",{code:200,message:"operate successfully",data:{token:"d367eadf588d452ba9367a7567b5f029"}}),A.a.mock("".concat(C,"admin/dashboard"),"post",{code:200,message:"operate successfully",data:{staffTotal:304,"arrivedStaffTotal|0-304":0,studentTotal:1793,"arrivedStudentTotal|0-1793":0}}),A.a.mock("".concat(C,"admin/teacher/attendance"),"post",{code:200,message:"operate successfully",data:{staffTotal:304,"arrivedStaffTotal|0-304":0,staffStat:[{idSchoolLevel:1,schoolLevel:"Middle School",staffSchoolLevelTotal:100,"arrivedStaffSchoolLevelTotal|0-100":0},{idSchoolLevel:2,schoolLevel:"Lower School",staffSchoolLevelTotal:100,"arrivedStaffSchoolLevelTotal|0-100":0},{idSchoolLevel:3,schoolLevel:"High School",staffSchoolLevelTotal:104,"arrivedStaffSchoolLevelTotal|0-104":0}]}}),A.a.mock("".concat(C,"admin/student/schoollevel/attendance"),"post",{code:200,message:"operate successfully",data:{studentTotal:1793,"arrivedStudentTotal|0-1793":0,studentStat:[{idSchoolLevel:1,schoolLevel:"Middle School",studentSchoolLevelTotal:600,"arrivedStudentSchoolLevelTotal|0-600":0},{idSchoolLevel:2,schoolLevel:"Lower School",studentSchoolLevelTotal:595,"arrivedStudentSchoolLevelTotal|0-595":0},{idSchoolLevel:3,schoolLevel:"High School",studentSchoolLevelTotal:598,"arrivedStudentSchoolLevelTotal|0-598":0}]}});var O=[{idGrade:1,gradeLevel:"Grade 1",studentGradeTotal:129,"arrivedStudentGradeTotal|0-129":0},{idGrade:2,gradeLevel:"Grade 2",studentGradeTotal:130,"arrivedStudentGradeTotal|0-130":0},{idGrade:3,gradeLevel:"Grade 3",studentGradeTotal:136,"arrivedStudentGradeTotal|0-136":0},{idGrade:4,gradeLevel:"Grade 4",studentGradeTotal:137,"arrivedStudentGradeTotal|0-137":0},{idGrade:5,gradeLevel:"Grade 5",studentGradeTotal:138,"arrivedStudentGradeTotal|0-138":0},{idGrade:5,gradeLevel:"Grade 6",studentGradeTotal:137,"arrivedStudentGradeTotal|0-137":0},{idGrade:13,gradeLevel:"Prep",studentGradeTotal:120,"arrivedStudentGradeTotal|0-120":0},{idGrade:14,gradeLevel:"Rec",studentGradeTotal:128,"arrivedStudentGradeTotal|0-128":0}];A.a.mock("".concat(C,"admin/student/grade/attendance"),"post",{code:200,message:"operate successfully",data:{studentSchoolLevelTotal:1055,"arrivedStudentSchoolLevelTotal|0-1055":0,gradeStudentStat:O}});var R=[{idClass:820,classId:"1A",studentClassTotal:24},{idClass:821,classId:"1B",studentClassTotal:23},{idClass:822,classId:"1C",studentClassTotal:24},{idClass:823,classId:"1D",studentClassTotal:24},{idClass:824,classId:"1E",studentClassTotal:24}];A.a.mock("".concat(C,"admin/student/class/attendance"),"post",function(e){var t=JSON.parse(e.body),a=O.find(function(e){return e.idGrade===t.idGrade}),s=a?a.gradeLevel:"";return{code:200,message:"operate successfully",data:{studentGradeTotal:119,arrivedStudentGradeTotal:S.integer(0,119),classStudentStat:R.map(function(e){return e.gradeLevel=s,e.arrivedStudentClassTotal=S.integer(0,e.studentClassTotal),e})}}}),A.a.mock("".concat(C,"admin/class/studentattendance"),"post",function(e){var t=JSON.parse(e.body),a=R.find(function(e){return e.idClass===t.idClass});return console.log(t,a),{code:200,message:"operate successfully",data:{idClass:a&&a.idClass||-1,classId:a&&a.classId||"1A",gradeLevel:a&&a.gradeLevel||"Grade 1",studentClassTotal:a?a.studentClassTotal:0,arrivedStudentClassTotal:a?void 0!==a.arrivedStudentClassTotal?a.arrivedStudentClassTotal:S.integer(0,a.studentClassTotal):0,studentAttendanceInfo:[{idStudent:11371,firstName:"Tara",middleName:"",lastName:"Mahtani",status:0},{idStudent:11372,firstName:"Joshua",middleName:"",lastName:"Cheung",status:1},{idStudent:11373,firstName:"Uma",middleName:"",lastName:"Chellaram",status:2},{idStudent:11374,firstName:"Maximilian",middleName:"",lastName:"Grout",status:3},{idStudent:11375,firstName:"Aton",middleName:"",lastName:"Mou",status:3}]}}}),A.a.mock("".concat(C,"teacher/class/studentattendance"),"post",function(e){var t=JSON.parse(e.body),a=R.find(function(e){return e.idClass===t.idClass});return console.log(t,a),{code:200,message:"operate successfully",data:{idClass:a&&a.idClass||-1,classId:a&&a.classId||"1A",gradeLevel:a&&a.gradeLevel||"Grade 1",studentClassTotal:a?a.studentClassTotal:0,arrivedStudentClassTotal:a?void 0!==a.arrivedStudentClassTotal?a.arrivedStudentClassTotal:S.integer(0,a.studentClassTotal):0,studentAttendanceInfo:[{idStudent:11371,firstName:"Tara",middleName:"",lastName:"Mahtani",status:0},{idStudent:11372,firstName:"Joshua",middleName:"",lastName:"Cheung",status:1},{idStudent:11373,firstName:"Uma",middleName:"",lastName:"Chellaram",status:2},{idStudent:11374,firstName:"Maximilian",middleName:"",lastName:"Grout",status:3},{idStudent:11375,firstName:"Aton",middleName:"",lastName:"Mou",status:3}]}}}),A.a.mock("".concat(C,"teacher/class/studentstat"),"post",{code:200,message:"operate successfully",data:{idClass:820,classId:"1A",gradeLevel:"Grade 1",studentClassTotal:24,"arrivedStudentClassTotal|0-24":0}}),A.a.mock("".concat(C,"teacher/studentstat"),"post",{code:200,message:"operate successfully",data:{idStudent:1137,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/5836cc0dcf204c228f9973670a2ca4e1",firstName:"Tara",middleName:"",lastName:"Mahtani",parentMobile:"66854149",parentEmail:"Dheeraj.Mahtani@cdnis.edu.hk","accReachCount|0-50":0,"accAbsenceCount|0-10":0,classId:"1A",gradeLevel:"Grade 1"}}),A.a.mock("".concat(C,"teacher/student/signin"),"post",{"code|200-201":200,message:"operate successfully"}),A.a.mock("".concat(C,"teacher/student/signinrecord"),"post",function(e){var t=JSON.parse(e.body);1===t.page&&(P=Date.now());var a=t.page-1,s=[];if(a<=5)for(var o,n=t.pageSize,i=24,r=0;r<n;r++)o=new Date(P),o.setHours(o.getHours()-a*n*i-r*i),s.push({checkTimeStr:_("yyyy-MM-dd hh:mm:ss",o),checkTime:o.getTime(),type:S.integer(1,a<=2?2:3)});return{code:200,message:"operate successfully",data:s}});var D={base_url:C},E=!1;window.jsNative={os:function(){return"android"},isBluetoothOpen:function(){return E},openSysSetting:function(){E=!0},scan:function(){}},window.jsBracelet={isConnected:function(){}};var G={base_url:D.base_url,timeout:2e3},j=new s["a"];s["a"].prototype.$eventBus=j;var x=j;k.a.defaults.baseURL=G.base_url,k.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",k.a.defaults.timeout=G.timeout;var U=1,J={RETRY:0,CYCLE:1,WAIT:100,REQUEST:101,COMPELETED:102,SLEEP:103,DESTROY:999},B=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v["a"])(this,e),this.url=t,this.state=J.WAIT,this.cancelSource=null,this.timer={};var s=a.data,o=void 0===s?null:s,n=a.opts,i=void 0===n?{}:n,r=a.success,c=a.fail,l=a.complet;this.data=o,this.opts=Object.assign({cancel:!0,retry:!1,delay:1e3,sleep:!1,lock:!1,cycle:0},i),this.opts.cycle>0&&(this.opts.retry=!1!==i.retry),this.success=r,this.fail=c,this.complet=l}return Object(y["a"])(e,[{key:"isWait",value:function(){return this.state<=J.WAIT}},{key:"isRequesting",value:function(){return this.state===J.REQUEST}},{key:"isSleep",value:function(){return this.state===J.SLEEP}},{key:"_request",value:function(){var e=this;this.state=J.REQUEST;var t={};this.opts.lock&&(this.opts.lockId=U++,t.lock=!0,t.lockId=this.opts.lockId),this.opts.cancel&&(this.cancelSource=F.cancelSource(),t.cancelToken=this.cancelSource.token),F.post(this.url,this.data,t).then(function(t){e.state!==J.DESTROY&&(e.opts.sleep?e.state=J.SLEEP:e.opts.cycle>0&&(e.state=J.CYCLE,e.timer=setTimeout(function(){return e._request()},e.opts.cycle)),e.state=J.WAIT,e.success&&e.success(t,e.data))},function(t){e.state!==J.DESTROY&&(e.opts.retry?(e.state=J.RETRY,e.timer=setTimeout(function(){return e._request()},e.opts.delay)):e.state=J.WAIT,e.state=J.WAIT,e.fail&&e.fail(t))}).then(function(){e.state!==J.DESTROY&&(e.cancelSource=null,e.complet&&e.complet())})}},{key:"_clearTimer",value:function(){clearTimeout(this.timer)}},{key:"request",value:function(e){return this.isWait()&&(e&&(this.data=e),this._clearTimer(),this._request()),this}},{key:"awaken",value:function(){return this.isSleep()&&(this.state=J.WAIT),this}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"destroy";this.state=J.DESTROY,this.isRequesting()&&(this.opts.lock&&x.$emit(r,this.opts.lockId),this.opts.cancel&&(this.cancelSource.cancel(e),this.cancelSource=null)),this._clearTimer()}}]),e}(),q=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v["a"])(this,e),this.url=t,this.props=a,this.httpPost=null}return Object(y["a"])(e,[{key:"_getHttpPost",value:function(){return this.httpPost||(this.httpPost=new B(this.url,this.props)),this.httpPost}},{key:"_destoryHttpPost",value:function(e){this.isRequesting()&&(this.httpPost.destroy(e),this.httpPost=null)}},{key:"isWait",value:function(){return null===this.httpPost||this.httpPost.isWait()}},{key:"isRequesting",value:function(){return null!==this.httpPost&&this.httpPost.isRequesting()}},{key:"isSleep",value:function(){return null!==this.httpPost&&this.httpPost.isSleep()}},{key:"request",value:function(e){return this._getHttpPost().request(e),this}},{key:"force",value:function(e,t){return this._destoryHttpPost("force"),this.setOpts(t),this.request(e),this}},{key:"setUrl",value:function(e){return this._destoryHttpPost("url changed"),this.url=e,this.httpPost&&(this.httpPost.url=e),this}},{key:"setOpts",value:function(e){return this.props.opts?Object.assign(this.props.opts,e):this.props.opts=e,this.httpPost&&Object.assign(this.httpPost.opts,e),this}},{key:"awaken",value:function(){return this.isSleep()&&this.httpPost.awaken(),this}},{key:"cancel",value:function(){return this._destoryHttpPost(),this}}]),e}();function H(e){607===e&&console.log("token invalid")}var F={post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console.log(e,t,a),a.lock&&(a.lockId=a.lockId||U++,x.$emit(i,a.lockId)),new Promise(function(s,o){k.a.post(e,t,a).then(function(e){a.lock&&x.$emit(r,a.lockId);var t=e.data.code;200===t?s(e.data):(H(t),o(e.data))},function(e){a.lock&&x.$emit(r,a.lockId),e.response?o({code:-999,message:"Server error ".concat(e.response.status)}):e.request?o({code:-1e3,message:e.message}):o({code:-1001,message:e.message||"unknown"})})})},cancelSource:function(){return k.a.CancelToken.source()},createPost:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new q(e,t)},uploadFile:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=new FormData;return s.append("file",t),a.headers={"Content-Type":"multipart/form-data"},this.post(e,t,a)},createLockId:function(){return U++}};s["a"].prototype.$http=F;var z,W,Z=F;s["a"].use(m["a"]);var Q=window.localStorage.getItem("smart_campus__user");Q&&(Q=JSON.parse(Q));var V="SET_RUNTIME_MODE",$="CLEAR",Y="UPDATE_RELATED_FIGURES",K="UPDATE_USER",X={};function ee(e,t){return X[e]||(X[e]=Z.createPost(e,t)),X[e]}function te(){for(var e in X)X[e].cancel();X={}}var ae={runtimmeMode:"normal",user:Q,isLogined:!!Q,figures:[]},se={getFigure:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id;switch(t.mode){case"parent":return e.figures.find(function(e){return e.studentId===a});case"staff":return e.figures.find(function(e){return e.token===a});default:return null}}}},oe=(z={},Object(p["a"])(z,f,function(e,t){e.user=t,e.isLogined=!0,window.localStorage.setItem("smart_campus__user",JSON.stringify(t))}),Object(p["a"])(z,g,function(e){e.user=null,e.isLogined=!1,window.localStorage.removeItem("smart_campus__user")}),Object(p["a"])(z,$,function(e){e.figures=[],e.runtimmeMode="normal",te()}),Object(p["a"])(z,Y,function(e,t){e.figures=t}),Object(p["a"])(z,V,function(e,t){e.runtimmeMode=t}),Object(p["a"])(z,K,function(e,t){console.log(t),e.user&&(Object.assign(e.user,t),window.localStorage.setItem("smart_campus__user",JSON.stringify(e.user)))}),z),ne=(W={},Object(p["a"])(W,f,function(e,t){var a=e.commit,s=e.dispatch;a($),a(f,t),s("updateRelatedFigures")}),Object(p["a"])(W,g,function(e){var t=e.commit;t($),t(g)}),Object(p["a"])(W,"updateRelatedFigures",function(e){var t=e.state,a=e.commit;if(t.user)switch(t.user.mode){case"parent":ee("parent/children",{data:{token:t.user.token},opts:{retry:!0},success:function(e){return a(Y,e.data)}}).request();break;case"staff":a(Y,[t.user]);break;default:break}}),Object(p["a"])(W,"setRuntimeMode",function(e,t){var a=e.commit;a(V,t)}),Object(p["a"])(W,"updateUser",function(e){var t=e.commit;if(ae.user){var a;switch(ae.user.mode){case"parent":a=ee("parent/info",{opts:{retry:!0},success:function(e){return t(K,e.data)}});break;case"staff":a=ee("staff/info",{data:{token:ae.user.token},opts:{retry:!0},success:function(e){return t(K,e.data)}});break;default:return}a.request({token:ae.user.token})}}),W),ie=new m["a"].Store({state:ae,getters:se,mutations:oe,actions:ne,modules:{}});ie.state.isLogined&&(ie.dispatch("updateRelatedFigures"),ie.dispatch("updateUser"));var re=ie,ce=(a("7f7f"),a("8c4f")),le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-login"},[a("div",{staticClass:"l-form p-login__wrapper t-white",class:{"p-login__wrapper--logo":e.isHomeMode,"p-login__wrapper--sign":!e.isHomeMode}},[a("transition",{attrs:{name:"move-up",mode:"out-in"}},[1===e.showMode?a("div",{key:"login",staticClass:"p-login__content p-login__content--login"},[a("div",{staticClass:"p-login__1st p-login__logo"},[a("div",{staticClass:"p-login__logo_icon"})]),a("div",{staticClass:"p-login__2nd p-login__school"},[e._v("C D N I S")]),a("div",{staticClass:"p-login__3rd p-login__tip"},[e._v(e._s(e.$t("welcome")))]),a("router-link",{staticClass:"p-login__4th p-login__button",attrs:{to:{params:{mode:"parent"}},replace:""}},[e._v(e._s(e.$t("login.sign")))])],1):e._e(),2===e.showMode?a("div",{key:"sign",staticClass:"p-login__content p-login__content--sign"},[a("div",{staticClass:"p-login__1st p-login__header"},[a("router-link",{staticClass:"p-login__back",attrs:{to:{name:"login"},replace:""}},[e._v("X")])],1),a("div",{staticClass:"p-login__1st p-login__nav"},[a("router-link",{staticClass:"o-fixed-tab--white",class:{"is-active":e.isParentMode},attrs:{to:{params:{mode:"parent"}},replace:""}},[e._v(e._s(e.$t("login.parents")))]),a("router-link",{staticClass:"o-fixed-tab--white",class:{"is-active":e.isStaffMode},attrs:{to:{params:{mode:"staff"}},replace:""}},[e._v(e._s(e.$t("login.teachers")))])],1),e.isStaffMode?a("div",[a("form-field",{staticClass:"p-login__2nd",attrs:{label:e.$t("login.account"),placeholder:e.$t("login.accountPlaceholder")},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}}),a("form-field",{staticClass:"p-login__3rd",attrs:{type:"password",label:e.$t("common.pwd")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):a("div",[a("form-field",{staticClass:"p-login__2nd c-form-field--select",attrs:{label:e.$t("sms.phone"),placeholder:e.$t("login.phonePlaceholder")},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}},[a("area-code",{on:{change:e.pick}})],1),e.usePwd?a("form-field",{staticClass:"p-login__3rd",attrs:{type:"password",label:e.$t("common.pwd")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):a("form-field",{staticClass:"p-login__3rd c-form-field--button",attrs:{label:e.$t("sms.vCode")},model:{value:e.vCode,callback:function(t){e.vCode=t},expression:"vCode"}},[a("sms",{attrs:{mobile:e.mobile,areaCode:e.areaCode}})],1)],1),a("div",{staticClass:"p-login__4th u-clearfix"},[e.usePwd?a("router-link",{staticClass:"p-login__forget u-underline",attrs:{to:{name:"pre-reset-pwd",params:{mode:e.isParentMode?"parent":"staff"}}}},[e._v(e._s(e.$t("login.forget")))]):e._e(),a("div",{staticClass:"o-button o-button--submit",class:{"is-active":e.isValid},on:{click:e.sign}},[e._v(e._s(e.$t("login.sign")))])],1),a("div",{staticClass:"p-login__soon p-login__error"},[e._v(e._s(e.error))]),!e.isFirst&&e.isParentMode?a("div",{staticClass:"p-login__4th u-align-c p-login__toggle-tip"},[a("div",{staticClass:"u-underline",on:{click:e.toggleLoginMode}},[e._v(e._s(e.toggleTip))])]):e._e()]):e._e()])],1)])},de=[],ue=a("be94"),he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-form-field",class:{"is-invalid":!!e.error,"is-active":e.isFocused}},[a("div",{staticClass:"c-form-field__label"},[e._v(e._s(e.label))]),a("div",{staticClass:"c-form-field__input_wrapper"},[a("input",{staticClass:"c-form-field__input",attrs:{type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){e.$emit("input",t.target.value)},focus:function(t){e.isFocused=!0},blur:function(t){e.isFocused=!1}}}),e._t("default")],2),a("div",{staticClass:"c-form-field__tip"},[e._v(e._s(e.text))])])},pe=[],me={name:"form-field",props:{type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},error:{type:String,default:""},tip:{type:String,default:""},value:{type:String,default:""}},data:function(){return{isFocused:!1}},computed:{text:function(){return this.error||this.tip}}},fe=me,ge=Object(d["a"])(fe,he,pe,!1,null,null,null);ge.options.__file="FormField.vue";var ve=ge.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-form-field__button",class:{"is-active":e.isShowPicker},on:{click:e.showPicker}},[e._v("\n  "+e._s(e.areaCode)+"\n  "),e.isShowPicker?a("picker",{attrs:{values:e.regins,index:e.pickerIndex,title:e.$t("login.picker")},on:{change:e.pick,cancel:e.cancel,confirm:e.confirm}}):e._e()],1)},be=[],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-picker",class:{"is-still":e.isStill},on:{click:e.cancel}},[a("div",{staticClass:"c-picker__wrapper",on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"c-picker__choose"},[a("span",{staticClass:"c-picker__cancel",on:{click:e.cancel}},[e._v(e._s(e.cancelTxt))]),a("span",{staticClass:"c-picker__confirm",on:{click:e.confirm}},[e._v(e._s(e.confirmTxt))]),a("div",{staticClass:"c-picker__title",on:{click:function(e){e.stopPropagation()}}},[e._v(e._s(e.title))])]),a("div",{ref:"wrapper",staticClass:"c-picker__wheel_wrapper",style:e.getWrapperStyle},[a("ul",{ref:"wheel",staticClass:"c-picker__wheel",style:e.getWheelStyle},[e._t("default",e._l(e.scrollValues,function(t,s){return a("li",{key:s,staticClass:"c-picker__item",class:{"is-active":e.selectedIndex===s}},[e._v("\n            "+e._s(t.value)+"\n          ")])}))],2),a("div",{staticClass:"c-picker__divider",style:e.getDividerStyle}),a("div",{staticClass:"c-picker__cover",style:e.getCoverStyle})])])])},we=[],Ae=(a("ac6a"),a("c5f6"),a("1fba")),Se=a("a925"),Ce={welcome:"Welcome to the Canadian International School of Hong Kong",picker:{title:"Picker"},calendar:{today:"Today"},common:{next:"Next",save:"Save",cancel:"Cancel",done:"Done",confirm:"Confirm",loading:"loading...",retry:"Abnormal, click Retry",empty:"No Data",pwd:"Password",open:"Open",teacher:"Teacher: "},state:{unbind:"Not Bound",connecting:"",connected:"Connected",unconnected:"Not Connected"},relationship:{son:"Son",daughter:"Daughter"},pullUp:{loading:"Pull Up Loading",more:"Load More",finished:"No More Data"},pwdErr:{error:"Password error",tooLong:"Password requires at most 16 characters",tooShort:"Password requires at lease 6 characters",notMatch:"The password you typed do not match",format:"Format error"},record:{0:"None",1:"Arrived at school",2:"Leave school",3:"On the bus home",4:"get off the bus home",5:"Attend class",6:"Class is over",7:"Toast",bus:"View bus information"},sms:{phone:"Phone Number",vCode:"Enter Verification Code",send:"Send Code",countdown:"Resend({count})"},login:{parents:"PARENTS",teachers:"TEACHERS",account:"User name",accountPlaceholder:"Enter Staff ID",phonePlaceholder:"Enter Phone Number",sign:"Sign in",forget:"Forget Password",usePwd:"Use password to log in",useVCode:"Use SEM verification code to log in",picker:"Choose region"},resetPwd:{title:"Reset Password"},setPwd:{title:"Set Password",tip:"Input 6-18 characters by letters, numbers and symbols",oldPwd:"Old Password",newPwd:"New Password"},bind:{title:"Binding to a Bracelet",tip:"Each bracelet can only bind to one user. Please choose the child to bind.",again:"Please choose anthoer child to bind to.",success:"Bracelet bound successfully!",failure:"Binding failed!",failTip:"Please confirm that hte effective connection distance between the bracelet and the mobile phone is not too far. If it fails several timmes, please contact customer service."},unbind:{title:"Unbind",tip:"You would not receive any data from the bracelet after unbinding."},scan:{title:"Scan Bracelet QR Code",tip:"Please scan the QR code on the bracelet package.",scan:"Scan"},home:{menu:{bracelet:"Bracelet",account:"Account Information",kids:"My Children",password:"Password",setting:"Setting",faq:"FAQ",about:"About",logout:"Exit Login"},toast:{bluetooth:"Please turn on the bluetooth.",bracelet:"No bracelet is bound.",bus:"Click here to associate bus info."},timeline:{title:"Today",empty:"None"},teacher:{level1:"Teacher",level2:"Homeroom Teacher",level3:"Admin",unknown:"Unknown"},attendance:{supplement:"Attendance",arrived:"ARRIVED",belong:"{gradeLevel},{classId}"},parent:{name:"{0} {1} {2}"},staff:{name:"Hi, {name}"},motion:{title:"Motion",tip:"Today's Steps",unit:"Steps"}},history:{title:"Sign -In History",today:"Today",yesterday:"Yesterday"},attendanceType:{teacher:"Teacher",student:"Student"},schoolType:{1:"Lower School",2:"Middle School",3:"Upper School",4:"High School"},attendance:{title:"Attendance",teacher:"Teacher Attendance",student:"Student Attendance",arrived:"ARRIVED",supplement:"Attendance",belong:"{gradeLevel},{classId}",total:"TOTAL",history:"Attendance History"},motion:{title:"Steps",today:"Today",unit:"Step",weekly:"WEEKLY",monthly:"MONTHLY"},bracelet:{bind:"Bind",unbind:"Unbind",retry:"Try Again"},account:{id:"Staff id",relationship:"Relationship",phone:"Phone Number",email:"Email",student:"Student ID",bus:"Bus Student ID"},bus:{tip:"Please fill in bus student ID from the bus company's invoice"},email:{placeholder:"New Email"},setting:{voice:"Voice",notice:"Notice",language:"Language"},mobile:{title:"Phone Number",current:"Current mobile phone number",warning:"When the parents change the phone number, the login account will also change.",tip:"The number can be changed only after unbinding the original mobile phone.",change:"Change",oldPhoneNumber:"Old Phone Number",newPhoneNumber:"New Phone Number",oldEmail:"Old Email",tab:{phone:"PHONE",email:"EMAIL"}},bluetooth:{title:"Connect Bluetooth",tip:"Please turn on Bluetooth on your mobile phone.",iosUp:"Android opens directly,",iosDown:"IOS opens through mobile settings.",how:"How to open it?"},signIn:{title:"Sign-in Information",normal:"Attendance",abnormal:"Absence"},signInType:{1:"Attendance",2:"Manual check-in",3:"On leave"},format:{date:"{week},{month}.{day},{year}",classInfo:"{gradeLevel},{classId}",classInfo2:"{gradeLevel}-{classId}","year-month-day":"{year}-{month}-{day}","year-month":"{month}.{year}","month-day":"{month}.{day}"}},Te={welcome:"歡迎來到加拿大國際學校。",picker:{title:"拾取器"},calendar:{today:"今日"},common:{next:"下一步",save:"Save",cancel:"取消",done:"完成",confirm:"確認",loading:"加載中...",retry:"發生異常，請點擊重試",empty:"暫無數據",pwd:"密碼",open:"打開",teacher:"老師："},state:{unbind:"未綁定",connecting:"",connected:"已連接",unconnected:"未連接"},relationship:{son:"兒子",daughter:"女兒"},pullUp:{loading:"加載中",more:"加載更多",finished:"無更多數據"},pwdErr:{error:"密碼錯誤",tooLong:"密碼至多輸入16個字符",tooShort:"密碼至少需要6個字符",notMatch:"您輸入的密碼不匹配",format:"格式錯誤"},record:{0:"無",1:"抵達學校",2:"離開學校",3:"坐上放學校車",4:"下了放學校車",5:"Attend class",6:"Class is over",7:"Toast",bus:"查看校車信息"},sms:{phone:"手機號碼",vCode:"輸入驗證碼",send:"發送驗證碼",countdown:"重發({count})"},login:{parents:"家長",teachers:"老師",account:"用戶名",accountPlaceholder:"輸入員工ID",phonePlaceholder:"輸入電話號碼",sign:"登入",forget:"忘記密碼",usePwd:"使用密碼登錄",useVCode:"使用驗證碼登錄",picker:"選擇 地區"},resetPwd:{title:"重設密碼"},setPwd:{title:"設置密碼d",tip:"輸入包含字母，數字和符號的6-18個字符",oldPwd:"舊密碼",newPwd:"新密碼"},bind:{title:"綁定手環",tip:"每個手環只能綁定到一個用戶，請選擇要綁定的孩子。",again:"請選擇另一個要綁定的孩子。",success:"手環綁定成功！",failure:"綁定失敗！",failTip:"請確認手環與手機之間的有效連接距離不是太遠。如果多次失敗，請聯繫客服。"},unbind:{title:"解除綁定",tip:"解除綁定後，您再不會從手環中收到任何數據。"},scan:{title:"掃描手環二維碼",tip:"請掃描手環包裝盒上的二維碼。",scan:"掃描"},home:{menu:{bracelet:"手環",account:"賬戶信息",kids:"我的孩子",password:"密碼",setting:"設置",faq:"常見問題",about:"關於",logout:"退出登錄"},toast:{bluetooth:"請打開手機上的藍牙功能。",bracelet:"沒有手環綁定。",bus:"點擊關聯校車信息。"},timeline:{title:"今日",empty:"無 "},teacher:{level1:"老師",level2:"家庭教師",level3:"管理員",unknown:"未知"},attendance:{supplement:"出席",arrived:"到校",belong:"{gradeLevel},{classId}"},parent:{name:"{0} {1} {2}"},staff:{name:"您好, {name}"},motion:{title:"運動",tip:"今日步數",unit:"步"}},history:{title:"簽到歷史",today:"今日",yesterday:"昨日"},attendanceType:{teacher:"老師",student:"學生"},schoolType:{1:"低年級學校",2:"初中",3:"高中",4:"中學"},attendance:{title:"出席",teacher:"老師出席",student:"學生出席",supplement:"出席",arrived:"到校",total:"總計",history:"出勤历史"},motion:{title:"步數",today:"今日",unit:"步",weekly:"本週",monthly:"本月"},bracelet:{bind:"綁定",unbind:"解除綁定",retry:"再試一次"},account:{id:"員工ID",relationship:"關係",phone:"手機號碼",email:"郵箱",student:"學生ID",bus:"校車學生ID"},bus:{tip:"可從校車公司的單據上找出"},email:{placeholder:"新郵箱"},setting:{voice:"聲音",notice:"通知",language:"語言"},mobile:{title:"手機",current:"當前手機號碼",warning:"當更改手機號碼時，登錄賬戶也將修改。",tip:"只有在取消本來手機的綁定後才能更改該號碼",change:"更改",oldPhoneNumber:"舊手機號碼",newPhoneNumber:"新手機號碼",oldEmail:"舊郵箱",tab:{phone:"手機",email:"郵箱"}},bluetooth:{title:"連接藍牙",tip:"請打開手機上的藍牙。",iosUp:"Android可以直接打開，",iosDown:"IOS可通過移動設置打開。",how:"怎麼打開它？"},signIn:{title:"簽到信息",normal:"出席",abnormal:"缺席",state:"状态"},signInType:{1:"出席",2:"人工簽到",3:"請假"},format:{date:"{week},{month}.{day},{year}",classInfo:"{gradeLevel},{classId}",classInfo2:"{gradeLevel}-{classId}","year-month-day":"{year}-{month}-{day}","year-month":"{year}.{month}","month-day":"{month}.{day}"}};s["a"].use(Se["a"]);var Ie={en:{week:{weekday:"short"},month:{month:"short"}},"zh-hk":{week:{weekday:"short"},month:{month:"narrow"}}},Ne=new Se["a"]({locale:window.localStorage.getItem("locale")||"en",dateTimeFormats:Ie,messages:{en:Ce,"zh-hk":Te}}),Pe=Ne,Le={name:"picker",props:{values:{type:Array,require:!0,default:function(){return[]}},index:{type:Number,default:0},title:{type:String,default:function(){return Pe.t("picker.title")}},cancelTxt:{type:String,default:function(){return Pe.t("common.cancel")}},confirmTxt:{type:String,default:function(){return Pe.t("common.done")}},acceleration:{type:Number,default:-.003},radius:{type:Number,default:100},lineHeight:{type:Number,default:34},cycle:{type:Boolean,default:!1}},data:function(){return{isStill:!0,selectedIndex:0}},computed:{length:function(){return this.values.length},scrollValues:function(){return this.values.map(function(e,t){return{value:e,index:t}})},getWrapperStyle:function(){return{height:"".concat(2*this.radius,"px")}},getWheelStyle:function(){return{marginTop:"".concat(this.radius-Math.round(this.lineHeight/2),"px")}},getCoverStyle:function(){return{backgroundSize:"100% ".concat(this.radius-Math.round(this.lineHeight/2),"px")}},getDividerStyle:function(){return{top:"".concat(this.radius-Math.round(this.lineHeight/2),"px"),height:"".concat(this.lineHeight-2,"px")}}},methods:{initWheel:function(){var e=this;this.length>0&&(this.$wheel=new Ae["a"](this.$refs.wrapper,{wheel:{selectedIndex:0,rotate:30,wheelWrapperClass:"c-picker__wheel",wheelItemClass:"c-picker__item"},swipeTime:500,probeType:3}),this.$wheel.wheelTo(this.index),this.$wheel.on("scrollStart",function(){e.isStill=!1}),this.$wheel.on("scrollEnd",function(){e.isStill=!0,e.selectedIndex=e.$wheel.getSelectedIndex(),e.$emit("change",e.selectedIndex)}))},cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm",this.$wheel.getSelectedIndex())}},watch:{values:function(){var e=this;this.$nextTick(function(){e.$wheel?e.$wheel.refresh():e.initWheel()})}},mounted:function(){this.initWheel()},beforeDestory:function(){this.$wheel&&this.$wheel.destroy()}},_e=Le,Me=(a("ac30"),Object(d["a"])(_e,ke,we,!1,null,null,null));Me.options.__file="Picker.vue";var Oe=Me.exports,Re=[],De={name:"area-code",components:{picker:Oe},data:function(){return{isShowPicker:!1,pickerIndex:0,index:0,areas:Re}},computed:{areaCode:function(){return this.areas.length>0?"+".concat(this.areas[this.index].areaCode):""},regins:function(){return this.areas.map(function(e){return"".concat(e.areaName,"(+").concat(e.areaCode,")")})}},methods:{showPicker:function(){this.areas.length>0?this.isShowPicker||(this.isShowPicker=!0):this.$httpPost.request()},pick:function(e){this.pickerIndex=e},cancel:function(){this.pickerIndex=this.index,this.isShowPicker=!1},confirm:function(){this.index=this.pickerIndex,this.notify(),this.isShowPicker=!1},notify:function(){this.$emit("change",this.areas[this.index].areaCode)}},created:function(){var e=this;0===this.areas.length?(this.$httpPost=this.$http.createPost("area/loadAll",{success:function(t){Re=t.data,e.areas=t.data,e.notify()}}),this.$httpPost.request()):this.notify()},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Ee=De,Ge=Object(d["a"])(Ee,ye,be,!1,null,null,null);Ge.options.__file="AreaCode.vue";var je=Ge.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-form-field__button t-adapt-color",class:{"is-active":e.count>0},on:{click:e.send}},[e._v(e._s(e.msg))])},Ue=[],Je={name:"sms",props:{mobile:{type:String},areaCode:{type:String},email:{type:String},mode:{type:Number,default:0}},data:function(){return{count:0}},computed:{msg:function(){return this.count>0?this.$t("sms.countdown",{count:this.count}):this.$t("sms.send")},url:function(){switch(this.mode){case 0:return"common/smscode/send";case 1:return"common/email/send";default:return null}}},methods:{cacnel:function(){-1!==this.timer&&(this.count=0,clearInterval(this.timer),this.timer=-1),this.$httpPost&&this.$httpPost.cancel()},send:function(){var e=this;this.mobile&&this.areaCode&&(!this.$httpPost&&this.url&&(this.$httpPost=this.$http.createPost(this.url,{opts:{sleep:!0},fail:function(){e.count>0&&(e.count=0,clearInterval(e.timer),e.timer=-1)}})),this.$sendCodePost.isWait()&&(this.count=60,this.timer=setInterval(function(){e.count-=1,0===e.count&&(clearInterval(e.timer),e.timer=-1,e.$httpPost.awaken())},1e3),this.$httpPost.request({mobile:this.mobile,areaCode:this.areaCode})))}},watch:{mode:function(){this.cacnel()}},beforeDestroy:function(){this.cacnel()}},Be=Je,qe=Object(d["a"])(Be,xe,Ue,!1,null,null,null);qe.options.__file="Sms.vue";var He=qe.exports,Fe={HOME:0,PARENT:1,STAFF:2},ze={name:"login",components:{formField:ve,areaCode:je,sms:He},data:function(){return{isFirst:!1,showMode:"",mode:Fe.HOME,requestMode:Fe.HOME,signMode:0,areaCode:"",mobile:"",vCode:"",account:"",password:"",error:""}},computed:{isParentMode:function(){return this.mode===Fe.PARENT},isStaffMode:function(){return this.mode===Fe.STAFF},isHomeMode:function(){return this.mode===Fe.HOME},usePwd:function(){return!this.isFirst&&0===this.signMode||this.mode===Fe.STAFF},toggleTip:function(){return this.usePwd?this.$t("login.useVCode"):this.$t("login.usePwd")},mobileVal:function(){return this.areaCode&&this.mobile?this.areaCode+this.mobile:null},isValid:function(){return this.usePwd?(this.isParentMode?this.mobileVal:this.account)&&this.password:this.mobileVal&&this.vCode}},methods:Object(ue["a"])({},Object(m["b"])(["setRuntimeMode"]),{refreshMode:function(){var e=this;this.$nextTick(function(){e.showMode=e.isHomeMode?1:2})},setMode:function(e){switch(e){case"parent":e=Fe.PARENT,this.$httpPost&&this.$httpPost.setUrl("parent/login");break;case"staff":e=Fe.STAFF,this.$httpPost&&this.$httpPost.setUrl("staff/login");break;default:e=Fe.HOME;break}if(this.mode!==e){switch(this.mode){case Fe.PARENT:this.mobile="",this.vCode="",this.password="";break;case Fe.STAFF:this.account="",this.password="";break;default:break}this.stopLogin(),this.mode=e}this.refreshMode()},toggleLoginMode:function(){this.usePwd?this.password="":this.vCode="",this.stopLogin(),this.signMode=0===this.signMode?1:0},stopLogin:function(){this.error="",this.$httpPost&&this.$httpPost.cancel()},toSetPassword:function(e,t){this.$router.push({name:"set-pwd",params:{mode:e,token:t}})},changeRuntimmeMode:function(e){this.setRuntimeMode(e?"boot":"normal")},sign:function(){var e=this;if(this.isValid)switch(this.error="",this.requestMode=this.mode,this.$httpPost||(this.$httpPost=this.$http.createPost(this.isParentMode?"parent/login":"staff/login",{opts:{lock:!0},success:function(t){var a=e.requestMode===Fe.PARENT?"parent":"staff";window.localStorage.setItem("hasLoggedIn","true"),t.data.mode=a,e.$store.dispatch(f,t.data),e.changeRuntimmeMode(1===t.data.isFirstLogin?"boot":"normal"),1===t.data.isFirstLogin?e.toSetPassword(a,t.data.token):e.$router.push({name:"home",params:{mode:a}})},fail:function(t){e.error=t.message}})),this.mode){case Fe.PARENT:this.$httpPost.request({account:this.mobileVal,passCode:this.usePwd?this.password:this.vCode,type:this.usePwd?1:2});break;case Fe.STAFF:this.$httpPost.request({account:this.account,password:this.password});break;default:break}},pick:function(e){this.areaCode=e}}),beforeRouteUpdate:function(e,t,a){this.setMode(e.params.mode),a()},created:function(){var e=this;this.isFirst=!window.localStorage.getItem("hasLoggedIn"),this.$nextTick(function(){e.setMode(e.$route.params.mode)})},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},We=ze,Ze=(a("6ba9"),Object(d["a"])(We,le,de,!1,null,null,null));Ze.options.__file="Login.vue";var Qe=Ze.exports;s["a"].use(ce["a"]);var Ve=new ce["a"]({routes:[{path:"/login/:mode(parent|staff)?",name:"login",component:Qe},{path:"*",redirect:"/login"}]});Ve.beforeEach(function(e,t,a){if(re.state.isLogined){var s=re.state.user.mode;e.meta.mode&&e.meta.mode!==s?!0===e.meta.mode?e.params.mode&&e.params.mode!==s?a({name:e.name,params:Object.assign({},e.params,{mode:s}),replace:!0}):a():a({name:"home",params:{mode:re.state.user.mode},replace:!0}):a()}else e.meta.login?a({name:"login",replace:!0}):a()});var $e=Ve,Ye=!1;s["a"].config.productionTip=Ye,s["a"].config.debug=Ye,s["a"].config.devtools=Ye,s["a"].directive("overflow",{inserted:function(e){e.offsetWidth<=e.parentNode.offsetWidth?e.classList.remove("is-overflow"):e.classList.add("is-overflow")},componentUpdated:function(e){e.offsetWidth<=e.parentNode.offsetWidth?e.classList.remove("is-overflow"):e.classList.add("is-overflow")}}),new s["a"]({store:re,router:$e,i18n:Pe,render:function(e){return e(h)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var s=a("5e27"),o=a.n(s);o.a},"5e27":function(e,t,a){},"6ba9":function(e,t,a){"use strict";var s=a("cabc"),o=a.n(s);o.a},8853:function(e,t,a){},"88a7":function(e,t){e.exports="data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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"},ac30:function(e,t,a){"use strict";var s=a("8853"),o=a.n(s);o.a},cabc:function(e,t,a){}},[[0,"runtime","chunk-vendors"]]]);
//# sourceMappingURL=app.e15929da.js.map