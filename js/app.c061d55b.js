(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(t,e,a){t.exports=a("56d7")},"01cb":function(t,e,a){"use strict";var i=a("c23c"),s=a.n(i);s.a},"03ac":function(t,e,a){},"0553":function(t,e,a){"use strict";var i=a("ca86"),s=a.n(i);s.a},"0ee2":function(t,e,a){},"10e3":function(t,e,a){},1641:function(t,e,a){},1812:function(t,e,a){"use strict";var i=a("4e5c"),s=a.n(i);s.a},"19ee":function(t,e,a){"use strict";var i=a("dd4a"),s=a.n(i);s.a},"1deb":function(t,e,a){},"1df5":function(t,e,a){"use strict";var i=a("f894"),s=a.n(i);s.a},"1f08":function(t,e,a){},"204c":function(t,e,a){"use strict";var i=a("c58e"),s=a.n(i);s.a},2137:function(t,e,a){"use strict";var i=a("36f2"),s=a.n(i);s.a},"28a2":function(t,e,a){"use strict";var i=a("fd2b"),s=a.n(i);s.a},"2b11":function(t,e,a){"use strict";var i=a("1f08"),s=a.n(i);s.a},"36f2":function(t,e,a){},"39b3":function(t,e,a){"use strict";var i=a("718c"),s=a.n(i);s.a},"3a5b":function(t,e,a){},"3b56":function(t,e,a){"use strict";var i=a("0ee2"),s=a.n(i);s.a},"3f8d":function(t,e,a){"use strict";var i=a("4562"),s=a.n(i);s.a},"411c":function(t,e,a){"use strict";var i=a("9abc"),s=a.n(i);s.a},"44bf":function(t,e,a){},4562:function(t,e,a){},"4b84":function(t,e,a){},"4e5c":function(t,e,a){},5374:function(t,e,a){"use strict";var i=a("e2c3"),s=a.n(i);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("ac6a"),a("5df3"),a("cadf"),a("551c"),a("097d"),a("1deb"),a("455b");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view"),t.showMask?i("div",{staticClass:"c-requesting-mask"},[i("div",{staticClass:"c-requesting-mask__wrapper"},[i("img",{attrs:{width:"30",height:"30",src:a("88a7")}}),i("div",{staticClass:"c-requesting-mask__label"},[t._v(t._s(t.$t("loading")))])])]):t._e()],1)},n=[],o="REQUESTING",r="REQUEST_FINISHED",c={name:"app",data:function(){return{showMask:!1,maskId:-1}},created:function(){var t=this;this.$eventBus.$on(o,function(e){t.showMask=!0,t.maskId=e}),this.$eventBus.$on(r,function(e){t.maskId===e&&(t.maskId=-1,t.showMask=!1)})},beforeMount:function(){var t=document.getElementById("loading");t&&document.body.removeChild(t)}},l=c,d=(a("5c0b"),a("2877")),h=Object(d["a"])(l,s,n,!1,null,null,null);h.options.__file="App.vue";var u=h.exports,p=a("ade3"),f=(a("7514"),a("2f62")),m="LOGIN",v="LOGOUT",g=(a("a481"),a("f751"),a("d4ec")),b=a("bee2"),_=a("bc3a"),y=a.n(_),C=a("4328"),w=a.n(C),k=(a("c5f6"),a("3b2b"),a("96eb")),$=a.n(k),S=$.a.Random;function P(t){function e(t,e){window.sessionStorage.setItem(t,JSON.stringify(e))}$.a.mock("".concat(t,"area/loadAll"),"post",{code:200,message:"operate successfully",data:[{id:1,areaName:"香港",areaCode:"852"},{id:2,areaName:"中国大陆",areaCode:"86"},{id:3,areaName:"以色列",areaCode:"972"},{id:4,areaName:"亚洲印度",areaCode:"91"}]}),$.a.mock("".concat(t,"common/smscode/send"),"post",{code:200,message:"operate successfully"}),$.a.mock("".concat(t,"common/email/send"),"post",{code:200,message:"operate successfully"}),$.a.mock("".concat(t,"staff/preModify"),"post",{code:200,message:"operate successfully",data:{token:"d367eadf588d452ba9367a7567b5f029"}}),$.a.mock("".concat(t,"parent/password/modify"),"post",{code:200,message:"operate successfully"}),$.a.mock("".concat(t,"staff/password/reset"),"post",{code:200,message:"operate successfully"});var a=window.sessionStorage.getItem("parent");a?a=JSON.parse(a):(a={token:"4ee4437885254799b1baf6fe6bf6497a",isFirstLogin:1,hasPasswordSetted:0,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",firstName:"Albany",middleName:"Wa Iat",lastName:"Tam",areaCode:"852",mobilePhone:"90984154",email:"Albany@gmail.com",isReceiveNotify:0},e("parent",a)),$.a.mock("".concat(t,"parent/login"),"post",function(){return a.isFirstLogin=0,e("parent",a),{code:200,message:"operate successfully",data:JSON.parse(JSON.stringify(a))}}),$.a.mock("".concat(t,"parent/info"),"post",{code:200,message:"operate successfully",data:JSON.parse(JSON.stringify(a))}),$.a.mock("".concat(t,"parent/password/reset"),"post",function(){return a.hasPasswordSetted=1,e("parent",a),{code:200,message:"operate successfully"}});var i=window.sessionStorage.getItem("teacher");i?i=JSON.parse(i):(i={token:"d367eadf588d452ba9367a7567b5f029",isFirstLogin:1,hasPasswordSetted:0,id:321,legacyId:"91985",headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/5836cc0dcf204c228f9973670a2ca4e1",userName:"yukiko.wong",roles:3,braceletOfBinding:0,"steps|100-100000":0,areaCode:"852",mobilePhone:"4555477",email:"yukiko.wong@gmail.com",braceletMac:"DC8A7832D39F",busstudentId:S.integer(10,500),isReceiveNotify:0},e("teacher",i)),$.a.mock("".concat(t,"staff/login"),"post",function(){return i.isFirstLogin=0,e("teacher",i),{code:200,message:"operate successfully",data:i}}),$.a.mock("".concat(t,"staff/info"),"post",{code:200,message:"operate successfully",data:i}),$.a.mock("".concat(t,"staff/password/modify"),"post",function(){return i.hasPasswordSetted=1,e("teacher",i),{code:200,message:"operate successfully"}});var s,n=window.sessionStorage.getItem("kids");function o(t,e){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return t}n?n=JSON.parse(n):(n=[{id:467,studentId:"467",firstName:"Bryan",middleName:"Chun Kit",lastName:"Tam",heartRate:89,"steps|100-100000":0,headTeacherFirstName:"Gregg",headTeacherLastName:"Lee",headTeacherUserName:"gregg.lee",gradeLevel:"Grade 10",classId:"10B",braceletOfBinding:0,relationship:1,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busstudentId:S.integer(10,500)},{id:1170,studentId:"1401677",firstName:"Cayden",middleName:"Chun Ting",lastName:"Angelia","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:1,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",braceletMac:"DC7D7832D39F"},{id:11720,studentId:"1401676",firstName:"Cayden",middleName:"Chun Ting",lastName:"Alisa","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52"},{id:11730,studentId:"1401675",firstName:"Cayden",middleName:"Chun Ting",lastName:"Jay","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:1,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busstudentId:S.integer(10,500)},{id:11740,studentId:"1401674",firstName:"Cayden",middleName:"Chun Ting",lastName:"DaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisyDaisy","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:1,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busstudentId:S.integer(10,500),braceletMac:"DC7D783DD39F"},{id:11570,studentId:"1401671",firstName:"Cayden",middleName:"Chun Ting",lastName:"June","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busstudentId:S.integer(10,500)},{id:11970,studentId:"1401672",firstName:"Cayden",middleName:"Chun Ting",lastName:"Allen","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:1,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52"},{id:12570,studentId:"1401673",firstName:"Cayden",middleName:"Chun Ting",lastName:"Krystal","steps|100-100000":0,headTeacherFirstName:"Alexandra",headTeacherMiddleName:"Michelle Louise",headTeacherLastName:"Rauland",headTeacherUserName:"sasha.rauland",gradeLevel:"Grade 3",classId:"3C",braceletOfBinding:0,relationship:2,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/f2fd310c51684343857c02511d5abb52",busstudentId:S.integer(10,500)}],e("kids",n)),$.a.mock("".concat(t,"parent/children"),"post",{code:200,message:"operate successfully",data:JSON.parse(JSON.stringify(n))}),$.a.mock("".concat(t,"parent/bracelet/bind"),"post",function(t){var a=w.a.parse(t.body),i=S.integer(200,201),s=t.idStudent;if(200===i){var o=n.find(function(t){return t.studentId===s});o&&(o.braceletOfBinding=1,o.braceletMac=a.macAddress,e("kids",n))}return{code:i,message:200===i?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"parent/bracelet/unbind"),"post",function(t){var a=w.a.parse(t.body),i=S.integer(200,201),s=a.idStudent;if(200===i){var o=n.find(function(t){return t.studentId===s});o&&(o.braceletOfBinding=0,o.braceletMac="",e("kids",n))}return{code:i,message:200===i?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/bracelet/bind"),"post",function(t){var a=w.a.parse(t.body),s=S.integer(200,201);return 200===s&&(i.braceletOfBinding=1,i.braceletMac=a.macAddress,e("teacher",i)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/bracelet/unbind"),"post",function(){var t=S.integer(200,201);return 200===t&&(i.braceletOfBinding=0,i.braceletMac="",e("teacher",i)),{code:t,message:200===t?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"parent/child/signinrecord"),"post",function(t){var e=w.a.parse(t.body),a=Number(e.page);1===a&&(s=Date.now());var i=a-1,n=[];if(i<=5)for(var r,c=Number(e.pageSize),l=1,d=0;d<c;d++)r=new Date(s),r.setHours(r.getHours()-i*c*l-d*l),n.push({checkTimeStr:o("yyyy-MM-dd hh:mm:ss",r),checkTime:r.getTime(),type:0===d?3:S.integer(1,7),checkDetailId:S.string("number",5)});return{code:200,message:"operate successfully",data:n}}),$.a.mock("".concat(t,"staff/signinrecord"),"post",function(t){var e=w.a.parse(t.body),a=Number(e.page);1===a&&(s=Date.now());var i=a-1,n=[];if(i<=5)for(var r,c=Number(e.pageSize),l=1,d=0;d<c;d++)r=new Date(s),r.setHours(r.getHours()-i*c*l-d*l),n.push({checkTimeStr:o("yyyy-MM-dd hh:mm:ss",r),checkTime:r.getTime(),type:S.integer(1,7),checkDetailId:S.string("number",5)});return{code:200,message:"operate successfully",data:n}});var r=0,c=[];function l(){60===r?(c=[],r=0):r+=1;var t=0===r?null:c[c.length-1];return c.push({latitude:(t?t.latitude:39.91071)+S.integer(-20,30)/1e6,longitude:(t?t.longitude:116.3187)+S.integer(-20,30)/1e5,gpsTime:Date.now()}),{code:200,message:"operate successfully",data:{plateNo:"PD6037",routeNo:"001",boardingTime:1544140821e3,boardingTimeStr:"08:00:21",unloadingTime:1544168627e3,unloadingTimeStr:"15:43:47",tripGps:c}}}$.a.mock("".concat(t,"parent/child/bustrip"),"post",l),$.a.mock("".concat(t,"staff/bustrip"),"post",l),$.a.mock("".concat(t,"parent/child/stepstate"),"post",function(t){for(var e,a=w.a.parse(t.body),i=Date.now(),s=[],n=1===Number(a.type)?7:(new Date).getDate(),r=24,c=0;c<n;c++)e=new Date(i),e.setHours(e.getHours()-c*r),s.push({sportDateStr:o("yyyy-MM-dd",e),sportDate:e.getTime(),steps:S.integer(100,2e4)});return{code:200,message:"operate successfully",data:s}}),$.a.mock("".concat(t,"staff/stepsstat"),"post",function(t){for(var e,a=w.a.parse(t.body),i=Date.now(),s=[],n=1===Number(a.type)?7:(new Date).getDate(),r=24,c=0;c<n;c++)e=new Date(i),e.setHours(e.getHours()-c*r),s.push({sportDateStr:o("yyyy-MM-dd",e),sportDate:e.getTime(),steps:S.integer(100,2e4)});return{code:200,message:"operate successfully",data:s}}),$.a.mock("".concat(t,"parent/child/sport"),"post",{code:200,message:"operate successfully",data:{"steps|100-20000":6520,heartRate:89}}),$.a.mock("".concat(t,"staff/sport"),"post",{code:200,message:"operate successfully",data:{"steps|100-20000":6520,heartRate:89}}),$.a.mock("".concat(t,"parent/child/modifyBSSId"),"post",function(t){var a=w.a.parse(t.body),i=S.integer(200,201),s=a.idStudent;if(200===i){var o=n.find(function(t){return t.studentId===s});o&&(o.busstudentId=a.BSSId,e("kids",n))}return{code:i,message:200===i?"operate successfully":"operate failed"}});var d={};$.a.mock("".concat(t,"common/pic/upload"),"post",function(t){var a=200,s=new FileReader,o=window.URL.createObjectURL(t.body);return d[o]={load:!0},s.onload=function(t){d[o].load=!1;var a=t.target||t.srcElement;d[o].child?(d[o].child.headUrl=t.picImgPath,e("kids",n),delete d[o]):d[o].teacher?(d[o].teacher.headUrl=t.picImgPath,e("teacher",i),delete d[o]):d[o].img=a.result},s.readAsDataURL(t.body),{code:a,message:200===a?"operate successfully":"operate failed",data:{attachmentId:S.integer(1,999),realPath:o}}}),$.a.mock("".concat(t,"parent/child/modifyPic"),"post",function(t){var a=w.a.parse(t.body),i=200,s=a.idStudent;if(200===i){var o=n.find(function(t){return t.studentId===s});o&&d[a.picImgPath]&&(d[a.picImgPath].load?d[a.picImgPath].child=o:(o.headUrl=d[a.picImgPath].img,e("kids",n),delete d[a.picImgPath]))}return{code:i,message:200===i?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/pic/modify"),"post",function(t){var a=w.a.parse(t.body),s=200;return 200===s&&d[a.picImgPath]&&(d[a.picImgPath].load?d[a.picImgPath].teacher=i:(i.headUrl=d[a.picImgPath].img,e("teacher",i),delete d[a.picImgPath])),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"parent/emali/modify"),"post",function(t){var i=w.a.parse(t.body),s=200;return 200===s&&(a.email=i.email,e("parent",a)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/emali/modify"),"post",function(t){var a=w.a.parse(t.body),s=200;return 200===s&&(i.email=a.email,e("teacher",i)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"parent/mobile/modify"),"post",function(t){var i=w.a.parse(t.body),s=200;return 200===s&&(a.mobile=i.mobile,e("parent",a)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/mobile/modify"),"post",function(t){var a=w.a.parse(t.body),s=200;return 200===s&&(i.mobile=a.mobile,e("teacher",i)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/mobile/checkvcode"),"post",{code:200,message:"operate successfully",data:{token:"d367eadf588d452ba9367a7567b5f029"}}),$.a.mock("".concat(t,"staff/email/checkvcode"),"post",{code:200,message:"operate successfully",data:{token:"d367eadf588d452ba9367a7567b5f029"}}),$.a.mock("".concat(t,"admin/dashboard"),"post",{code:200,message:"operate successfully",data:{staffTotal:304,"arrivedStaffTotal|0-304":0,studentTotal:1793,"arrivedStudentTotal|0-1793":0}});var h=[{idSchoolLevel:1,schoolLevel:"Middle School",staffSchoolLevelTotal:100,"arrivedStaffSchoolLevelTotal|0-100":0},{idSchoolLevel:2,schoolLevel:"Lower School",staffSchoolLevelTotal:100,"arrivedStaffSchoolLevelTotal|0-100":0},{idSchoolLevel:3,schoolLevel:"High School",staffSchoolLevelTotal:104,"arrivedStaffSchoolLevelTotal|0-104":0}];$.a.mock("".concat(t,"admin/teacher/attendance"),"post",{code:200,message:"operate successfully",data:{staffTotal:304,"arrivedStaffTotal|0-304":0,staffStat:h}}),$.a.mock("".concat(t,"admin/schoollevel/staff/attendancedetail"),"post",function(t){var e=w.a.parse(t.body),a=Number(e.idSchoolLevel),i=h.find(function(t){return t.idSchoolLevel===a});return{code:200,message:"operate successfully",data:{idSchoolLevel:i&&i.idSchoolLevel||-1,schoolLevelName:i&&i.schoolLevel||"",staffSchoolLevelTotal:i?i.staffSchoolLevelTotal:0,arrivedStaffSchoolLevelTotal:i?void 0!==i.arrivedStaffSchoolLevelTotal?i.arrivedStaffSchoolLevelTotal:S.integer(0,i.staffSchoolLevelTotal):0,staffAttendanceInfoList:[{idStaff:311371,firstName:"Tara",middleName:"",lastName:"Mahtani",gender:"Male",status:1},{idStaff:311372,firstName:"Joshua",middleName:"",lastName:"Cheung",gender:"Female",status:2,isManual:0},{idStaff:311373,firstName:"Uma",middleName:"",lastName:"Chellaram",gender:"Male",status:2,isManual:1},{idStaff:311374,firstName:"Maximilian",middleName:"",lastName:"Grout",gender:"Female",status:3},{idStaff:311375,firstName:"Aton",middleName:"",lastName:"Mou",gender:"Female",status:4}]}}}),$.a.mock("".concat(t,"admin/student/schoollevel/attendance"),"post",{code:200,message:"operate successfully",data:{studentTotal:1793,"arrivedStudentTotal|0-1793":0,studentStat:[{idSchoolLevel:1,schoolLevel:"Middle School",studentSchoolLevelTotal:600,"arrivedStudentSchoolLevelTotal|0-600":0},{idSchoolLevel:2,schoolLevel:"Lower School",studentSchoolLevelTotal:595,"arrivedStudentSchoolLevelTotal|0-595":0},{idSchoolLevel:3,schoolLevel:"High School",studentSchoolLevelTotal:598,"arrivedStudentSchoolLevelTotal|0-598":0}]}});var u=[{idGrade:1,gradeLevel:"Grade 1",studentGradeTotal:129,"arrivedStudentGradeTotal|0-129":0},{idGrade:2,gradeLevel:"Grade 2",studentGradeTotal:130,"arrivedStudentGradeTotal|0-130":0},{idGrade:3,gradeLevel:"Grade 3",studentGradeTotal:136,"arrivedStudentGradeTotal|0-136":0},{idGrade:4,gradeLevel:"Grade 4",studentGradeTotal:137,"arrivedStudentGradeTotal|0-137":0},{idGrade:5,gradeLevel:"Grade 5",studentGradeTotal:138,"arrivedStudentGradeTotal|0-138":0},{idGrade:5,gradeLevel:"Grade 6",studentGradeTotal:137,"arrivedStudentGradeTotal|0-137":0},{idGrade:13,gradeLevel:"Prep",studentGradeTotal:120,"arrivedStudentGradeTotal|0-120":0},{idGrade:14,gradeLevel:"Rec",studentGradeTotal:128,"arrivedStudentGradeTotal|0-128":0}];$.a.mock("".concat(t,"admin/student/grade/attendance"),"post",{code:200,message:"operate successfully",data:{studentSchoolLevelTotal:1055,"arrivedStudentSchoolLevelTotal|0-1055":0,gradeStudentStat:u}});var p=[{idClass:820,classId:"1A",studentClassTotal:24},{idClass:821,classId:"1B",studentClassTotal:23},{idClass:822,classId:"1C",studentClassTotal:24},{idClass:823,classId:"1D",studentClassTotal:24},{idClass:824,classId:"1E",studentClassTotal:24}];$.a.mock("".concat(t,"admin/student/class/attendance"),"post",function(t){var e=w.a.parse(t.body),a=Number(e.idGrade),i=u.find(function(t){return t.idGrade===a}),s=i?i.gradeLevel:"";return{code:200,message:"operate successfully",data:{studentGradeTotal:119,arrivedStudentGradeTotal:S.integer(0,119),classStudentStat:p.map(function(t){return t.gradeLevel=s,t.arrivedStudentClassTotal=S.integer(0,t.studentClassTotal),t})}}}),$.a.mock("".concat(t,"admin/class/studentattendance"),"post",function(t){var e=w.a.parse(t.body),a=Number(e.idClass),i=p.find(function(t){return t.idClass===a});return{code:200,message:"operate successfully",data:{idClass:i&&i.idClass||-1,classId:i&&i.classId||"1A",gradeLevel:i&&i.gradeLevel||"Grade 1",studentClassTotal:i?i.studentClassTotal:0,arrivedStudentClassTotal:i?void 0!==i.arrivedStudentClassTotal?i.arrivedStudentClassTotal:S.integer(0,i.studentClassTotal):0,studentAttendanceInfo:[{idStudent:11371,firstName:"Tara",middleName:"",lastName:"Mahtani",status:1},{idStudent:11372,firstName:"Joshua",middleName:"",lastName:"Cheung",status:2,isManual:0},{idStudent:11373,firstName:"Uma",middleName:"",lastName:"Chellaram",status:2,isManual:1},{idStudent:11374,firstName:"Maximilian",middleName:"",lastName:"Grout",status:3},{idStudent:11375,firstName:"Aton",middleName:"",lastName:"Mou",status:4}]}}}),$.a.mock("".concat(t,"teacher/class/studentattendance"),"post",function(t){var e=w.a.parse(t.body),a=Number(e.idClass),i=p.find(function(t){return t.idClass===a});return{code:200,message:"operate successfully",data:{idClass:i&&i.idClass||-1,classId:i&&i.classId||"1A",gradeLevel:i&&i.gradeLevel||"Grade 1",studentClassTotal:i?i.studentClassTotal:0,arrivedStudentClassTotal:i?void 0!==i.arrivedStudentClassTotal?i.arrivedStudentClassTotal:S.integer(0,i.studentClassTotal):0,studentAttendanceInfo:[{idStudent:11371,firstName:"Tara",middleName:"",lastName:"Mahtani",status:0},{idStudent:11372,firstName:"Joshua",middleName:"",lastName:"Cheung",status:1},{idStudent:11373,firstName:"Uma",middleName:"",lastName:"Chellaram",status:2},{idStudent:11374,firstName:"Maximilian",middleName:"",lastName:"Grout",status:3},{idStudent:11375,firstName:"Aton",middleName:"",lastName:"Mou",status:3}]}}}),$.a.mock("".concat(t,"teacher/class/studentstat"),"post",{code:200,message:"operate successfully",data:{idClass:820,classId:"1A",gradeLevel:"Grade 1",studentClassTotal:24,"arrivedStudentClassTotal|0-24":0}}),$.a.mock("".concat(t,"teacher/student/info"),"post",{code:200,message:"operate successfully",data:{idStudent:1137,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/5836cc0dcf204c228f9973670a2ca4e1",firstName:"Tara",middleName:"",lastName:"Mahtani",parentMobile:"66854149",parentEmail:"Dheeraj.Mahtani@cdnis.edu.hk","accReachCount|0-50":0,"accAbsenceCount|0-10":0}}),$.a.mock("".concat(t,"admin/staff/info"),"post",{code:200,message:"operate successfully",data:{idStaff:300001220,headUrl:"http://huayue-ncyx.oss-cn-zhangjiakou.aliyuncs.com/banner/5836cc0dcf204c228f9973670a2ca4e1",firstName:"Tara",middleName:"",lastName:"Mahtani",email:"Dheeraj.Mahtani@cdnis.edu.hk","accReachCount|0-50":0,"accAbsenceCount|0-10":0}}),$.a.mock("".concat(t,"teacher/student/signin"),"post",{"code|200-201":200,message:"operate successfully"}),$.a.mock("".concat(t,"admin/staff/signin"),"post",{"code|200-201":200,message:"operate successfully"}),$.a.mock("".concat(t,"teacher/student/history/attendance"),"post",function(t){var e=w.a.parse(t.body),a=Number(e.page),i=Number(e.checkType);1===a&&(s=Date.now());var n=a-1,r=[];if(n<=5)for(var c,l=Number(e.pageSize),d=24,h=0;h<l;h++)c=new Date(s),c.setHours(c.getHours()-n*l*d-h*d),r.push({checkTimeStr:o("yyyy-MM-dd hh:mm:ss",c),checkTime:c.getTime(),isManual:3===i?0:S.integer(0,1)});return{code:200,message:"operate successfully",data:r}}),$.a.mock("".concat(t,"admin/staff/history/attendance"),"post",function(t){var e=w.a.parse(t.body),a=Number(e.page),i=Number(e.checkType);1===a&&(s=Date.now());var n=a-1,r=[];if(n<=5)for(var c,l=Number(e.pageSize),d=24,h=0;h<l;h++)c=new Date(s),c.setHours(c.getHours()-n*l*d-h*d),r.push({checkTimeStr:o("yyyy-MM-dd hh:mm:ss",c),checkTime:c.getTime(),isManual:3===i?0:S.integer(0,1)});return{code:200,message:"operate successfully",data:r}}),$.a.mock("".concat(t,"parent/email/modify"),"post",function(t){var i=w.a.parse(t.body),s=200;return 200===s&&(a.email=i.email,e("parent",a)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/email/modify"),"post",function(t){var a=w.a.parse(t.body),s=200;return 200===s&&(i.email=a.email,e("teacher",i)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"parent/notify/receive"),"post",function(t){var i=w.a.parse(t.body),s=200;return 200===s&&(a.isReceiveNotify=Number(i.isReceiveNotify),e("parent",a)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/notify/receive"),"post",function(t){var a=w.a.parse(t.body),s=200;return 200===s&&(i.isReceiveNotify=Number(a.isReceiveNotify),e("teacher",i)),{code:s,message:200===s?"operate successfully":"operate failed"}}),$.a.mock("".concat(t,"staff/notify/receive"),"post",function(t){var a=w.a.parse(t.body),s=200;return 200===s&&(i.isReceiveNotify=Number(a.isReceiveNotify),e("teacher",i)),{code:s,message:200===s?"operate successfully":"operate failed"}})}$.a.setup({timeout:"100-500"});var T={addIntercept:P,random:S},A=!1,x=!1,I="https://srdz.feixianggame.com/icapp/",D=null,O="false",E=null;function M(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;setTimeout(function(){t(e)},a)}function N(t,e){window[D]&&window[D](JSON.stringify({type:t,data:e}))}function L(t,e,a){switch(t){case"getNativeOS":a("ios");break;case"getNativeAPPVer":a("1.0.1");break;case"isBluetoothOpen":a(O);break;case"openSysSetting":a(O="true"),N(102);break;case"scanQRCode":M(a,JSON.stringify({type:1,message:"G1MW99301825C#".concat(T.random.string("upper",12),"#42C89500")}));break;case"ringUp":B("will call ".concat(e.phoneNumber));break;case"isBraceletConnected":M(a,JSON.stringify(E?{type:!0,mac:E}:{type:!1}));break;case"disConnectBracelet":E=null,M(a,"true");break;case"connectBracelet":E=e.mac,M(a,"true");break;default:break}}setTimeout(function(){!window.JsNativeApi.isReady&&window.WVJBCallbacks&&window.WVJBCallbacks[0]({registerHandler:function(t){D=t},callHandler:L})},5e3),A&&(I="/"),x&&T.addIntercept(I);var j={log:B,base_url:I,timeout:15e3},U=null,H=!1;function B(t){if("undefined"!==typeof window.console&&console.log&&console.log(t),!U){var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.bottom="0px",e.style.left="-60%",e.style.width="60%",e.style.fontSize="12px",e.style.color="rgb(255, 0, 0)",e.style.backgroundColor="rgba(0, 0, 0, 0.3)",U=document.createElement("div"),U.style.position="absolute",U.style.top="0px",U.style.bottom="0px",U.style.left="0px",U.style.right="0px",U.style.overflow="auto",U.style.fontSize="12px",U.style.wordBreak="break-all",U.style.backgroundColor="rgba(0, 0, 0, 0.3)",e.appendChild(U);var a=document.createElement("div");a.style.position="absolute",a.style.bottom="0px",a.style.right="-30px",a.style.width="30px",a.style.height="30px",a.style.backgroundColor="rgb(255, 0, 0)",a.style.borderTopRightRadius="100%",a.onclick=function(){H=!H,e.style.left=H?"0px":"-60%"},e.appendChild(a),document.body.appendChild(e)}var i=document.createElement("div");i.innerHTML="".concat(t,"</br>----------"),U.insertBefore(i,U.childNodes[0])}a("7f7f");var F=a("8c4f"),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-login"},[a("div",{staticClass:"l-form p-login__wrapper t-white",class:{"p-login__wrapper--logo":t.isHomeMode,"p-login__wrapper--sign":!t.isHomeMode}},[a("transition",{attrs:{name:"move-up",mode:"out-in"}},[1===t.showMode?a("div",{key:"login",staticClass:"p-login__content p-login__content--login"},[a("div",{staticClass:"p-login__1st p-login__logo"},[a("div",{staticClass:"p-login__logo_icon"})]),a("div",{staticClass:"p-login__2nd p-login__school"},[t._v("C D N I S")]),a("div",{staticClass:"p-login__3rd p-login__tip"},[t._v(t._s(t.$t("welcome")))]),a("router-link",{staticClass:"p-login__4th p-login__button",attrs:{to:{params:{mode:"parent"}},replace:""}},[t._v(t._s(t.$t("login.sign")))])],1):t._e(),2===t.showMode?a("div",{key:"sign",staticClass:"p-login__content p-login__content--sign"},[a("div",{staticClass:"p-login__1st p-login__header"},[a("router-link",{staticClass:"p-login__back",attrs:{to:{name:"login"},replace:""}})],1),a("div",{staticClass:"p-login__1st p-login__nav"},[a("router-link",{staticClass:"o-fixed-tab--white",class:{"is-active":t.isParentMode},attrs:{to:{params:{mode:"parent"}},replace:""}},[t._v(t._s(t.$t("login.parents")))]),a("router-link",{staticClass:"o-fixed-tab--white",class:{"is-active":t.isStaffMode},attrs:{to:{params:{mode:"staff"}},replace:""}},[t._v(t._s(t.$t("login.teachers")))])],1),t.isStaffMode?a("div",[a("form-field",{staticClass:"p-login__2nd",attrs:{label:t.$t("login.account"),placeholder:t.$t("login.accountPlaceholder")},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),a("form-field",{staticClass:"p-login__3rd",attrs:{type:"password",label:t.$t("common.pwd")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):a("div",[a("form-field",{staticClass:"p-login__2nd c-form-field--select",attrs:{label:t.$t("sms.phone"),placeholder:t.$t("login.phonePlaceholder")},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}},[a("area-code",{on:{change:t.pick}})],1),t.usePwd?a("form-field",{staticClass:"p-login__3rd",attrs:{type:"password",label:t.$t("common.pwd")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}):a("form-field",{staticClass:"p-login__3rd c-form-field--button",attrs:{label:t.$t("sms.vCode")},model:{value:t.vCode,callback:function(e){t.vCode=e},expression:"vCode"}},[a("sms",{attrs:{mobile:t.mobile,areaCode:t.areaCode}})],1)],1),a("div",{staticClass:"p-login__4th u-clearfix"},[a("div",{staticClass:"o-button o-button--submit",class:{"is-active":t.isValid},on:{click:t.sign}},[t._v(t._s(t.$t("login.sign")))])]),a("div",{staticClass:"p-login__soon p-login__error"},[t._v(t._s(t.error))]),t.isParentMode?a("div",{staticClass:"p-login__4th u-align-c p-login__toggle-tip"},[a("div",{staticClass:"u-underline",on:{click:t.toggleLoginMode}},[t._v(t._s(t.toggleTip))])]):t._e()]):t._e()])],1)])},W=[],q=a("be94"),G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-form-field",class:{"is-invalid":!!t.error,"is-active":t.isFocused}},[a("div",{staticClass:"c-form-field__label"},[t._v(t._s(t.label))]),a("div",{staticClass:"c-form-field__input_wrapper"},[a("input",{staticClass:"c-form-field__input",attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)},focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1}}}),t._t("default")],2),a("div",{staticClass:"c-form-field__tip"},[t._v(t._s(t.text))])])},V=[],z={name:"form-field",props:{type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},error:{type:String,default:""},tip:{type:String,default:""},value:{type:String,default:""}},data:function(){return{isFocused:!1}},computed:{text:function(){return this.error||this.tip}}},Y=z,J=Object(d["a"])(Y,G,V,!1,null,null,null);J.options.__file="FormField.vue";var Z=J.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-form-field__button",class:{"is-active":t.isShowPicker},on:{click:t.showPicker}},[t._v("\n  "+t._s(t.areaCode)+"\n  "),t.isShowPicker?a("picker",{attrs:{values:t.regins,index:t.pickerIndex,title:t.$t("login.picker")},on:{change:t.pick,cancel:t.cancel,confirm:t.confirm}}):t._e()],1)},X=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-picker",class:{"is-still":t.isStill},on:{click:t.cancel}},[a("div",{staticClass:"c-picker__wrapper",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"c-picker__choose"},[a("span",{staticClass:"c-picker__cancel",on:{click:t.cancel}},[t._v(t._s(t.cancelTxt))]),a("span",{staticClass:"c-picker__confirm",on:{click:t.confirm}},[t._v(t._s(t.confirmTxt))]),a("div",{staticClass:"c-picker__title",on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.title))])]),a("div",{ref:"wrapper",staticClass:"c-picker__wheel_wrapper",style:t.getWrapperStyle},[a("ul",{ref:"wheel",staticClass:"c-picker__wheel",style:t.getWheelStyle},[t._t("default",t._l(t.scrollValues,function(e,i){return a("li",{key:i,staticClass:"c-picker__item",class:{"is-active":t.selectedIndex===i}},[t._v("\n            "+t._s(e.value)+"\n          ")])}))],2),a("div",{staticClass:"c-picker__divider",style:t.getDividerStyle}),a("div",{staticClass:"c-picker__cover",style:t.getCoverStyle})])])])},tt=[],et=a("1fba"),at=a("a925"),it={welcome:"Welcome to the Canadian International School of Hong Kong",loading:"Loading",picker:{title:"Picker"},calendar:{today:"Today"},common:{next:"Next",save:"Save",cancel:"Cancel",done:"Done",confirm:"Confirm",loading:"loading...",retry:"Abnormal, click Retry",empty:"No Data",pwd:"Password",open:"Open",teacher:"Teacher: "},state:{unbind:"Not Bound",connecting:"",connected:"Connected",unconnected:"Not Connected"},relationship:{son:"Son",daughter:"Daughter",father:"Father",mother:"Mother"},pullUp:{loading:"Pull Up Loading",more:"Load More",finished:"No More Data"},pwdErr:{error:"Password error",tooLong:"Password requires at most 18 characters",tooShort:"Password requires at lease 6 characters",notMatch:"The password you typed do not match",format:"The password include illegal characters",simple:"The password is too simple"},record:{0:"None",1:"Arrived at school",2:"Leave school",3:"On the bus school",4:"get off the bus school",5:"On the bus home",6:"get off the bus home",7:"Arrive",8:"Leave",9:"Mobile check-in",bus:"View bus information"},staffLevel:{teacher:"Teacher",headTeacher:"Homeroom Teacher",admin:"Admin",unknown:"Unknown"},sms:{phone:"Phone Number",vCode:"Enter Verification Code",send:"Send Code",countdown:"Resend({count})"},login:{parents:"PARENTS",teachers:"TEACHERS",account:"User name",accountPlaceholder:"Enter Staff ID",phonePlaceholder:"Enter Phone Number",sign:"Sign in",forget:"Forget Password",usePwd:"Use password to log in",useVCode:"Use SEM verification code to log in",picker:"Choose region"},resetPwd:{title:"Reset Password"},setPwd:{title:"Set Password",tip:"Input 6-18 characters by letters, numbers and symbols",oldPwd:"Old Password",newPwd:"New Password"},bind:{title:"Binding to a Bracelet",tip:"Each bracelet can only bind to one user. Please choose the child to bind.",again:"Please choose anthoer child to bind to.",success:"Bracelet bound successfully!",failure:"Binding failed!",failTip:"Please confirm that hte effective connection distance between the bracelet and the mobile phone is not too far. If it fails several timmes, please contact customer service."},unbind:{title:"Unbind",tip:"You would not receive any data from the bracelet after unbinding."},scan:{title:"Scan Bracelet QR Code",tip:"Please scan the QR code on the bracelet package.",scan:"Scan"},home:{menu:{bracelet:"Bracelet",account:"Account Information",kids:"My Children",password:"Password",setting:"Setting",faq:"FAQ",about:"About",logout:"Exit Login"},toast:{bluetooth:"Please turn on the bluetooth.",bracelet:"No bracelet is bound.",bus:"Click here to associate bus info."},timeline:{title:"Today",empty:"None"},attendance:{supplement:"Attendance",arrived:"ARRIVED",belong:"{gradeLevel},{classId}"},parent:{name:"{0} {1} {2}"},staff:{name:"Hi, {name}"},motion:{title:"Motion",tip:"Today's Steps",unit:"Steps"}},history:{title:"Sign -In History",today:"Today",yesterday:"Yesterday"},attendanceType:{teacher:"Teacher",student:"Student"},schoolType:{1:"Lower School",2:"Middle School",3:"Upper School",4:"High School"},attendance:{title:"Attendance",teacher:"Teacher Attendance",student:"Student Attendance",arrived:"ARRIVED",supplement:"Attendance",belong:"{gradeLevel},{classId}",total:"TOTAL",history:"Attendance History"},motion:{title:"Steps",today:"Today",unit:"Step",weekly:"WEEKLY",monthly:"MONTHLY"},bracelet:{bind:"Bind",unbind:"Unbind",retry:"Try Again"},account:{id:"Staff id",relationship:"Relationship",phone:"Phone Number",email:"Email",student:"Student ID",bus:"Bus Student ID"},bus:{tip:"Please fill in bus student ID from the bus company's invoice"},email:{label:"New Email",formatErr:"Email format error",notMatch:"The email you typed do not match"},setting:{voice:"Voice",notice:"Notice",language:"Language"},mobile:{title:"Phone Number",current:"Current mobile phone number",warning:"When the parents change the phone number, the login account will also change.",tip:"The number can be changed only after unbinding the original mobile phone.",change:"Change",oldPhoneNumber:"Old Phone Number",newPhoneNumber:"New Phone Number",oldEmail:"Old Email",tab:{phone:"PHONE",email:"EMAIL"},notMatch:"The mobile phone number you typed do not match"},bluetooth:{title:"Connect Bluetooth",tip:"Please turn on Bluetooth on your mobile phone.",iosUp:"Android opens directly,",iosDown:"IOS opens through mobile settings.",how:"How to open it?"},signIn:{title:"Sign-in Information",normal:"Attendance",abnormal:"Absence"},signInType:{1:"Attendance",2:"Manual check-in",3:"On leave"},format:{date:"{week},{month}.{day},{year}",classInfo:"{gradeLevel},{classId}",classInfo2:"{gradeLevel}-{classId}","year-month-day":"{year}-{month}-{day}","year-month":"{month}.{year}","month-day":"{month}.{day}"},busMap:{title:"Bus Information",boarding:"Boarding Time",unloading:"Unloading Time"},about:{app:"Smart School",version:"Version"}},st={welcome:"歡迎來到加拿大國際學校。",loading:"加載中",picker:{title:"拾取器"},calendar:{today:"今日"},common:{next:"下一步",save:"Save",cancel:"取消",done:"完成",confirm:"確認",loading:"加載中...",retry:"發生異常，請點擊重試",empty:"暫無數據",pwd:"密碼",open:"打開",teacher:"老師："},state:{unbind:"未綁定",connecting:"",connected:"已連接",unconnected:"未連接"},relationship:{son:"兒子",daughter:"女兒",father:"父親",mother:"母親"},pullUp:{loading:"加載中",more:"加載更多",finished:"無更多數據"},pwdErr:{error:"密碼錯誤",tooLong:"密碼至多輸入18個字符",tooShort:"密碼至少需要6個字符",notMatch:"您輸入的密碼不匹配",format:"密碼包含非法字符",simple:"密碼過於簡單"},record:{0:"無",1:"抵達學校",2:"離開學校",3:"坐上上學校車",4:"下了上學校車",5:"坐上放學校車",6:"下了放學校車",7:"到達",8:"離開",9:"移動簽到",bus:"查看校車信息"},staffLevel:{teacher:"老師",headTeacher:"家庭教師",admin:"管理員",unknown:"未知"},sms:{phone:"手機號碼",vCode:"輸入驗證碼",send:"發送驗證碼",countdown:"重發({count})"},login:{parents:"家長",teachers:"老師",account:"用戶名",accountPlaceholder:"輸入員工ID",phonePlaceholder:"輸入電話號碼",sign:"登入",forget:"忘記密碼",usePwd:"使用密碼登錄",useVCode:"使用驗證碼登錄",picker:"選擇 地區"},resetPwd:{title:"重設密碼"},setPwd:{title:"設置密碼",tip:"輸入包含字母，數字和符號的6-18個字符",oldPwd:"舊密碼",newPwd:"新密碼"},bind:{title:"綁定手環",tip:"每個手環只能綁定到一個用戶，請選擇要綁定的孩子。",again:"請選擇另一個要綁定的孩子。",success:"手環綁定成功！",failure:"綁定失敗！",failTip:"請確認手環與手機之間的有效連接距離不是太遠。如果多次失敗，請聯繫客服。"},unbind:{title:"解除綁定",tip:"解除綁定後，您再不會從手環中收到任何數據。"},scan:{title:"掃描手環二維碼",tip:"請掃描手環包裝盒上的二維碼。",scan:"掃描"},home:{menu:{bracelet:"手環",account:"賬戶信息",kids:"我的孩子",password:"密碼",setting:"設置",faq:"常見問題",about:"關於",logout:"退出登錄"},toast:{bluetooth:"請打開手機上的藍牙功能。",bracelet:"沒有手環綁定。",bus:"點擊關聯校車信息。"},timeline:{title:"今日",empty:"無 "},attendance:{supplement:"出席",arrived:"到校",belong:"{gradeLevel},{classId}"},parent:{name:"{0} {1} {2}"},staff:{name:"您好, {name}"},motion:{title:"運動",tip:"今日步數",unit:"步"}},history:{title:"簽到歷史",today:"今日",yesterday:"昨日"},attendanceType:{teacher:"老師",student:"學生"},schoolType:{1:"低年級學校",2:"初中",3:"高中",4:"中學"},attendance:{title:"出席",teacher:"老師出席",student:"學生出席",supplement:"出席",arrived:"到校",total:"總計",history:"出勤历史"},motion:{title:"步數",today:"今日",unit:"步",weekly:"本週",monthly:"本月"},bracelet:{bind:"綁定",unbind:"解除綁定",retry:"再試一次"},account:{id:"員工ID",relationship:"關係",phone:"手機號碼",email:"郵箱",student:"學生ID",bus:"校車學生ID"},bus:{tip:"可從校車公司的單據上找出"},email:{label:"新郵箱",formatErr:"郵箱格式有誤，請以（用戶自定義名@服務商主機名.域名，如：Jacky@gmail.com）方式輸入",notMatch:"您輸入的郵箱不匹配"},setting:{voice:"聲音",notice:"通知",language:"語言"},mobile:{title:"手機",current:"當前手機號碼",warning:"當更改手機號碼時，登錄賬戶也將修改。",tip:"只有在取消本來手機的綁定後才能更改該號碼",change:"更改",oldPhoneNumber:"舊手機號碼",newPhoneNumber:"新手機號碼",oldEmail:"舊郵箱",tab:{phone:"手機",email:"郵箱"},notMatch:"您輸入的手機號碼不匹配"},bluetooth:{title:"連接藍牙",tip:"請打開手機上的藍牙。",iosUp:"Android可以直接打開，",iosDown:"IOS可通過移動設置打開。",how:"怎麼打開它？"},signIn:{title:"簽到信息",normal:"出席",abnormal:"缺席",state:"状态"},signInType:{1:"出席",2:"人工簽到",3:"請假"},format:{date:"{week},{month}.{day},{year}",classInfo:"{gradeLevel},{classId}",classInfo2:"{gradeLevel}-{classId}","year-month-day":"{year}-{month}-{day}","year-month":"{year}.{month}","month-day":"{month}.{day}"},busMap:{title:"巴士信息",boarding:"上車時間",unloading:"下車時間"},about:{app:"智慧校園",version:"版本"}};i["a"].use(at["a"]);var nt={en:{week:{weekday:"short"},month:{month:"short"}},"zh-hk":{week:{weekday:"short"},month:{month:"narrow"}}},ot=new at["a"]({locale:window.localStorage.getItem("locale")||"en",dateTimeFormats:nt,messages:{en:it,"zh-hk":st}}),rt=ot,ct=[{key:"en",text:"English"},{key:"zh-hk",text:"繁體中文（香港）"}],lt={name:"picker",props:{values:{type:Array,require:!0,default:function(){return[]}},index:{type:Number,default:0},title:{type:String,default:function(){return rt.t("picker.title")}},cancelTxt:{type:String,default:function(){return rt.t("common.cancel")}},confirmTxt:{type:String,default:function(){return rt.t("common.done")}},acceleration:{type:Number,default:-.003},radius:{type:Number,default:100},lineHeight:{type:Number,default:34},cycle:{type:Boolean,default:!1}},data:function(){return{isStill:!0,selectedIndex:0}},computed:{length:function(){return this.values.length},scrollValues:function(){return this.values.map(function(t,e){return{value:t,index:e}})},getWrapperStyle:function(){return{height:"".concat(2*this.radius,"px")}},getWheelStyle:function(){return{marginTop:"".concat(this.radius-Math.round(this.lineHeight/2),"px")}},getCoverStyle:function(){return{backgroundSize:"100% ".concat(this.radius-Math.round(this.lineHeight/2),"px")}},getDividerStyle:function(){return{top:"".concat(this.radius-Math.round(this.lineHeight/2),"px"),height:"".concat(this.lineHeight-2,"px")}}},methods:{initWheel:function(){var t=this;this.length>0&&(this.$wheel=new et["a"](this.$refs.wrapper,{wheel:{selectedIndex:0,rotate:30,wheelWrapperClass:"c-picker__wheel",wheelItemClass:"c-picker__item"},swipeTime:500,probeType:3}),this.$wheel.wheelTo(this.index),this.$wheel.on("scrollStart",function(){t.isStill=!1}),this.$wheel.on("scrollEnd",function(){t.isStill=!0,t.selectedIndex=t.$wheel.getSelectedIndex(),t.$emit("change",t.selectedIndex)}))},cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm",this.$wheel.getSelectedIndex())}},watch:{values:function(){var t=this;this.$nextTick(function(){t.$wheel?t.$wheel.refresh():t.initWheel()})}},mounted:function(){this.initWheel()},beforeDestory:function(){this.$wheel&&this.$wheel.destroy()}},dt=lt,ht=(a("ac30"),Object(d["a"])(dt,K,tt,!1,null,null,null));ht.options.__file="Picker.vue";var ut=ht.exports,pt=[],ft={name:"area-code",components:{picker:ut},data:function(){return{isShowPicker:!1,pickerIndex:0,index:0,areas:pt}},computed:{areaCode:function(){return this.areas.length>0?"+".concat(this.areas[this.index].areaCode):""},regins:function(){return this.areas.map(function(t){return"".concat(t.areaName,"(+").concat(t.areaCode,")")})}},methods:{showPicker:function(){this.areas.length>0?this.isShowPicker||(this.isShowPicker=!0):this.$httpPost.request()},pick:function(t){this.pickerIndex=t},cancel:function(){this.pickerIndex=this.index,this.isShowPicker=!1},confirm:function(){this.index=this.pickerIndex,this.notify(),this.isShowPicker=!1},notify:function(){this.$emit("change",this.areas[this.index].areaCode)}},created:function(){var t=this;0===this.areas.length?(this.$httpPost=this.$http.createPost("area/loadAll",{success:function(e){pt=e.data,t.areas=e.data,t.notify()}}),this.$httpPost.request()):this.notify()},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},mt=ft,vt=Object(d["a"])(mt,Q,X,!1,null,null,null);vt.options.__file="AreaCode.vue";var gt=vt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-form-field__button t-adapt-color",class:{"is-active":t.count>0},on:{click:t.send}},[t._v(t._s(t.msg))])},_t=[],yt={name:"sms",props:{mobile:{type:String},areaCode:{type:String},email:{type:String},mode:{type:Number,default:0}},data:function(){return{count:0}},computed:{msg:function(){return this.count>0?this.$t("sms.countdown",{count:this.count}):this.$t("sms.send")},url:function(){switch(this.mode){case 0:return"common/smscode/send";case 1:return"common/email/send";default:return null}}},methods:{cacnel:function(){-1!==this.timer&&(this.count=0,clearInterval(this.timer),this.timer=-1),this.$httpPost&&this.$httpPost.cancel()},send:function(){var t=this;this.mobile&&this.areaCode&&(!this.$httpPost&&this.url&&(this.$httpPost=this.$http.createPost(this.url,{opts:{sleep:!0},fail:function(){t.count>0&&(t.count=0,clearInterval(t.timer),t.timer=-1)}})),this.$httpPost.isWait()&&(this.count=60,this.timer=setInterval(function(){t.count-=1,0===t.count&&(clearInterval(t.timer),t.timer=-1,t.$httpPost.awaken())},1e3),this.$httpPost.request({mobile:this.mobile,areaCode:this.areaCode})))}},watch:{mode:function(){this.cacnel()}},beforeDestroy:function(){this.cacnel()}},Ct=yt,wt=Object(d["a"])(Ct,bt,_t,!1,null,null,null);wt.options.__file="Sms.vue";var kt=wt.exports,$t={HOME:"home",PARENT:"parent",STAFF:"staff"},St={name:"login",components:{formField:Z,areaCode:gt,sms:kt},data:function(){return{showMode:"",mode:$t.HOME,requestMode:$t.HOME,signMode:"true"===window.localStorage.getItem("hasLoggedIn")?0:1,areaCode:"",mobile:"",vCode:"",account:"",password:"",error:"",user:null}},computed:{isParentMode:function(){return this.mode===$t.PARENT},isStaffMode:function(){return this.mode===$t.STAFF},isHomeMode:function(){return this.mode===$t.HOME},usePwd:function(){return 0===this.signMode||this.mode===$t.STAFF},toggleTip:function(){return this.usePwd?this.$t("login.useVCode"):this.$t("login.usePwd")},mobileVal:function(){return this.areaCode&&this.mobile?this.areaCode+this.mobile:null},isValid:function(){return this.usePwd?(this.isParentMode?this.mobileVal:this.account)&&this.password:this.mobileVal&&this.vCode}},methods:Object(q["a"])({},Object(f["b"])(["setRuntimeMode","saveUser"]),{refreshMode:function(){var t=this;this.$nextTick(function(){t.showMode=t.isHomeMode?1:2})},setMode:function(t){switch(t){case $t.PARENT:this.$httpPost&&this.$httpPost.setUrl("parent/login");break;case $t.STAFF:this.$httpPost&&this.$httpPost.setUrl("staff/login");break;default:t=$t.HOME;break}if(this.mode!==t){switch(this.mode){case $t.PARENT:this.mobile="",this.vCode="",this.password="";break;case $t.STAFF:this.account="",this.password="";break;default:break}this.stopLogin(),this.mode=t}this.refreshMode()},toggleLoginMode:function(){this.usePwd?this.password="":this.vCode="",this.stopLogin(),this.signMode=0===this.signMode?1:0},stopLogin:function(){this.error="",this.$httpPost&&this.$httpPost.cancel(),this.$infoHttpPost&&this.$infoHttpPost.cancel()},toSetPassword:function(t,e){this.$router.push({name:"set-pwd",params:{mode:t,token:e}})},changeRuntimmeMode:function(t){this.setRuntimeMode(t?"boot":"normal")},afterSign:function(t){var e=Object.assign(this.user,t),a=this.requestMode;e.mode=a,this.$store.dispatch(m,e),0===e.hasPasswordSetted?(this.changeRuntimmeMode("boot"),this.toSetPassword(a,e.token)):(this.changeRuntimmeMode("normal"),this.saveUser(),this.$router.push({name:"home",params:{mode:a}}))},updateInfo:function(t){var e=this;this.$infoHttpPost||(this.$infoHttpPost=this.$http.createPost(this.isParentMode?"parent/info":"staff/info",{opts:{lock:!0},success:function(t){e.afterSign(t.data)},fail:function(t){e.error=t.message}})),this.$infoHttpPost.request({token:t})},sign:function(){var t=this;if(this.isValid)switch(this.error="",this.requestMode=this.mode,this.$httpPost||(this.$httpPost=this.$http.createPost(this.isParentMode?"parent/login":"staff/login",{opts:{lock:!0},success:function(e){t.user=e.data,t.updateInfo(e.data.token)},fail:function(e){t.error=e.message}})),this.mode){case $t.PARENT:this.$httpPost.request({account:this.mobileVal,passCode:this.usePwd?this.$md5(this.password):this.vCode,type:this.usePwd?1:2});break;case $t.STAFF:this.$httpPost.request({account:this.account,password:this.$md5(this.password)});break;default:break}},pick:function(t){this.areaCode=t}}),beforeRouteUpdate:function(t,e,a){this.setMode(t.params.mode),a()},created:function(){var t=this;this.$nextTick(function(){t.setMode(t.$route.params.mode)})},beforeDestroy:function(){this.stopLogin()}},Pt=St,Tt=(a("6ba9"),Object(d["a"])(Pt,R,W,!1,null,null,null));Tt.options.__file="Login.vue";var At=Tt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-form c-modify"},[a("div",{staticClass:"l-form__title"},[t._v(t._s(t.$t("setPwd.title")))]),a("form-field",{attrs:{label:t.$t("common.pwd"),tip:t.$t("setPwd.tip"),error:t.passwordErr},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("form-field",{attrs:{label:t.$t("common.confirm"),error:t.confirmPasswordErr},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),a("div",{staticClass:"o-button o-button--submit t-adapt-button--active c-modify__submit",class:{"is-active":t.isValid},on:{click:t.save}},[t._v(t._s(t.$t("common.save")))]),a("div",{staticClass:"c-modify__error"},[t._v(t._s(t.error))])],1)},It=[],Dt={name:"set-pwd",components:{formField:Z},data:function(){return{password:"",confirmPassword:"",passwordErr:"",confirmPasswordErr:"",error:""}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isParent"]),{url:function(){return this.isParent?"parent/password/reset":"staff/password/modify"},token:function(){return this.$route.params.token||this.user.token},isValid:function(){return this.password&&this.confirmPassword}}),methods:Object(q["a"])({},Object(f["b"])(["saveUser"]),{save:function(){var t=this;if(this.isValid){if(this.error="",this.password.length<6)return this.passwordErr=this.$t("pwdErr.tooShort"),void(this.confirmPasswordErr="");if(this.password.length>18)return this.passwordErr=this.$t("pwdErr.tooLong"),void(this.confirmPasswordErr="");if(!/^[a-zA-Z\d~!@#$%^&*()_+`\-={}:";'<>?,.]+$/.test(this.password))return this.passwordErr=this.$t("pwdErr.format"),void(this.confirmPasswordErr="");if(/^[a-zA-Z]+$/.test(this.password)||/^\d+$/.test(this.password)||/^[~!@#$%^&*()_+`\-={}:";'<>?,.]+$/.test(this.password))return this.passwordErr=this.$t("pwdErr.simple"),void(this.confirmPasswordErr="");this.passwordErr="",this.confirmPassword===this.password?(this.confirmPasswordErr="",this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(){t.isParent&&window.localStorage.setItem("hasLoggedIn","true"),t.saveUser(),t.$router.replace({name:"bind"})},fail:function(e){t.error=e.message}})),this.$httpPost.request({token:this.token,password:this.$md5(this.password)})):this.confirmPasswordErr=this.$t("pwdErr.notMatch")}}}),beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Ot=Dt,Et=Object(d["a"])(Ot,xt,It,!1,null,null,null);Et.options.__file="ResetPwd.vue";var Mt=Et.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view",{class:t.modeClass})},Lt=[],jt={name:"wrapper",computed:Object(q["a"])({},Object(f["c"])(["isStaff"]),{modeClass:function(){return this.isStaff?"t-staff":"t-parent"}})},Ut=jt,Ht=Object(d["a"])(Ut,Nt,Lt,!1,null,null,null);Ht.options.__file="ThemeWrapper.vue";var Bt=Ht.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-operation p-bind"},[a("div",{staticClass:"l-operation__title"},[t._v(t._s(t.$t("bind.title")))]),a("div",{staticClass:"l-operation__header"},[t._v(t._s(t.tip))]),a("div",{staticClass:"l-operation__content u-align-c"},[a("div",{staticClass:"p-bind__img"}),a("div",{staticClass:"p-bind__list"},t._l(t.unbindFigures,function(e,i){return a("div",{key:e.id,staticClass:"p-bind__item p-bind__item--toggle",class:{"is-active":i===t.index,"c-solid-avatar--boy":1===e.relationship,"c-solid-avatar--girl":2===e.relationship,"has-avatar":!!e.headUrl},on:{click:function(e){t.toggle(i)}}},[e.headUrl?a("div",{staticClass:"c-solid-avatar__icon"},[a("i",{style:{backgroundImage:"url("+e.headUrl+")"}})]):t._e(),a("div",{staticClass:"p-bind__name"},[t._v(t._s(e.name))])])}))]),a("div",{staticClass:"l-operation__footer"},[a("div",{staticClass:"l-operation__button o-border-button o-button--cancel",on:{click:t.cancel}},[t._v(t._s(t.$t("common.cancel")))]),a("div",{staticClass:"l-operation__button o-button t-adapt-button",on:{click:t.toBind}},[t._v(t._s(t.$t("bracelet.bind")))])])])},Rt=[],Wt={name:"bind-choosen",data:function(){return{index:-1,state:"bind"}},computed:Object(q["a"])({},Object(f["d"])(["figures"]),Object(f["c"])(["isStaff"]),{unbindFigures:function(){return this.figures.filter(function(t){return 0===t.braceletOfBinding})},has:function(){return this.figures.length>0},tip:function(){return"again"===this.$route.params.type?this.$t("bind.again"):this.$t("bind.tip")}}),methods:{toggle:function(t){this.index===t?this.index=-1:this.index=t},cancel:function(){this.$jumper.toHome()},toBind:function(){this.index>=0&&this.$router.replace({name:"scan",params:{id:this.unbindFigures[this.index].id}})},check:function(){return 0===this.unbindFigures.length?(this.cancel(),!0):1===this.figures.length&&(this.index=0,this.toBind(),!0)}},watch:{has:function(t){t&&this.check()}},created:function(){this.has&&this.check()}},qt=Wt,Gt=(a("2b11"),Object(d["a"])(qt,Ft,Rt,!1,null,null,null));Gt.options.__file="BindChoosen.vue";var Vt=Gt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-operation p-bind-success"},[a("div",{staticClass:"l-operation__title"},[t._v(t._s(t.$t("bind.title")))]),a("div",{staticClass:"l-operation__header"},[t._v(t._s(t.$t("bind.success")))]),a("div",{staticClass:"l-operation__content u-align-c"},[a("div",{staticClass:"p-bind-success__img"},[a("div",{staticClass:"p-bind-success__avatar",class:{"c-solid-avatar":0===t.sex,"c-solid-avatar--boy":1===t.sex,"c-solid-avatar--girl":2===t.sex,"has-avatar":!!t.figure&&!!t.figure.headUrl}},[t.figure&&t.figure.headUrl?a("div",{staticClass:"c-solid-avatar__icon"},[a("i",{style:{backgroundImage:"url("+t.figure.headUrl+")"}})]):t._e()]),a("div",{staticClass:"p-bind-success__link"})])]),a("div",{staticClass:"l-operation__footer"},[a("div",{staticClass:"l-operation__button--full o-button t-adapt-button",on:{click:t.next}},[t._v(t._s(t.$t("common.confirm")))])])])},Yt=[],Jt={name:"bind-success",data:function(){return{}},computed:Object(q["a"])({},Object(f["d"])(["figures","runtimmeMode"]),Object(f["c"])(["getFigure"]),{id:function(){return Number(this.$route.params.id)},figure:function(){return this.getFigure(this.id)},sex:function(){return this.figure&&this.figure.relationship||0}}),methods:{next:function(){switch(this.runtimmeMode){case"boot":1===this.figures.length?this.$router.replace({name:"home"}):this.$router.replace({name:"bind",params:{type:"again"}});break;default:this.$router.back();break}}}},Zt=Jt,Qt=(a("7578"),Object(d["a"])(Zt,zt,Yt,!1,null,null,null));Qt.options.__file="BindSuccess.vue";var Xt=Qt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-operation p-bind-failure"},[a("div",{staticClass:"l-operation__title"},[t._v(t._s(t.$t("bind.title")))]),a("div",{staticClass:"p-bind-failure__error"},[t._v("\n    "+t._s(t.$t("bind.failure"))+"\n    "),a("div",{staticClass:"p-bind-failure__tip"},[t._v(t._s(t.$t("bind.failTip")))])]),a("div",{staticClass:"l-operation__content u-align-c"},[a("div",{staticClass:"p-bind-failure__img"},[a("div",{staticClass:"p-bind-failure__avatar",class:{"c-solid-avatar":0===t.sex,"c-solid-avatar--boy":1===t.sex,"c-solid-avatar--girl":2===t.sex,"has-avatar":!!t.figure&&!!t.figure.headUrl}},[t.figure&&t.figure.headUrl?a("div",{staticClass:"c-solid-avatar__icon"},[a("i",{style:{backgroundImage:"url("+t.figure.headUrl+")"}})]):t._e()]),a("div",{staticClass:"p-bind-failure__link"})])]),a("div",{staticClass:"l-operation__footer"},[a("div",{staticClass:"l-operation__button o-border-button o-button--cancel",on:{click:t.cancel}},[t._v(t._s(t.$t("common.cancel")))]),a("div",{staticClass:"l-operation__button o-button t-adapt-button",on:{click:t.retry}},[t._v(t._s(t.$t("bracelet.retry")))])])])},te=[],ee=(a("28a5"),{name:"bind-failure",computed:Object(q["a"])({},Object(f["d"])(["user","runtimmeMode"]),Object(f["c"])(["isStaff","getFigure"]),{url:function(){return this.isStaff?"staff/bracelet/bind":"parent/bracelet/bind"},id:function(){return Number(this.$route.params.id)},figure:function(){return this.getFigure(this.id)},sex:function(){return this.figure&&this.figure.relationship||0}}),methods:Object(q["a"])({},Object(f["b"])(["updateFigureInfo"]),{cancel:function(){switch(this.runtimmeMode){case"boot":this.$router.replace({name:"home"});break;default:this.$router.back();break}},bind:function(t,e,a){var i=this;this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(t,e){i.updateFigureInfo({id:i.id,info:{braceletOfBinding:1,braceletMac:e.macAddress}}),i.$router.replace({name:"bind-success",params:{id:i.id}})}})),this.$httpPost.request(this.isStaff?{token:this.user.token,serialNum:t,macAddress:e,nfcId:a}:{token:this.user.token,idStudent:this.id,serialNum:t,macAddress:e,nfcId:a})},retry:function(){var t=this;this.$native.scan().then(function(e){if(1===e.type){var a=e.message.split("#");3===a.length&&t.bind(a[0],a[1],a[2])}})}}),beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}}),ae=ee,ie=(a("de91"),Object(d["a"])(ae,Kt,te,!1,null,null,null));ie.options.__file="BindFailure.vue";var se=ie.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-operation p-scan"},[a("div",{staticClass:"l-operation__title"},[t._v(t._s(t.$t("scan.title")))]),a("div",{staticClass:"l-operation__header"},[t._v(t._s(t.$t("scan.tip")))]),t._m(0),a("div",{staticClass:"l-operation__footer"},[a("div",{staticClass:"l-operation__button o-border-button o-button--cancel",on:{click:t.cancel}},[t._v(t._s(t.$t("common.cancel")))]),a("div",{staticClass:"l-operation__button o-button t-adapt-button",on:{click:t.toScan}},[t._v(t._s(t.$t("scan.scan")))])])])},oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-operation__content"},[a("div",{staticClass:"p-scan__img"})])}],re={name:"scan",computed:Object(q["a"])({},Object(f["d"])(["user","figures","runtimmeMode"]),Object(f["c"])(["isStaff","getFigure"]),{url:function(){return this.isStaff?"staff/bracelet/bind":"parent/bracelet/bind"},id:function(){return Number(this.$route.params.id)},figure:function(){return this.getFigure(this.id)}}),methods:Object(q["a"])({},Object(f["b"])(["updateFigureInfo"]),{cancel:function(){switch(this.runtimmeMode){case"boot":1===this.figures.length?this.$jumper.toHome():this.$router.replace({name:"bind"});break;default:this.$router.back();break}},bind:function(t,e,a){var i=this;this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(t,e){i.updateFigureInfo({id:i.id,info:{braceletOfBinding:1,braceletMac:e.macAddress}}),i.$router.replace({name:"bind-success",params:{id:i.id}})},fail:function(){i.$router.replace({name:"bind-failure",params:{id:i.id}})}})),this.$httpPost.request(this.isStaff?{token:this.user.token,serialNum:t,macAddress:e,nfcId:a}:{token:this.user.token,idStudent:this.id,serialNum:t,macAddress:e,nfcId:a})},toScan:function(){var t=this;this.$native.scan().then(function(e){if(1===e.type){var a=e.message.split("#");3===a.length&&t.bind(a[0],a[1],a[2])}})}}),beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},ce=re,le=(a("f67e"),Object(d["a"])(ce,ne,oe,!1,null,"d80c3a36",null));le.options.__file="Scan.vue";var de=le.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-operation p-unbind"},[a("div",{staticClass:"l-operation__title"},[t._v(t._s(t.$t("unbind.title")))]),a("div",{staticClass:"l-operation__header"},[t._v(t._s(t.$t("unbind.tip")))]),a("div",{staticClass:"l-operation__content"},[a("div",{staticClass:"p-unbind__img"},[a("div",{staticClass:"p-unbind__avatar",class:{"c-solid-avatar":0===t.sex,"c-solid-avatar--boy":1===t.sex,"c-solid-avatar--girl":2===t.sex,"has-avatar":!!t.figure&&!!t.figure.headUrl}},[t.figure&&t.figure.headUrl?a("div",{staticClass:"c-solid-avatar__icon"},[a("i",{style:{backgroundImage:"url("+t.figure.headUrl+")"}})]):t._e()]),a("div",{staticClass:"p-unbind__link"})])]),a("div",{staticClass:"l-operation__footer"},[a("div",{staticClass:"l-operation__button o-border-button o-button--cancel",on:{click:t.cancel}},[t._v(t._s(t.$t("common.cancel")))]),a("div",{staticClass:"l-operation__button o-button o-button--prominent",on:{click:t.unbind}},[t._v(t._s(t.fail?t.$t("bracelet.retry"):t.$t("bracelet.unbind")))])])])},ue=[],pe={name:"unbind",data:function(){return{fail:!1}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff","getFigure"]),{url:function(){return this.isStaff?"staff/bracelet/unbind":"parent/bracelet/unbind"},id:function(){return Number(this.$route.params.id)},figure:function(){return this.getFigure(this.id)},sex:function(){return this.figure&&this.figure.relationship||0}}),methods:Object(q["a"])({},Object(f["b"])(["updateFigureInfo"]),{cancel:function(){this.$router.back()},unbind:function(){var t=this;this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(){t.figure&&t.$native.unbindBracelet(t.figure.braceletMac),t.updateFigureInfo({id:t.id,info:{braceletOfBinding:0,braceletMac:""}}),t.cancel()},fail:function(){t.fail=!0}})),this.$httpPost.request(this.isStaff?{token:this.user.token}:{token:this.user.token,idStudent:this.id})}}),beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},fe=pe,me=(a("63bd"),Object(d["a"])(fe,he,ue,!1,null,null,null));me.options.__file="Unbind.vue";var ve=me.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("home.menu.bracelet")}},[a("div",{staticClass:"l-navigation__content has-padding"},[a("ul",t._l(t.figures,function(e){return a("li",{key:e.id,staticClass:"c-bracelet-item"},[a("div",{staticClass:"c-bracelet-item__avatar",class:{"c-avatar":!e.relationship,"c-avatar--boy":1===e.relationship,"c-avatar--girl":2===e.relationship,"has-avatar":!!e.headUrl}},[e.headUrl?a("div",{staticClass:"c-avatar__icon"},[a("i",{style:{backgroundImage:"url("+e.headUrl+")"}})]):t._e()]),a("div",{staticClass:"c-bracelet-item__button o-button",class:{"t-adapt-button":0===e.braceletOfBinding,"o-button--prominent":1===e.braceletOfBinding},on:{click:function(a){t.toggle(e)}}},[t._v(t._s(0===e.braceletOfBinding?t.$t("bracelet.bind"):t.$t("bracelet.unbind")))]),a("div",{staticClass:"c-bracelet-item__name"},[t._v(t._s(e.name))])])}))])])},be=[],_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-navigation"},[a("navigation",{staticClass:"l-navigation__header",attrs:{title:t.title}},[t._t("button")],2),t._t("default")],2)},ye=[],Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-navigation-bar"},[a("span",{staticClass:"c-navigation-bar__icon_wrapper",on:{click:t.back}},[a("i",{staticClass:"c-navigation-bar__icon"})]),t._v(t._s(t.title)+"\n  "),t._t("default")],2)},we=[],ke={name:"navigation-bar",props:["title"],methods:{back:function(){this.$router.back()}}},$e=ke,Se=(a("6617"),Object(d["a"])($e,Ce,we,!1,null,null,null));Se.options.__file="NavigationBar.vue";var Pe=Se.exports,Te={name:"navigation-wrapper",props:["title"],components:{navigation:Pe}},Ae=Te,xe=Object(d["a"])(Ae,_e,ye,!1,null,null,null);xe.options.__file="NavigationWrapper.vue";var Ie=xe.exports,De={name:"bracelet",components:{navigationWrapper:Ie},computed:Object(q["a"])({},Object(f["d"])(["figures"]),Object(f["c"])(["isStaff"])),methods:{toggle:function(t){0===t.braceletOfBinding?this.$router.push({name:"scan",params:{id:t.id}}):this.$router.push({name:"unbind",params:{id:t.id}})}}},Oe=De,Ee=(a("eb4a"),Object(d["a"])(Oe,ge,be,!1,null,null,null));Ee.options.__file="Bracelet.vue";var Me=Ee.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-home",class:{"is-touch":t.side.moving},on:{touchstart:t.touchstart,touchmove:t.touchmove,touchend:t.touchend}},[a("side-menu",{staticClass:"p-home__side",style:t.sideStyle}),a("div",{staticClass:"p-home__main",class:{"is-touch":t.side.moving},style:t.mainStyle},[a("div",{staticClass:"p-home__shortcut"},[a("div",{staticClass:"p-home__icon_wrapper",on:{click:t.toggleSide}},[a("i",{staticClass:"p-home__menu"})])]),a("div",{staticClass:"p-home__content"},[a("div",{staticClass:"p-home__header swiper-container",attrs:{id:"person-swiper"}},[a("div",{staticClass:"swiper-wrapper"},t._l(t.figures,function(e){return a("character-intro",{key:e.id,staticClass:"p-home__person swiper-slide",attrs:{person:e,connected:t.connected,connecting:t.connecting}})})),a("div",{staticClass:"swiper-pagination",attrs:{id:"person-pagination"}})]),t.toast?a("div",{staticClass:"p-home__toast p-home-toast",class:"p-home-toast--"+t.toast,on:{click:t.clickToast}},[t._v("\n        "+t._s(t.$t("home.toast."+t.toast))+"\n        "),a("div",{staticClass:"p-home-toast__icon",on:{click:function(e){return e.stopPropagation(),t.clickToastIcon(e)}}})]):t._e(),a("div",{staticClass:"p-home__section"},[a("div",{staticClass:"p-home-block"},[a("div",{staticClass:"p-home-block__header",on:{click:t.toHistory}},[a("span",{staticClass:"p-home-block__title"},[t._v(t._s(t.$t("home.timeline.title")))]),a("span",{staticClass:"p-home-block__tip"},[t._v(t._s(t.today))]),this.records.length>0?a("i",{staticClass:"p-home-block__arrow"}):t._e()]),a("div",{staticClass:"p-home-block__content"},[a("div",{staticClass:"c-timeline p-home-timeline"},t._l(t.timeline,function(e,i){return a("div",{key:i,staticClass:"c-timeline__point"},[a("div",{staticClass:"c-timeline__header"}),a("div",{staticClass:"c-timeline__tail"}),a("div",{staticClass:"c-timeline__content",class:"p-home-timeline__level"+i},[a("div",{staticClass:"c-timeline__time"},[t._v(t._s(e.time))]),a("div",{staticClass:"c-timeline__info"},[a("div",{staticClass:"c-timeline__row is-nowrap"},[t._v(t._s(t.$t("record."+e.type)))]),3===e.type||5===e.type?a("div",{staticClass:"c-timeline__row is-nowrap"},[a("div",{staticClass:"p-home-timeline__bus t-adapt-color",on:{click:function(a){t.toBusMap(e)}}},[t._v(t._s(t.$t("record.bus")))])]):t._e()])])])}))])])]),t.canShowAttendance?a(t.attendanceComponent,{tag:"component",staticClass:"p-home__section"}):t._e(),a("div",{staticClass:"p-home__section"},[a("div",{staticClass:"p-home-block"},[a("div",{staticClass:"p-home-block__header",attrs:{tag:"div"},on:{click:t.toMotion}},[a("span",{staticClass:"p-home-block__title"},[t._v(t._s(t.$t("home.motion.title")))]),a("i",{staticClass:"p-home-block__arrow"})]),a("div",{staticClass:"p-home-block__content"},[a("div",{staticClass:"p-home-steps u-clearfix"},[a("i",{staticClass:"p-home-steps__icon"}),a("div",{staticClass:"p-home-steps__tip"},[t._v(t._s(t.$t("home.motion.tip")))]),a("div",{staticClass:"p-home-steps__value"},[t._v(t._s(t.steps)),a("span",{staticClass:"p-home-steps__unit"},[t._v(t._s(t.$t("home.motion.unit")))])])])])])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mainX>0,expression:"mainX > 0"}],staticClass:"p-home__mask",style:t.maskStyle,on:{click:function(e){t.showSide&&t.toggleSide()},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.touchmove(e)}}})])],1)},Le=[],je=a("5720"),Ue=a.n(je),He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-side-menu"},[a("div",{staticClass:"c-side-menu__wrapper"},[a("div",{staticClass:"c-avatar",class:{"has-avatar":!!t.user.headUrl}},[t.user.headUrl?a("div",{staticClass:"c-avatar__icon"},[a("i",{style:{backgroundImage:"url("+t.user.headUrl+")"}})]):t._e()]),a("div",{staticClass:"c-side-menu__name"},[t._v(t._s(t.user.name))]),a("div",{staticClass:"c-side-menu__info"},[a("div",{staticClass:"c-side-menu__phone"},[a("i",{staticClass:"c-side-menu__icon--phone"}),t._v(t._s(t.phoneNumber))]),a("div",{staticClass:"c-side-menu__email"},[a("i",{staticClass:"c-side-menu__icon--email"}),t._v(t._s(t.user.email))])]),a("ul",[a("router-link",{staticClass:"c-side-menu__link",attrs:{tag:"li",to:{name:"bracelet"}}},[a("i",{staticClass:"c-side-menu__icon--bracelet"}),t._v(t._s(t.$t("home.menu.bracelet")))]),a("router-link",{staticClass:"c-side-menu__link",attrs:{tag:"li",to:{name:"account"}}},[a("i",{staticClass:"c-side-menu__icon--account"}),t._v(t._s(t.$t("home.menu.account")))]),t.isParent?a("router-link",{staticClass:"c-side-menu__link",attrs:{tag:"li",to:{name:"children"}}},[a("i",{staticClass:"c-side-menu__icon--kids"}),t._v(t._s(t.$t("home.menu.kids")))]):t._e(),a("router-link",{staticClass:"c-side-menu__link",attrs:{tag:"li",to:{name:"pre-modify-pwd"}}},[a("i",{staticClass:"c-side-menu__icon--password"}),t._v(t._s(t.$t("home.menu.password")))]),a("router-link",{staticClass:"c-side-menu__link",attrs:{tag:"li",to:{name:"setting"}}},[a("i",{staticClass:"c-side-menu__icon--setting"}),t._v(t._s(t.$t("home.menu.setting")))]),a("router-link",{staticClass:"c-side-menu__link",attrs:{tag:"li",to:{name:"faq"}}},[a("i",{staticClass:"c-side-menu__icon--faq"}),t._v(t._s(t.$t("home.menu.faq")))]),a("router-link",{staticClass:"c-side-menu__link",attrs:{tag:"li",to:{name:"about"}}},[a("i",{staticClass:"c-side-menu__icon--about"}),t._v(t._s(t.$t("home.menu.about")))])],1),a("div",{staticClass:"c-side-menu__button o-button o-button--unwish",on:{click:t.logout}},[t._v(t._s(t.$t("home.menu.logout")))])])])},Be=[],Fe={name:"side-menu",computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isParent","phoneNumber"])),methods:{logout:function(){this.$store.dispatch(v),this.$router.replace({name:"login"})}}},Re=Fe,We=(a("01cb"),Object(d["a"])(Re,He,Be,!1,null,null,null));We.options.__file="SideMenu.vue";var qe=We.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("character-intro",{attrs:{person:t.intro}},[a("div",{staticClass:"c-bracelet-state"},[a("div",{staticClass:"c-bracelet-state__icon",class:{"has-unbind":0===t.state,"has-unconnected":1===t.state,"has-connected":2===t.state}}),a("div",{staticClass:"c-bracelet-state__label"},[t._v(t._s(t.stateTip))])])])},Ve=[],ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-character-intro",class:{"c-character-intro--smaller":t.smaller}},[a("div",{staticClass:"c-character-intro__avatar",class:{"c-avatar--smaller":t.smaller,"c-avatar":!t.smaller,"has-avatar":!!t.person&&!!t.person.headUrl}},[t.person&&t.person.headUrl?a("div",{staticClass:"c-avatar__icon"},[a("i",{style:{backgroundImage:"url("+t.person.headUrl+")"}})]):t._e()]),a("div",{staticClass:"c-character-intro__content"},[t.person?a("div",[a("div",{staticClass:"c-character-intro__row c-character-intro__wrapper"},[a("span",{directives:[{name:"overflow",rawName:"v-overflow"}],staticClass:"c-character-intro__name"},[t._v(t._s(t.person.name))])]),t.person.info?a("div",{staticClass:"c-character-intro__row c-character-intro__info"},[t._v(t._s(t.person.info))]):t._e(),t.person.tag?a("div",{staticClass:"c-character-intro__row c-character-intro__tag"},[t._v(t._s(t.person.tag))]):t._e()]):t._e()]),a("div",{staticClass:"c-character-intro__extend"},[t._t("default")],2)])},Ye=[],Je={name:"character-intro",props:{person:{type:Object},smaller:{type:Boolean,default:!0}}},Ze=Je,Qe=(a("28a2"),Object(d["a"])(Ze,ze,Ye,!1,null,null,null));Qe.options.__file="CharacterIntro.vue";var Xe=Qe.exports,Ke={name:"home-character-Intro",props:["person","connected","connecting"],components:{characterIntro:Xe},data:function(){return{connectState:-1}},computed:Object(q["a"])({},Object(f["c"])(["isStaff"]),{state:function(){switch(!0){case 0===this.person.braceletOfBinding:return 0;case this.connected&&this.connected===this.person.braceletMac:return 2;case"null"===this.connecting||this.connecting===this.person.braceletMac:return-1;default:return 1}},stateTip:function(){switch(this.state){case 0:return this.$t("state.unbind");case 1:return this.$t("state.unconnected");case 2:return this.$t("state.connected");default:return""}},level:function(){switch(this.person.roles){case 1:case 2:case 3:case 4:return this.$t("staffLevel.admin");case 5:return this.$t("staffLevel.headTeacher");case 6:return this.$t("staffLevel.teacher");default:return this.$t("staffLevel.unknown")}},intro:function(){var t=this.person.name;return{name:this.isStaff?this.$t("home.staff.name",{name:t}):t,headUrl:this.person.headUrl,info:this.isStaff?"":this.$t("common.teacher")+this.person.headTeacherUserName,tag:this.isStaff?this.level:this.$t("format.classInfo2",{gradeLevel:this.person.gradeLevel,classId:this.person.classId})}}})},ta=Ke,ea=(a("bace"),Object(d["a"])(ta,Ge,Ve,!1,null,null,null));ea.options.__file="CharacterIntroHome.vue";var aa=ea.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-home-attendance-admin"},[a("attendance-block",{staticClass:"c-attendance-block--single",attrs:{title:t.$t("attendanceType.teacher"),supplement:t.$t("attendance.supplement"),attendance:t.teacherAttendance},nativeOn:{click:function(e){return t.toTeacherAttendance(e)}}}),a("attendance-block",{staticClass:"c-attendance-block--single",attrs:{title:t.$t("attendanceType.student"),supplement:t.$t("attendance.supplement"),attendance:t.studentAttendance},nativeOn:{click:function(e){return t.toStudentAttendance(e)}}})],1)},sa=[],na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-attendance-block"},[a("div",{staticClass:"c-attendance-block__wrapper"},[a("div",{staticClass:"c-attendance-block__header"},[a("span",{staticClass:"c-attendance-block__title"},[t._v(t._s(t.title||""))]),a("span",{staticClass:"c-attendance-block__supplement"},[t._v(t._s(t.supplement))])]),a("div",{staticClass:"c-attendance-block__content"},[a("div",{staticClass:"c-attendance-block__tip"},[t._v(t._s(t.$t("attendance.arrived")))]),a("div",{staticClass:"c-attendance-block__percent"},[a("span",{staticClass:"c-attendance-block__arrived"},[t._v(t._s(t.arrived))]),t._v("/"+t._s(t.total))]),a("div",{staticClass:"o-progress"},[a("div",{staticClass:"o-pregress__inner",style:{width:t.precent+"%"}})]),t._t("default")],2)])])},oa=[],ra={name:"attendance-block",props:["title","attendance","supplement"],computed:{arrived:function(){return this.attendance?this.attendance.arrived:0},total:function(){return this.attendance?this.attendance.total:0},precent:function(){return this.total>0?this.arrived/this.total*100:0}},methods:{click:function(){this.$emit("click",this.attendance)}}},ca=ra,la=(a("1812"),Object(d["a"])(ca,na,oa,!1,null,null,null));la.options.__file="AttendanceBlock.vue";var da=la.exports,ha={name:"home-attendance-admin",components:{attendanceBlock:da},data:function(){return{teacherAttendance:{arrived:0,total:0},studentAttendance:{arrived:0,total:0}}},computed:Object(q["a"])({},Object(f["d"])(["user"])),methods:{analysis:function(t){this.teacherAttendance={arrived:t.arrivedStaffTotal,total:t.staffTotal},this.studentAttendance={arrived:t.arrivedStudentTotal,total:t.studentTotal}},toTeacherAttendance:function(){this.$router.push({name:"attendance-school",params:{type:"teacher"}})},toStudentAttendance:function(){this.$router.push({name:"attendance-school",params:{type:"student"}})}},created:function(){var t=this;this.$httpPost=this.$http.createPost("admin/dashboard",{opts:{cycle:6e4},success:function(e){return t.analysis(e.data)}}),this.$httpPost.request({token:this.user.token})},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},ua=ha,pa=(a("8f81"),Object(d["a"])(ua,ia,sa,!1,null,null,null));pa.options.__file="HomeAttendanceAdmin.vue";var fa=pa.exports,ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-home-attendance-teacher",class:{"is-enough":t.attendances.length>=2},on:{click:t.toClassAttendance}},[a("div",{ref:"swiper",staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.attendances,function(e,i){return a("attendance-block",{key:i,staticClass:"swiper-slide c-attendance-block--single",attrs:{title:t.$t("attendanceType.student"),supplement:t.$t("attendance.supplement"),attendance:e}},[a("div",{staticClass:"c-home-attendance-teacher__belong"},[t._v(t._s(t.$t("format.classInfo",{gradeLevel:e.gradeLevel,classId:e.classId})))])])})),a("div",{ref:"pagination",staticClass:"swiper-pagination"})])])},va=[],ga={name:"attendance-block-teacher",components:{attendanceBlock:da},data:function(){return{attendances:[]}},computed:Object(q["a"])({},Object(f["d"])(["user"])),methods:{analysis:function(t){var e=this;t.forEach(function(t){t.arrived=t.arrivedStudentClassTotal,t.total=t.studentClassTotal}),this.attendances=t,this.$nextTick(function(){e.refreshSwiper()})},refreshSwiper:function(){var t=this.attendances.length;this.$swiper?this.$swiper.slides.length!==t&&(t<=1?(this.$swiper.destroy(),this.$swiper=null):this.$swiper.update()):t>=2&&(this.$swiper=new Ue.a(this.$refs.swiper,{loop:!1,spaceBetween:5,pagination:{el:this.$refs.pagination,dynamicBullets:t>5,longSwipesRatio:.3}}))},toClassAttendance:function(){if(this.attendances.length>0){var t=this.$swiper?this.$swiper.realIndex:0;this.$router.push({name:"attendance-details",params:{type:"student",classId:this.attendances[t].idClass}})}}},created:function(){var t=this;this.$httpPost=this.$http.createPost("teacher/class/studentstat",{opts:{cycle:6e4},success:function(e){return t.analysis(e.data)}}),this.$httpPost.request({token:this.user.token})},mounted:function(){this.refreshSwiper()},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel(),this.$swiper&&this.$swiper.destroy()}},ba=ga,_a=(a("ff01"),Object(d["a"])(ba,ma,va,!1,null,null,null));_a.options.__file="HomeAttendanceTeacher.vue";var ya=_a.exports,Ca="NATIVE_EVENT",wa="NATIVE_READY",ka="BLUETOOTH_OPEN",$a="BLUETOOTH_CLOSE",Sa="BLUETOOTH_CHANGED",Pa="BRACELET_CONNECTED",Ta="BRACELET_DISCONNECT",Aa={name:"home",components:{sideMenu:qe,characterIntro:aa,homeAttendanceAdmin:fa,homeAttendanceTeacher:ya},props:[],data:function(){return{showSide:!1,records:[],index:0,toast:"",date:new Date,steps:0,need:{},connected:null,connecting:"null",timer:-1,clockTimer:-1,side:{date:null,lastTouch:0,touch:!1,moving:!1},sideX:-50,mainX:0}},computed:Object(q["a"])({},Object(f["d"])(["user","figures"]),Object(f["c"])(["isStaff","isAdmin","isHeadTeacher","getFigure"]),{today:function(){return this.$t("format.date",{week:this.$d(this.date,"week"),month:this.$d(this.date,"month"),day:this.date.getDate(),year:this.date.getFullYear()})},timeline:function(){var t,e=this.records.length;switch(!0){case e>3:t=this.records.slice(0,3).map(this.transformRecord);break;case 3===e:t=this.records.map(this.transformRecord);break;default:t=this.records.map(this.transformRecord);for(var a=e;a<3;a++)t.push(this.records[a]||{type:0,time:"--:--:--"});break}return t},figure:function(){return this.figures.length>0?this.figures[this.index]:null},id:function(){return this.figure?this.figure.id:null},canShowAttendance:function(){return this.isAdmin||this.isHeadTeacher},attendanceComponent:function(){return this.isAdmin?"home-attendance-admin":"home-attendance-teacher"},sideStyle:function(){return{transform:"translateX(".concat(this.sideX,"px)")}},mainStyle:function(){return{transform:"translateX(".concat(this.mainX,"px)")}},maskStyle:function(){return{opacity:this.mainX/295*.4}}}),methods:Object(q["a"])({},Object(f["b"])(["setRuntimeMode"]),{transformRecord:function(t){var e=t.checkTimeStr.split(" ");return{type:t.type,date:e[0],time:e[1],busId:t.busId,detailid:t.checkDetailId}},checkBluetooth:function(){this.toast&&"bluetooth"!==this.toast||(this.toast=this.$native.bluetooth?null:"bluetooth")},checkFlag:function(){if(this.figure){this.need[this.id]||(this.need[this.id]={bracelet:!0,bus:!0});var t=this.need[this.id];if(t.bracelet&&0===this.figure.braceletOfBinding)return void(this.toast="bracelet");if(!this.isStaff&&t.bus&&!this.figure.busstudentId)return void(this.toast="bus")}this.$native.bluetooth?this.toast=null:this.toast="bluetooth"},connectBracelet:function(t){var e=this;this.connected&&(this.$native.disConnectBracelet(),this.connected=null),this.connecting=t,this.$native.connectBracelet(t).then(function(a){e.connected=a?t:null,e.connecting=null})},checkBracelet:function(t){var e=this;if(clearTimeout(this.timer),this.figure&&1===this.figure.braceletOfBinding&&"null"!==this.connecting&&this.connected!==this.figure.braceletMac){var a=this.figure.braceletMac;t?this.connectBracelet(a):this.timer=setTimeout(function(){e.connectBracelet(a)},2e3)}},refetch:function(t){var e=this;this.checkFlag(),this.figure&&(t&&(this.records=[],this.steps=0,this.$recordsHttpPost&&this.$recordsHttpPost.cancel(),this.$stepHttpPost&&this.$stepHttpPost.cancel()),this.checkBracelet(),this.$recordsHttpPost||(this.$recordsHttpPost=this.$http.createPost(this.isStaff?"staff/signinrecord":"parent/child/signinrecord",{opts:{retry:!0,cycle:6e4},success:function(t){return e.records=t.data}})),this.$recordsHttpPost.request(this.isStaff?{token:this.figure.token,page:1,pageSize:3}:{token:this.user.token,idStudent:this.figure.id,page:1,pageSize:3}),this.$stepHttpPost||(this.$stepHttpPost=this.$http.createPost(this.isStaff?"staff/sport":"parent/child/sport",{opts:{retry:!0},success:function(t){return e.steps=t.data.steps}})),this.$stepHttpPost.request(this.isStaff?{token:this.figure.token}:{token:this.user.token,idStudent:this.figure.id}))},updatePerson:function(){var t=this;if(this.figures.length>1&&!this.$personSwiper){this.$personSwiper=new Ue.a("#person-swiper",{loop:!1,pagination:{el:"#person-pagination",longSwipesRatio:.3},on:{slideChangeTransitionStart:function(){t.$router.replace({name:"home",params:{index:t.$personSwiper.activeIndex}})}}});var e=Math.min(this.index,this.figures.length-1);e>0&&this.$personSwiper.slideTo(e,0,!1)}this.refetch()},scan:function(){this.$native.scan()},clickToast:function(){switch(this.toast){case"bracelet":this.$router.push({name:"scan",params:{id:this.id}});break;case"bus":this.$router.push({name:"modify-bus",params:{id:this.id}});break;case"bluetooth":this.$router.push({name:"bluetooth"});break;default:break}},clickToastIcon:function(){switch(this.toast){case"bracelet":case"bus":this.need[this.id][this.toast]=!1,this.checkFlag();break;case"bluetooth":this.clickToast();break;default:break}},toHistory:function(){this.figure&&this.$router.push({name:"history",params:{id:this.id}})},toMotion:function(){this.figure&&this.$router.push({name:"motion",params:{id:this.id}})},toBind:function(){this.$router.push({name:"scan",params:{id:this.id}})},toBusMap:function(t){this.$router.push({name:"bus-map",params:{busId:t.busId,id:t.detailid}})},clock:function(){this.date=new Date},ready:function(){var t=this;this.$native.isReady&&this.$native.isBraceletConnected().then(function(e){e.type?t.connected=e.mac:t.connected=null,t.connecting=null,t.checkBracelet(!0)})},checkStyle:function(){this.mainX=this.showSide?295:0,this.sideX=this.showSide?0:-50},toggleSide:function(){this.showSide=!this.showSide,this.checkStyle()},clearTouchInfo:function(){this.side.touch=!1,this.side.moving=!1,this.side.lastTouch=null,this.side.date=null},touchstart:function(t){this.side.touch=!0,this.side.lastTouch=t.touches[0],this.side.date=Date.now()},touchmove:function(t){if(this.side.touch){var e=t.touches[0],a=e.pageX-this.side.lastTouch.pageX;if(!this.side.moving){var i=e.pageY-this.side.lastTouch.pageY;if(Math.abs(i)>Math.abs(a)||this.showSide&&a>0||!this.showSide&&a<0)return void this.clearTouchInfo()}t.preventDefault(),this.side.moving=!0,this.side.lastTouch=e,this.mainX=Math.max(0,Math.min(295,this.mainX+a)),this.sideX=this.mainX/6-50}},touchend:function(){if(this.side.touch&&this.side.moving){var t=Date.now()-this.side.date<200;this.clearTouchInfo(),t?this.toggleSide():this.showSide&&this.mainX<200?this.toggleSide():!this.showSide&&this.mainX>100?this.toggleSide():this.checkStyle()}},braceletChanged:function(t){t&&t.macAddress&&(this.connected=t.macAddress)}}),watch:{figures:function(){var t=this;this.$nextTick(function(){t.updatePerson()})}},beforeRouteUpdate:function(t,e,a){var i=t.params.index||0;i!==this.index&&(this.index=Math.min(i,this.figures.length-1),this.refetch(!0),this.$personSwiper&&this.$personSwiper.realIndex!==i&&this.$personSwiper.slideTo(i,0,!1)),a()},created:function(){var t=this;this.ready(),this.setRuntimeMode("normal"),this.index=this.$route.params.index||0,this.$eventBus.$on(Sa,this.checkBluetooth),this.$eventBus.$on(wa,this.ready),this.$eventBus.$on(Pa,this.braceletChanged),this.clockTimer=setInterval(function(){t.clock()},6e4)},mounted:function(){this.updatePerson()},beforeDestroy:function(){this.$eventBus.$off(Sa,this.checkBluetooth),this.$eventBus.$off(wa,this.ready),this.$eventBus.$off(Pa,this.braceletChanged),clearTimeout(this.timer),clearInterval(this.clockTimer),this.$personSwiper&&this.$personSwiper.destroy(),this.$recordsHttpPost&&this.$recordsHttpPost.cancel(),this.$stepHttpPost&&this.$stepHttpPost.cancel()}},xa=Aa,Ia=(a("69fe"),Object(d["a"])(xa,Ne,Le,!1,null,null,null));Ia.options.__file="Home.vue";var Da=Ia.exports,Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{staticClass:"p-sign-in-history",attrs:{title:t.$t("history.title")}},[a("div",{staticClass:"l-navigation__placeholder p-sign-in-history__target"},[t._v(t._s(t.name))]),a("div",{ref:"wrapper",staticClass:"l-navigation__content u-overflow-hidden"},[a("div",[a("ul",{ref:"listWrapper"},t._l(t.records,function(e,i){return a("li",{key:i},[t._o(a("div",{staticClass:"p-sign-in-history__time"},[t._v(t._s(e.label))]),0,i),a("div",{staticClass:"p-sign-in-history__timeline"},t._l(e.records,function(e,i){return a("div",{key:i,staticClass:"c-timeline__point"},[a("div",{staticClass:"c-timeline__header"}),a("div",{staticClass:"c-timeline__tail"}),a("div",{staticClass:"c-timeline__content"},[a("div",{staticClass:"c-timeline__time"},[t._v(t._s(e.time))]),a("div",{staticClass:"c-timeline__info"},[a("div",{staticClass:"c-timeline__row"},[t._v(t._s(t.$t("record."+e.type)))]),3===e.type||5===e.type?a("div",{staticClass:"c-timeline__row"},[a("div",{staticClass:"p-sign-in-history__bus t-adapt-color",on:{click:function(a){t.toBusMap(e)}}},[t._v(t._s(t.$t("record.bus")))])]):t._e()])])])}))])})),t.canPullUp?a("div",{staticClass:"p-sign-in-history__pullup"},[t._v(t._s(t.pullUpTip))]):t._e()]),a("loading",{attrs:{fetching:t.loading,isError:t.isError,retry:t.fetch}}),t.empty?a("div",{staticClass:"p-sign-in-history__time"},[t._v(t._s(t.$t("common.empty")))]):t._e()],1)])},Ea=[];function Ma(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var Na=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.fetching||t.isError?i("div",{staticClass:"c-loading"},[t.fetching?i("div",{staticClass:"c-loading__tip"},[i("img",{staticClass:"c-loading__icon",attrs:{src:a("88a7")}}),t._v(t._s(t.$t("common.loading")))]):t.isError?i("div",{staticClass:"c-loading__button",on:{click:t.retry}},[t._v(t._s(t.$t("common.retry")))]):t._e()]):t._e()},La=[],ja={name:"loading",props:{fetching:{type:Boolean,default:!1,required:!0},isError:{type:Boolean,default:!1,required:!0},retry:{type:Function,required:!0}}},Ua=ja,Ha=(a("bdca"),Object(d["a"])(Ua,Na,La,!1,null,"0dbfcc10",null));Ha.options.__file="Loading.vue";var Ba=Ha.exports,Fa={name:"sign-in-history",components:{navigationWrapper:Ie,loading:Ba},data:function(){return{records:[],httpPost:null,page:1,pageSize:20,isPullUpLoad:!1,error:!1,hasMore:!0,hasFetched:!1}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff","getFigure"]),{url:function(){return this.isStaff?"staff/signinrecord":"parent/child/signinrecord"},id:function(){return Number(this.$route.params.id)},figure:function(){return this.getFigure(this.id)},name:function(){return this.figure?this.figure.name:""},fetching:function(){return this.httpPost&&this.httpPost.isRequesting()},loading:function(){return this.fetching&&!this.hasFetched},isError:function(){return this.error&&!this.hasFetched},has:function(){return this.records.length>0},empty:function(){return this.hasFetched&&!this.has},canPullUp:function(){return this.hasFetched&&this.has},pullUpTip:function(){return this.isPullUpLoad?this.$t("pullUp.loading"):this.hasMore?this.$t("pullUp.more"):this.$t("pullUp.finished")}}),methods:{initScroll:function(){var t=this;this.$refs.wrapper&&this.has&&!this.$scroll&&(this.$refs.listWrapper.style.minHeight="".concat(Ma(this.$refs.wrapper).height+1,"px"),this.$scroll=new et["a"](this.$refs.wrapper,{scrollY:!0,click:!0,probeType:2,pullUpLoad:{threshold:10}}),this.$scroll.on("pullingUp",function(){t.hasMore&&!t.fetching?(t.isPullUpLoad=!0,t.fetch()):t.$scroll.finishPullUp()}))},pullUpFnished:function(){this.isPullUpLoad&&(this.isPullUpLoad=!1,this.$scroll.finishPullUp())},forceUpdate:function(){var t=this;this.$nextTick(function(){t.$scroll?(t.pullUpFnished(),t.$scroll.refresh()):t.initScroll()})},checkDayStr:function(t,e){var a=new Date;return this.isSameDay(a,t)?this.$t("history.today"):(a.setDate(a.getDate()-1),this.isSameDay(a,t)?this.$t("history.yesterday"):e)},isSameDay:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},add:function(t){if(this.hasFetched=!0,t.length<this.pageSize&&(this.hasMore=!1),0!==t.length){for(var e,a,i,s=this.records[this.records.length-1],n=0,o=t.length;n<o;n++)e=t[n],a=e.checkTimeStr.split(" "),i=new Date(e.checkTime),s&&this.isSameDay(s.date,i)||(s={label:this.checkDayStr(i,a[0]),date:i,records:[]},this.records.push(s)),s.records.push({type:e.type,date:a[0],time:a[1],busId:e.busId,detailid:e.checkDetailId});this.page+=1}},fetch:function(){this.httpPost.request(this.isStaff?{token:this.user.token,page:this.page,pageSize:this.pageSize}:{token:this.user.token,idStudent:this.id,page:this.page,pageSize:this.pageSize})},toBusMap:function(t){this.$router.push({name:"bus-map",params:{busId:t.busId,id:t.detailid}})}},watch:{fetching:function(t,e){var a=this;e&&!t&&setTimeout(function(){a.forceUpdate()},20)}},created:function(){var t=this;this.httpPost=this.$http.createPost(this.url,{success:function(e){t.error=!1,t.add(e.data)},fail:function(){t.error=!0}}),this.fetch()},mounted:function(){this.initScroll()},beforeDestroy:function(){this.httpPost&&this.httpPost.cancel(),this.$scroll&&this.$scroll.destroy()}},Ra=Fa,Wa=(a("b1fa"),Object(d["a"])(Ra,Oa,Ea,!1,null,null,null));Wa.options.__file="SignInHistory.vue";var qa=Wa.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{staticClass:"p-motion",attrs:{title:t.$t("motion.title")}},[a("div",{staticClass:"l-navigation__content has-padding"},[a("div",{staticClass:"p-motion__header"},[a("div",{staticClass:"p-motion-today u-clearfix"},[a("div",{staticClass:"p-motion-today__tip"},[t._v("\n          "+t._s(t.$t("motion.today"))+"\n          "),a("div",{staticClass:"p-motion-today__time"},[t._v(t._s(t.today))])]),a("div",{staticClass:"p-motion-today__value"},[t._v(t._s(t.todaySteps)),a("span",{staticClass:"p-motion-today__unit"},[t._v(t._s(t.$t("motion.unit")))])])])]),a("div",{staticClass:"p-motion__tab"},[a("div",{staticClass:"o-tab",class:{"is-active":1===t.type},on:{click:function(e){t.changeType(1)}}},[t._v(t._s(t.$t("motion.weekly")))]),a("div",{staticClass:"o-tab",class:{"is-active":2===t.type},on:{click:function(e){t.changeType(2)}}},[t._v(t._s(t.$t("motion.monthly")))])]),a("div",{staticClass:"p-motion__chart"},[a("schart",{attrs:{mode:1,steps:t.steps}})],1)])])},Va=[],za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("canvas",{ref:"el",staticClass:"c-step-chart",on:{click:t.click}})},Ya=[];a("6b54"),a("6c7b");function Ja(t){this.init(t)}Ja.prototype={margin:20,width:0,height:0,isDataLoad:!1,data:null,points:[],fontFamily:"sans-serif,arial",day:null,yAxis:16e3,yAxisIc:4e3,quadRadius:30,headText:"Steps",chartFontSize:30,chartMeanLine:0,rectHead:{x:0,y:0,width:0,height:0},rectChart:{x:0,y:0,width:0,height:0},rectChartCenter:{x:0,y:0,width:0,height:0},value:1,fill:{gradient:[["#21b881",.1],["#0e8fa2",.9]],gradientAngle:-45*Math.PI/180},animation:{duration:400,easing:"wcChart"},animationStartValue:0,animationPoint:null,constructor:Ja,el:null,canvas:null,ctx:null,fillPattern:null,lastFrameValue:0,timer:null,mode:0,init:function(t){Object.assign(this,t),clearInterval(this.timer),this.initWidget(),this.initRect(),this.initFill(),t.data?this.setData(t.data):this.draw()},setData:function(t){this.isDataLoad=!0,clearInterval(this.timer),this.data=t,this.initData(),this.draw()},initWidget:function(){var t=this.el,e=this.canvas=this.canvas||this.el;e.width=this.width=0===this.width?t.offsetWidth:this.width,e.height=this.height=0===this.height?t.offsetHeight:this.height,this.ctx=e.getContext("2d")},initRect:function(){var t=this.margin,e=88;this.rectHead={x:t,y:0,width:this.width-2*t,height:e},this.rectChart={x:t,y:e,width:this.width-2*t,height:this.height-e},this.rectChartCenter={x:this.rectChart.x,y:this.rectChart.y+2.5*this.chartFontSize,width:this.rectChart.width-.8*this.chartFontSize,height:this.rectChart.height-5*this.chartFontSize}},initPointsBySteps:function(t){var e,a=Math.max.apply(Math,t),i=this.rectChartCenter.width/(t.length-1);e=null===this.day?new Date:new Date(this.day.getTime());var s=a<=this.yAxis?this.yAxis:Math.ceil((a-this.yAxis)/this.yAxisIc)*this.yAxisIc+this.yAxis;e.setDate(e.getDate()-t.length+1),this.chartMeanLine=this.rectChartCenter.y+this.rectChartCenter.height-1e4*this.rectChartCenter.height/s,this.points=[];for(var n=0,o=t.length;n<o;n++)this.points[n]={x:this.rectChartCenter.x+i*n,y:this.rectChartCenter.y+this.rectChartCenter.height-t[n]*this.rectChartCenter.height/s,value:t[n],text:0===n?e.getMonth()+1+"/"+e.getDate():e.getDate(),radius:n===o-1?8:6,textAlign:0===n?"left":"center",rect:{x:this.rectChartCenter.x+i*(n-.5),y:this.rectChart.y,width:i,height:this.rectChart.height}},e.setDate(e.getDate()+1);this.animationPoint=t.length-1},initPointsByObj:function(t){var e=Math.max.apply(Math,t.map(function(t){return t.steps})),a=this.rectChartCenter.width/(t.length-1),i=e<=this.yAxis?this.yAxis:Math.ceil((e-this.yAxis)/this.yAxisIc)*this.yAxisIc+this.yAxis;this.chartMeanLine=this.rectChartCenter.y+this.rectChartCenter.height-1e4*this.rectChartCenter.height/i;var s,n,o=t.length,r=o>7,c=6,l=(c-o%c)%c;this.points=[];for(var d=0;d<o;d++)s=new Date(t[o-1-d].time),n=0===d?s.getMonth()+1+"/"+s.getDate():d!==o-1&&r&&l!==c-1?"":s.getDate(),l=(l+1)%c,this.points.push({x:this.rectChartCenter.x+a*d,y:this.rectChartCenter.y+this.rectChartCenter.height-t[d].steps*this.rectChartCenter.height/i,value:t[d].steps,text:n,radius:d===o-1?8:6,textAlign:0===d?"left":"center",rect:{x:this.rectChartCenter.x+a*(d-.5),y:this.rectChart.y,width:a,height:this.rectChart.height}});this.animationPoint=t.length-1},initData:function(){this.data&&!1!==this.isDataLoad?0===this.mode?this.initPointsBySteps(this.data):1===this.mode?this.initPointsByObj(this.data):this.points=[]:this.initPointsBySteps([])},initFill:function(){var t=this.fill,e=this.ctx,a=this.width,i=this.height;if(!t)throw Error("The fill is not specified!");if(t.color&&(this.fillPattern=t.color),t.gradient){var s=t.gradient;if(1===s.length)this.fillPattern=s[0];else if(s.length>1){for(var n=t.gradientAngle||0,o=t.gradientDirection||[a/2*(1-Math.cos(n)),i/2*(1+Math.sin(n)),a/2*(1+Math.cos(n)),i/2*(1-Math.sin(n))],r=e.createLinearGradient.apply(e,o),c=0;c<s.length;c++){var l=s[c],d=c/(s.length-1);Array.isArray(l)&&(d=l[1],l=l[0]),r.addColorStop(d,l)}this.fillPattern=r}}},draw:function(){this.animation&&null!==this.animationPoint?this.drawAnimated():this.drawFrame(this.value)},drawFrame:function(t){this.lastFrameValue=t,this.ctx.fillStyle="white",this.ctx.strokeStyle="white",this.drawBack(),this.drawHead(),this.drawChart(),this.drawStep(t)},drawBack:function(){var t=this.ctx;t.save(),t.fillStyle=this.fillPattern,t.globalAlpha=1,this.roundRect(0,0,this.width,this.height,this.quadRadius,!0,!1),t.restore()},drawHead:function(){var t=48,e=this.ctx;e.save(),e.globalAlpha=.8,e.font=t+"px "+this.fontFamily,e.fillStyle="white",e.fillText(this.headText,this.rectHead.x,this.rectHead.y+t+this.margin,this.rectHead.width),e.beginPath(),e.globalAlpha=.8,e.moveTo(this.rectHead.x,this.rectHead.y+this.rectHead.height),e.lineTo(this.rectHead.x+this.rectHead.width,this.rectHead.y+this.rectHead.height),e.stroke(),e.restore()},drawChart:function(){if(!1!==this.isDataLoad&&0!==this.points.length){var t=this.ctx;t.save(),t.fillStyle="white",t.globalAlpha=.6,t.font=this.chartFontSize-8+"px "+this.fontFamily,t.fillText("1W",this.rectChartCenter.x+this.rectChartCenter.width+4,this.chartMeanLine+this.chartFontSize/2.8),t.beginPath(),t.lineWidth=1,this.dashedLineTo(this.rectChartCenter.x,this.chartMeanLine,this.rectChartCenter.x+this.rectChartCenter.width,this.chartMeanLine,[7,4]),t.stroke(),t.font=this.chartFontSize+"px "+this.fontFamily;for(var e=0;e<this.points.length;e++)this.points[e].text&&(t.textAlign=this.points[e].textAlign,t.globalAlpha=e===this.animationPoint?1:.5,t.fillText(this.points[e].text,this.points[e].x,this.rectChartCenter.y+this.rectChartCenter.height+1.5*this.chartFontSize));for(var a=0;a<this.points.length;a++)t.globalAlpha=1,t.beginPath(),t.arc(this.points[a].x,this.points[a].y,this.points[a].radius,0,2*Math.PI),t.fill(),0!==a&&(t.save(),t.beginPath(),t.lineWidth=3,t.moveTo(this.points[a-1].x,this.points[a-1].y),0!==this.points[a-1].value?t.lineTo(this.points[a].x,this.points[a].y):(t.globalAlpha=.5,this.dashedLineTo(this.points[a-1].x,this.points[a-1].y,this.points[a].x,this.points[a].y,7)),t.stroke(),t.restore());t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(var i=1;i<this.points.length;i++)t.lineTo(this.points[i].x,this.points[i].y);t.lineTo(this.rectChartCenter.x+this.rectChartCenter.width,this.rectChartCenter.y+this.rectChartCenter.height),t.lineTo(this.rectChartCenter.x,this.rectChartCenter.y+this.rectChartCenter.height),t.lineTo(this.points[0].x,this.points[0].y),t.fillStyle="white",t.globalAlpha=.1,t.fill(),t.restore()}},drawStep:function(t){if(!(null===this.animationPoint||this.animationPoint<0||this.animationPoint>=this.points.length||!1===this.isDataLoad)){var e=this.ctx,a=this.points[this.animationPoint],i=this.rectChartCenter.y-1.3*this.chartFontSize,s=a.y,n=(1-t)*Math.abs(s-i)+i,o=.4,r=.8,c=t*(r-o)+o;e.save(),e.font="bold "+this.chartFontSize+"px "+this.fontFamily,e.textAlign=this.animationPoint===this.points.length-1?"right":a.textAlign,e.fillStyle="white",e.globalAlpha=c,e.fillText(a.value.toString(),a.x,n),e.restore()}},easing:function(t,e,a,i,s){return i*Math.sqrt(1-(e=e/s-1)*e)+a},drawAnimated:function(){var t=this;this.timer&&clearInterval(this.timer);var e=Date.now();this.timer=setInterval(function(){var a=(Date.now()-e)/t.animation.duration;t.drawFrame(t.easing(a,t.animation.duration*a,0,1,t.animation.duration)),a>=1&&clearInterval(t.timer)},0)},clickFuc:function(t){var e={x:t.pageX*this.scaleX,y:t.pageY*this.scaleY};if(this.isPointInRect(this.rectChart,e)&&this.isDataLoad)for(var a=this.points,i=0;i<a.length;i++)if(this.isPointInRect(a[i].rect,e)){this.animationPoint=i,this&&this.draw();break}},isPointInRect:function(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},roundRect:function(t,e,a,i,s,n,o){o="undefined"===typeof o||o,o="undefined"===typeof o||o,s="undefined"===typeof s?5:s,this.ctx.beginPath(),this.ctx.moveTo(t+s,e),this.ctx.lineTo(t+a-s,e),this.ctx.quadraticCurveTo(t+a,e,t+a,e+s),this.ctx.lineTo(t+a,e+i-s),this.ctx.quadraticCurveTo(t+a,e+i,t+a-s,e+i),this.ctx.lineTo(t+s,e+i),this.ctx.quadraticCurveTo(t,e+i,t,e+i-s),this.ctx.lineTo(t,e+s),this.ctx.quadraticCurveTo(t,e,t+s,e),this.ctx.closePath(),o&&this.ctx.stroke(),n&&this.ctx.fill()},dashedLineTo:function(t,e,a,i,s){var n=0,o=0;"undefined"===typeof s?(o=5,n=5):s.constructor===Array?(o=s[0],n=s[1]):o=n=s;for(var r=a-t,c=i-e,l=Math.floor(Math.sqrt(r*r+c*c)),d=o+n,h=d<=0?l:Math.floor(l/d),u=c/l*o,p=r/l*o,f=r/l*d,m=c/l*d,v=t,g=e,b=0;b<h;b++)this.ctx.moveTo(v,g),this.ctx.lineTo(v+p,g+u),v+=f,g+=m}};var Za={name:"step-chart",props:["steps","mode"],data:function(){return{wcChart:null}},methods:{click:function(t){this.wcChart&&this.wcChart.clickFuc(t)},refresh:function(){this.wcChart.setData(this.steps)}},watch:{steps:function(){this.refresh()}},mounted:function(){var t=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,a=750,i=375;this.wcChart=new Ja({width:a,height:i,scaleX:a/t,scaleY:i/e,el:this.$refs.el,mode:this.mode||0})},beforeDestroy:function(){this.wcChart&&clearInterval(this.wcChart.timer)}},Qa=Za,Xa=(a("411c"),Object(d["a"])(Qa,za,Ya,!1,null,null,null));Xa.options.__file="StepChart.vue";var Ka=Xa.exports,ti={name:"motion",components:{navigationWrapper:Ie,schart:Ka},data:function(){return{date:new Date,todaySteps:0,type:1,steps:null}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"]),{today:function(){return this.$t("format.date",{week:this.$d(this.date,"week"),month:this.$d(this.date,"month"),day:this.date.getDate(),year:this.date.getFullYear()})},stepUrl:function(){return this.isStaff?"staff/sport":"parent/child/sport"},url:function(){return this.isStaff?"staff/stepsstat":"parent/child/stepstate"},id:function(){return Number(this.$route.params.id)},postData:function(){return this.isStaff?{token:this.user.token,type:this.type}:{token:this.user.token,idStudent:this.id,type:this.type}}}),methods:{back:function(){this.$router.back()},fetchTodaySteps:function(){var t=this;this.$stepHttpPost||(this.$stepHttpPost=this.$http.createPost(this.stepUrl,{success:function(e){return t.todaySteps=e.data.steps}})),this.$stepHttpPost.request(this.isStaff?{token:this.user.token}:{token:this.user.token,idStudent:this.id})},fetch:function(){var t=this;this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{success:function(e){return t.steps=e.data.map(function(t){return{time:t.sportDate,steps:t.steps}})}})),this.$httpPost.request(this.isStaff?{token:this.user.token,type:this.type}:{token:this.user.token,idStudent:this.id,type:this.type})},changeType:function(t){this.type!==t&&(this.type=t,this.steps=null,this.fetch())}},beforeRouteUpdate:function(t,e,a){this.date=new Date,this.todaySteps=0,this.steps=null,this.fetchTodaySteps(),this.fetch(),a()},created:function(){this.fetchTodaySteps(),this.fetch()},beforeDestroy:function(){this.$stepHttpPost&&this.$stepHttpPost.cancel(),this.$httpPost&&this.$httpPost.cancel()}},ei=ti,ai=(a("6cde"),Object(d["a"])(ei,Ga,Va,!1,null,"1f0bc2d0",null));ai.options.__file="Motion.vue";var ii=ai.exports,si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("home.menu.account")}},[a("div",{staticClass:"l-navigation__content has-padding"},[a("ul",[a("li",{staticClass:"c-account-info"},[a("div",{staticClass:"c-account-info__name u-more"},[t._v(t._s(t.user.name))]),a("div",{staticClass:"c-account-info__avatar c-avatar",class:{"has-avatar":!!t.user.headUrl},on:{click:t.upload}},[t.user.headUrl?a("div",{staticClass:"c-avatar__icon"},[a("i",{style:{backgroundImage:"url("+t.user.headUrl+")"}})]):t._e()])]),t.isStaff?a("li",{staticClass:"c-info-item"},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("account.id")))]),a("div",{staticClass:"c-info-item__value"},[t._v(t._s(t.user.legacyId))])]):t._e(),t.isStaff?t._e():a("li",{staticClass:"c-info-item"},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("account.relationship")))]),a("div",{staticClass:"c-info-item__value"},[t._v(t._s(t.relationship))])]),a("router-link",{staticClass:"c-info-item",attrs:{tag:"li",to:{name:"modify-mobile-confirm"}}},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("account.phone")))]),a("div",{staticClass:"c-info-item__value u-more"},[t._v(t._s(t.user.mobilePhone))])]),a("router-link",{staticClass:"c-info-item",attrs:{tag:"li",to:{name:"modify-email"}}},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("account.email")))]),a("div",{staticClass:"c-info-item__value u-more"},[t._v(t._s(t.user.email))])])],1),a("input",{ref:"fileUpload",staticClass:"u-display-none",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFile}})])])},ni=[],oi={name:"account-info",components:{navigationWrapper:Ie},data:function(){return{cancelSource:null}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"]),{url:function(){return this.isStaff?"staff/pic/modify":"parent/pic/modify"},relationship:function(){return this.isStaff?"":1===this.user.relationship?this.$t("relationship.father"):2===this.user.relationship?this.$t("relationship.mother"):""}}),methods:Object(q["a"])({},Object(f["b"])(["updateUserInfo"]),{upload:function(){this.user&&this.url&&this.$refs.fileUpload&&!this.cancelSource&&this.$refs.fileUpload.click()},clear:function(){this.cancelSource=null,this.$refs.fileUpload.value=null},handleFile:function(t){var e=this,a=t.target||t.srcElement,i=a.files[0];i&&(this.cancelSource=this.$http.cancelSource(),this.$http.uploadFile("common/pic/upload",i,{lock:!0,cancelToken:this.cancelSource.token}).then(function(t){e.clear(),e.changeAvatar(t.data.realPath)},function(){e.clear()}))},changeAvatar:function(t){var e=this;this.$log("account head url: ".concat(t)),this.cancelSource=this.$http.cancelSource(),this.$http.post(this.url,{token:this.user.token,picImgPath:t},{lock:!0,cancelToken:this.cancelSource.token}).then(function(){e.cancelSource=null,e.updateUserInfo({headUrl:t})},function(){e.cancelSource=null})}}),beforeDestroy:function(){this.cancelSource&&this.cancelSource.cancel("destroy")}},ri=oi,ci=Object(d["a"])(ri,si,ni,!1,null,null,null);ci.options.__file="AccountInfo.vue";var li=ci.exports,di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-operation p-bluetooth"},[a("div",{staticClass:"p-bluetooth__back_bg"},[a("div",{staticClass:"p-bluetooth__back_wrapper",on:{click:t.back}},[a("div",{staticClass:"p-bluetooth__back"})])]),a("div",{staticClass:"l-operation__title"},[t._v(t._s(t.$t("bluetooth.title")))]),a("div",{staticClass:"l-operation__header"},[t._v("\n    "+t._s(t.$t("bluetooth.tip"))+"\n    "),t.isIos?a("div",{staticClass:"ios-bluetooth-tip"},[a("div",[t._v(t._s(t.$t("bluetooth.iosUp")))]),a("div",[t._v(t._s(t.$t("bluetooth.iosDown"))),a("span",{staticClass:"ios-bluetooth-tip__button",class:{"is-active":t.isShow},on:{click:t.toggle}},[t._v(t._s(t.$t("bluetooth.how")))])])]):t._e()]),a("div",{staticClass:"l-operation__content u-align-c",class:{"p-bluetooth__ios":t.isIos}},[t.isAndroid?a("div",{staticClass:"p-bluetooth__img"}):t._e(),t.showPic?a("div",[a("div",[a("div",{staticClass:"p-bluetooth__img--tip",class:{"is-cn":t.isCN}})]),t._m(0)]):t._e()]),t.isAndroid?a("div",{staticClass:"l-operation__footer"},[a("div",{staticClass:"l-operation__button o-border-button o-button--cancel",on:{click:t.back}},[t._v(t._s(t.$t("common.cancel")))]),a("div",{staticClass:"l-operation__button o-button t-adapt-button",on:{click:t.open}},[t._v(t._s(t.$t("common.open")))])]):t._e()])},hi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"p-bluetooth__img"})])}],ui={name:"wifi",data:function(){return{os:null,isShow:!1}},computed:{isAndroid:function(){return"android"===this.os},isIos:function(){return"ios"===this.os},showPic:function(){return this.isIos&&this.isShow},isCN:function(){return"en"!==this.$i18n.locale}},methods:{toggle:function(){this.isShow=!this.isShow},back:function(){this.$router.back()},open:function(){this.isAndroid&&this.$native.openSysSetting()}},created:function(){var t=this;this.$native.getNativeOS().then(function(e){t.os=e})}},pi=ui,fi=(a("3b56"),Object(d["a"])(pi,di,hi,!1,null,null,null));fi.options.__file="Bluetooth.vue";var mi=fi.exports,vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("home.menu.setting")}},[a("div",{staticClass:"l-navigation__content has-padding"},[a("ul",[a("li",{staticClass:"c-info-item"},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("setting.voice")))]),a("div",{staticClass:"c-info-item__switch o-switch",class:{"is-on":t.voice},on:{click:t.toggleVoice}})]),a("li",{staticClass:"c-info-item"},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("setting.notice")))]),a("div",{staticClass:"c-info-item__switch o-switch",class:{"is-on":t.notice},on:{click:t.toggleNotice}})]),a("router-link",{staticClass:"c-info-item",attrs:{tag:"li",to:{name:"modify-language"}}},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("setting.language")))]),a("div",{staticClass:"c-info-item__value u-more"},[t._v(t._s(t.langVal))])])],1)])])},gi=[],bi={name:"setting",components:{navigationWrapper:Ie},data:function(){return{voice:!1,lang:null}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"]),{langVal:function(){return this.lang?this.lang.text:""},notice:function(){return 1===this.user.isReceiveNotify},noticeUrl:function(){return this.isStaff?"staff/notify/receive":"parent/notify/receive"}}),methods:Object(q["a"])({},Object(f["b"])(["updateUserInfo"]),{toggleVoice:function(){this.voice=!this.voice},toggleNotice:function(){var t=this;this.$noticeHttpPost||(this.$noticeHttpPost=this.$http.createPost(this.noticeUrl,{opts:{lock:!0},success:function(e,a){t.updateUserInfo({isReceiveNotify:a.isReceiveNotify})}})),this.$noticeHttpPost.request({token:this.user.token,isReceiveNotify:this.notice?0:1})}}),created:function(){var t=this;this.lang=ct.find(function(e){return e.key===t.$i18n.locale})},beforeDestroy:function(){this.$noticeHttpPost&&this.$noticeHttpPost.cancel()}},_i=bi,yi=Object(d["a"])(_i,vi,gi,!1,null,null,null);yi.options.__file="Setting.vue";var Ci=yi.exports,wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{staticClass:"c-modify",attrs:{title:t.$t("account.email")}},[a("div",{staticClass:"l-navigation__content l-form"},[a("form-field",{attrs:{label:t.$t("email.label"),error:t.emailErr},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),a("form-field",{attrs:{label:t.$t("common.confirm"),error:t.confirmErr},model:{value:t.confirmEmail,callback:function(e){t.confirmEmail=e},expression:"confirmEmail"}}),a("div",{staticClass:"o-button o-button--submit t-adapt-button--active c-modify__submit",class:{"is-active":t.isValid},on:{click:t.save}},[t._v(t._s(t.$t("common.save")))]),a("div",{staticClass:"c-modify__error"},[t._v(t._s(t.error))])],1)])},ki=[],$i={name:"modify-email",components:{navigationWrapper:Ie,formField:Z},data:function(){return{email:"",emailErr:"",confirmEmail:"",confirmErr:"",error:""}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"]),{url:function(){return this.isStaff?"staff/email/modify":"parent/email/modify"},isValid:function(){return!!this.email&&!!this.confirmEmail}}),methods:Object(q["a"])({},Object(f["b"])(["updateUserInfo"]),{save:function(){var t=this;if(this.isValid){if(this.error="",!/^[a-z0-9A-Z]+[-|a-z0-9A-Z._]+@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-z]{2,}$/.test(this.email))return this.emailErr=this.$t("email.formatErr"),void(this.confirmErr="");if(this.emailErr="",this.confirmEmail!==this.email)return void(this.confirmErr=this.$t("email.notMatch"));this.confirmErr="",this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(e,a){t.updateUserInfo({email:a.email}),t.$router.back()},fail:function(e){t.error=e.message}})),this.$httpPost.request({token:this.user.token,email:this.email})}}}),beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Si=$i,Pi=Object(d["a"])(Si,wi,ki,!1,null,null,null);Pi.options.__file="ModifyEmail.vue";var Ti=Pi.exports,Ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("setting.language")}},[a("div",{staticClass:"c-navigation-bar__button t-adapt-text",attrs:{slot:"button"},on:{click:t.save},slot:"button"},[t._v(t._s(t.$t("common.save")))]),a("div",{staticClass:"l-navigation__content has-padding"},[a("ul",t._l(t.langs,function(e,i){return a("li",{key:e.key,staticClass:"c-info-item",on:{click:function(e){t.change(i)}}},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(e.text))]),a("div",{staticClass:"c-info-item__radio",class:{"o-radio":t.index===i}})])}))])])},xi=[],Ii=(a("20d6"),{name:"",components:{navigationWrapper:Ie},data:function(){return{index:0,defaultIndex:0}},computed:{langs:function(){return ct}},methods:{change:function(t){this.index=t},save:function(){this.index!==this.defaultIndex&&(this.$i18n.locale=this.langs[this.index].key,window.localStorage.setItem("locale",this.$i18n.locale)),this.$router.back()}},created:function(){var t=this.$i18n.locale;this.index=this.langs.findIndex(function(e){return e.key===t}),this.defaultIndex=this.index}}),Di=Ii,Oi=Object(d["a"])(Di,Ai,xi,!1,null,null,null);Oi.options.__file="ModifyLanguage.vue";var Ei=Oi.exports,Mi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",[a("div",{staticClass:"l-navigation__content l-form"},[a("div",{staticClass:"u-align-c"},[a("div",{staticClass:"p-about__logo"})]),a("div",{staticClass:"p-about__app"},[t._v(t._s(t.$t("about.app")))]),a("div",{staticClass:"p-about__version"},[t._v(t._s(t.version))]),a("div",{staticClass:"p-about__content"},[a("div",{staticClass:"p-about__info"},[t._v("1. Contact who, and how if people hava problem with the App or bracelet;")]),a("div",{staticClass:"p-about__info"},[t._v("2. Where (who and how or may be how much) to register the bracelet;")]),a("div",{staticClass:"p-about__info"},[t._v("3. In addition to contact person should create a Appinfo@cdnis.edu.hk email address as a genneral email contact point for people to ask or comment")])])])])},Ni=[],Li={name:"about",components:{navigationWrapper:Ie},data:function(){return{version:""}},methods:{getVersion:function(){var t=this;this.$native.getNativeAPPVer().then(function(e){t.version="".concat(t.$t("about.version")," ").concat(e)})}},created:function(){this.$eventBus.$on(wa,this.getVersion),this.getVersion()},beforeDestroy:function(){this.$eventBus.$off(wa,this.getVersion)}},ji=Li,Ui=(a("6d6d"),Object(d["a"])(ji,Mi,Ni,!1,null,null,null));Ui.options.__file="About.vue";var Hi=Ui.exports,Bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{staticClass:"p-faq",attrs:{title:t.$t("home.menu.faq")}},[a("div",{staticClass:"l-navigation__content"},[a("ul",[a("li",{staticClass:"p-faq__item"},[a("div",{staticClass:"p-faq__label u-more"},[t._v("My 15 Years @ CDNIS")])]),a("li",{staticClass:"p-faq__item"},[a("div",{staticClass:"p-faq__label u-more"},[t._v("Village of Idiots-2018 Upper School Production")])]),a("li",{staticClass:"p-faq__item"},[a("div",{staticClass:"p-faq__label u-more"},[t._v("Habitat for Hummanity: Paint Your Hammer")])])])])])},Fi=[],Ri={name:"faq",components:{navigationWrapper:Ie}},Wi=Ri,qi=(a("5374"),Object(d["a"])(Wi,Bi,Fi,!1,null,null,null));qi.options.__file="FAQ.vue";var Gi=qi.exports,Vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("home.menu.kids")}},[a("div",{staticClass:"l-navigation__content has-padding"},[a("ul",t._l(t.figures,function(e){return a("li",{key:e.id,staticClass:"c-children-item",on:{click:function(a){t.choose(e)}}},[a("div",{staticClass:"c-children-item__avatar",class:{"c-avatar--boy":1===e.relationship,"c-avatar--girl":2===e.relationship,"has-avatar":!!e.headUrl}},[e.headUrl?a("div",{staticClass:"c-avatar__icon"},[a("i",{style:{backgroundImage:"url("+e.headUrl+")"}})]):t._e()]),a("div",{staticClass:"c-children-item__name u-more"},[t._v(t._s(e.name))])])}))])])},zi=[],Yi={name:"children",components:{navigationWrapper:Ie},computed:Object(q["a"])({},Object(f["d"])(["figures"])),methods:{choose:function(t){this.$router.push({name:"children-info",params:{id:t.id}})}}},Ji=Yi,Zi=(a("2137"),Object(d["a"])(Ji,Vi,zi,!1,null,null,null));Zi.options.__file="Children.vue";var Qi=Zi.exports,Xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("home.menu.kids")}},[a("div",{staticClass:"l-navigation__content has-padding"},[a("ul",[a("li",{staticClass:"c-account-info"},[a("div",{staticClass:"c-account-info__name u-more"},[t._v(t._s(t.name))]),t.figure?a("div",{staticClass:"c-account-info__avatar",class:{"c-avatar--boy":1===t.sex,"c-avatar--girl":2===t.sex,"has-avatar":!!t.figure.headUrl},on:{click:t.upload}},[t.figure.headUrl?a("div",{staticClass:"c-avatar__icon"},[a("i",{style:{backgroundImage:"url("+t.figure.headUrl+")"}})]):t._e()]):t._e()]),a("li",{staticClass:"c-info-item"},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("account.relationship")))]),a("div",{staticClass:"c-info-item__value"},[t._v(t._s(t.relationship))])]),a("li",{staticClass:"c-info-item"},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("account.student")))]),a("div",{staticClass:"c-info-item__value"},[t._v(t._s(t.studentId))])]),a("li",{staticClass:"c-info-item",on:{click:t.changeBus}},[a("div",{staticClass:"c-info-item__label"},[t._v(t._s(t.$t("account.bus")))]),a("div",{staticClass:"c-info-item__value u-more"},[t._v(t._s(t.bus))])])]),a("input",{ref:"fileUpload",staticClass:"u-display-none",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFile}})])])},Ki=[],ts={name:"children-info",components:{navigationWrapper:Ie},data:function(){return{cancelSource:null}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["getFigure"]),{id:function(){return Number(this.$route.params.id)},figure:function(){return this.getFigure(this.id)},name:function(){return this.figure?this.figure.name:null},sex:function(){return this.figure?this.figure.relationship:1},relationship:function(){return this.figure?1===this.figure.relationship?this.$t("relationship.son"):this.$t("relationship.daughter"):null},studentId:function(){return this.figure?this.figure.studentId:null},bus:function(){return this.figure?this.figure.busId:null}}),methods:Object(q["a"])({},Object(f["b"])(["updateFigureInfo"]),{upload:function(){this.figure&&this.$refs.fileUpload&&!this.cancelSource&&this.$refs.fileUpload.click()},clear:function(){this.cancelSource=null,this.$refs.fileUpload.value=null},handleFile:function(t){var e=this,a=t.target||t.srcElement,i=a.files[0];i&&(this.cancelSource=this.$http.cancelSource(),this.$http.uploadFile("common/pic/upload",i,{lock:!0,cancelToken:this.cancelSource.token}).then(function(t){e.clear(),e.changeAvatar(t.data.realPath)},function(){e.clear()}))},changeAvatar:function(t){var e=this;this.$log("child head url: ".concat(t)),this.cancelSource=this.$http.cancelSource(),this.$http.post("parent/child/modifyPic",{token:this.user.token,idStudent:this.id,picImgPath:t},{lock:!0,cancelToken:this.cancelSource.token}).then(function(){e.cancelSource=null,e.updateFigureInfo({id:e.id,info:{headUrl:t}})},function(){e.cancelSource=null})},changeBus:function(){this.figure&&this.$router.push({name:"modify-bus",params:{id:this.figure.id}})}}),beforeDestroy:function(){this.cancelSource&&this.cancelSource.cancel("destroy")}},es=ts,as=Object(d["a"])(es,Xi,Ki,!1,null,null,null);as.options.__file="ChildrenInfo.vue";var is=as.exports,ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{staticClass:"c-modify",attrs:{title:t.$t("account.bus")}},[a("div",{staticClass:"l-navigation__content l-form"},[a("form-field",{attrs:{type:"number",placeholder:t.$t("account.bus"),tip:t.$t("bus.tip")},model:{value:t.busId,callback:function(e){t.busId="string"===typeof e?e.trim():e},expression:"busId"}}),a("div",{staticClass:"o-button o-button--submit t-adapt-button--active c-modify__submit",class:{"is-active":t.isValid},on:{click:t.save}},[t._v(t._s(t.$t("common.save")))]),a("div",{staticClass:"c-modify__error"},[t._v(t._s(t.error))])],1)])},ns=[],os={name:"modify-bus",components:{navigationWrapper:Ie,formField:Z},data:function(){return{busId:"",error:""}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["getFigure"]),{id:function(){return Number(this.$route.params.id)},figure:function(){return this.getFigure(this.id)},isValid:function(){return!!this.busId}}),methods:Object(q["a"])({},Object(f["b"])(["updateFigureInfo"]),{save:function(){var t=this;this.isValid&&(this.error="",this.$httpPost||(this.$httpPost=this.$http.createPost("parent/child/modifyBSSId",{opts:{lock:!0},success:function(e,a){t.updateFigureInfo({id:t.id,info:{busstudentId:a.BSSId}}),t.$router.back()},fail:function(e){t.error=e.message}})),this.$httpPost.request({token:this.user.token,idStudent:this.id,BSSId:this.busId}))}}),beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},rs=os,cs=Object(d["a"])(rs,ss,ns,!1,null,null,null);cs.options.__file="ModifyBus.vue";var ls=cs.exports,ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("mobile.title")}},[a("router-view",{staticClass:"l-navigation__content"})],1)},hs=[],us={name:"modify-mobile-wrapper",components:{navigationWrapper:Ie}},ps=us,fs=Object(d["a"])(ps,ds,hs,!1,null,null,null);fs.options.__file="ModifyMobileWrapper.vue";var ms=fs.exports,vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-modify-mobile-confirm is-form"},[a("div",{staticClass:"p-modify-mobile-confirm__current"},[t._v(t._s(t.$t("mobile.current")))]),a("div",{staticClass:"p-modify-mobile-confirm__mobile"},[t._v(t._s(t.mobile)+" ")]),a("div",{staticClass:"p-modify-mobile-confirm__warning"},[t._v(t._s(t.$t("mobile.warning")))]),a("div",{staticClass:"p-modify-mobile-confirm__tip"},[t._v(t._s(t.$t("mobile.tip")))]),a("router-link",{staticClass:"o-button t-adapt-button",attrs:{tag:"div",to:{name:"pre-modify-mobile"},replace:""}},[t._v(t._s(t.$t("mobile.change")))])],1)},gs=[],bs={name:"modify-mobile-confirm",computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["phoneNumber"]),{mobile:function(){var t=this.phoneNumber;if(t){var e,a,i,s=t.length;return s>5?(e=t.substring(0,2),a=t.substring(2,s-3).replace(/\d/g,"*"),i=t.substring(s-3),e+a+i):s>3?(e=t.substring(0,1),a=t.substring(1,s-1).replace(/\d/g,"*"),i=t.substring(s-1),e+a+i):t.replace(/\d/,"*")}return""}})},_s=bs,ys=(a("204c"),Object(d["a"])(_s,vs,gs,!1,null,null,null));ys.options.__file="ModifyMobileConfirm.vue";var Cs=ys.exports,ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-pre-modify-mobile is-form c-modify"},[a("div",{staticClass:"p-pre-modify-mobile__nav"},[a("div",{staticClass:"o-fixed-tab",class:{"is-active":0===t.mode},on:{click:function(e){t.changeMode(0)}}},[t._v(t._s(t.$t("mobile.tab.phone")))]),a("div",{staticClass:"o-fixed-tab",class:{"is-active":1===t.mode},on:{click:function(e){t.changeMode(1)}}},[t._v(t._s(t.$t("mobile.tab.email")))])]),0===t.mode?a("form-field",{staticClass:"c-form-field--select",attrs:{type:"number",label:t.$t("mobile.oldPhoneNumber")},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}},[a("area-code",{on:{change:t.pick}})],1):a("form-field",{staticClass:"c-form-field",attrs:{label:t.$t("mobile.oldEmail"),placeholder:t.$t("mobile.oldEmail")},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("form-field",{staticClass:"c-form-field--button",attrs:{label:t.$t("sms.vCode")},model:{value:t.vCode,callback:function(e){t.vCode=e},expression:"vCode"}},[a("sms",{attrs:{mobile:t.mobile,areaCode:t.areaCode,email:t.email,mode:t.mode}})],1),a("div",{staticClass:"o-button o-button--submit t-adapt-button--active c-modify__submit",class:{"is-active":t.isValid},on:{click:t.next}},[t._v(t._s(t.$t("common.next")))]),a("div",{staticClass:"c-modify__error"},[t._v(t._s(t.error))])],1)},ks=[],$s={name:"pre-modify-mobile",components:{formField:Z,areaCode:gt,sms:kt},data:function(){return{mode:0,areaCode:"",mobile:"",email:"",vCode:"",error:""}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"]),{url:function(){switch(this.mode){case 0:return this.isStaff,"staff/mobile/checkvcode";case 1:return this.isStaff,"staff/email/checkvcode";default:return""}},mobileVal:function(){return this.areaCode&&this.mobile?this.areaCode+this.mobile:null},account:function(){return 0===this.mode?this.mobileVal:this.email},isValid:function(){return this.account&&this.vCode}}),methods:{changeMode:function(t){this.mode!==t&&(this.areaCode="",this.mobile="",this.email="",this.vCode="",this.mode=t,this.$httpPost&&this.$httpPost.setUrl(this.url))},pick:function(t){this.areaCode=t},next:function(){var t=this;this.isValid&&(this.error="",this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(){t.$router.replace({name:"modify-mobile"})},fail:function(e){t.error=e.message}})),this.$httpPost.request(0===this.mode?{token:this.user.token,mobile:this.mobileVal,vCode:this.vCode}:{token:this.user.token,email:this.email,vCode:this.vCode}))}},created:function(){this.areaCode=this.user.areaCode,this.mobile=this.user.mobilePhone},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Ss=$s,Ps=(a("19ee"),Object(d["a"])(Ss,ws,ks,!1,null,null,null));Ps.options.__file="ModifyMobileValidate.vue";var Ts=Ps.exports,As=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-form c-modify"},[a("form-field",{staticClass:"c-form-field--select",attrs:{type:"number",label:t.$t("mobile.newPhoneNumber")},model:{value:t.mobile,callback:function(e){t.mobile="string"===typeof e?e.trim():e},expression:"mobile"}},[a("area-code",{on:{change:t.pick}})],1),a("form-field",{staticClass:"c-form-field--select",attrs:{type:"number",label:t.$t("common.confirm"),error:t.confirmErr},model:{value:t.confirmMobile,callback:function(e){t.confirmMobile="string"===typeof e?e.trim():e},expression:"confirmMobile"}},[a("area-code",{on:{change:t.confirmPick}})],1),a("div",{staticClass:"o-button o-button--submit t-adapt-button--active",class:{"is-active":t.isValid},on:{click:t.save}},[t._v(t._s(t.$t("common.save")))]),a("div",{staticClass:"c-modify__error"},[t._v(t._s(t.error))])],1)},xs=[],Is={name:"modify-mobile",components:{formField:Z,areaCode:gt},data:function(){return{mobile:"",areaCode:"",confirmMobile:"",confirmAreaCode:"",confirmErr:"",error:""}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"]),{url:function(){return this.isStaff?"staff/mobile/modify":"parent/mobile/modify"},isValid:function(){return!!(this.mobile&&this.confirmMobile&&this.areaCode&&this.confirmAreaCode)}}),methods:Object(q["a"])({},Object(f["b"])(["updateUserInfo"]),{pick:function(t){this.areaCode=t},confirmPick:function(t){this.confirmAreaCode=t},save:function(){var t=this;if(this.isValid){if(this.error="",this.confirmAreaCode!==this.areaCode||this.confirmMobile!==this.mobile)return void(this.confirmErr=this.$t("mobile.notMatch"));this.confirmErr="",this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(e,a){t.updateUserInfo({areaCode:t.areaCode,mobilePhone:t.mobile}),t.$router.back()},fail:function(e){t.error=e.message}})),this.$httpPost.request({token:this.user.token,mobile:this.areaCode+this.mobile})}}}),beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Ds=Is,Os=(a("1df5"),Object(d["a"])(Ds,As,xs,!1,null,"ae1312de",null));Os.options.__file="ModifyMobile.vue";var Es=Os.exports,Ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("home.menu.password")}},[a("router-view",{staticClass:"l-navigation__content"})],1)},Ns=[],Ls={name:"modify-pwd-wrapper",components:{navigationWrapper:Ie}},js=Ls,Us=Object(d["a"])(js,Ms,Ns,!1,null,null,null);Us.options.__file="ModifyPwdWrapper.vue";var Hs=Us.exports,Bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-form c-modify"},[a("div",{staticClass:"l-form__title"},[t._v(t._s(t.$t("resetPwd.title")))]),a("form-field",{staticClass:"c-form-field--select",attrs:{label:t.$t("sms.phone")},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}},[a("area-code",{on:{change:t.pick}})],1),a("form-field",{staticClass:"c-form-field--button",attrs:{label:t.$t("sms.vCode")},model:{value:t.vCode,callback:function(e){t.vCode=e},expression:"vCode"}},[a("sms",{attrs:{mobile:t.mobile,areaCode:t.areaCode}})],1),a("div",{staticClass:"o-button o-button--submit t-adapt-button--active c-modify__submit",class:{"is-active":t.isValid},on:{click:t.next}},[t._v(t._s(t.$t("common.next")))]),a("div",{staticClass:"c-modify__error"},[t._v(t._s(t.error))])],1)},Fs=[],Rs={name:"pre-set-pwd",components:{formField:Z,areaCode:gt,sms:kt},data:function(){return{areaCode:"",mobile:"",vCode:"",error:""}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"]),{url:function(){return this.isStaff,"staff/mobile/checkvcode"},mobileVal:function(){return this.areaCode&&this.mobile?this.areaCode+this.mobile:null},isValid:function(){return this.mobileVal&&this.vCode}}),methods:{next:function(){var t=this;this.isValid&&(this.error="",this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(){t.$router.replace({name:"modify-pwd"})},fail:function(e){t.error=e.message}})),this.$httpPost.request({token:this.user.token,mobile:this.mobileVal,vCode:this.vCode}))},pick:function(t){this.areaCode=t}},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Ws=Rs,qs=Object(d["a"])(Ws,Bs,Fs,!1,null,null,null);qs.options.__file="ModifyPwdPresent.vue";var Gs=qs.exports,Vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-form c-modify"},[a("form-field",{attrs:{label:t.$t("setPwd.oldPwd")},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}}),a("form-field",{attrs:{label:t.$t("setPwd.newPwd"),tip:t.$t("setPwd.tip"),error:t.passwordErr},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("form-field",{attrs:{label:t.$t("common.confirm"),error:t.confirmPasswordErr},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),a("div",{staticClass:"o-button o-button--submit t-adapt-button--active c-modify__submit",class:{"is-active":t.isValid},on:{click:t.save}},[t._v(t._s(t.$t("common.save")))]),a("div",{staticClass:"c-modify__error"},[t._v(t._s(t.error))])],1)},zs=[],Ys={name:"modify-pwd",components:{formField:Z},data:function(){return{oldPassword:"",password:"",confirmPassword:"",passwordErr:"",confirmPasswordErr:"",error:""}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"]),{url:function(){return this.isStaff?"staff/password/modify":"parent/password/reset"},isValid:function(){return this.oldPassword&&this.password&&this.confirmPassword}}),methods:{save:function(){var t=this;if(this.isValid){if(this.error="",this.password.length<6)return this.passwordErr=this.$t("pwdErr.tooShort"),void(this.confirmPasswordErr="");if(this.password.length>18)return this.passwordErr=this.$t("pwdErr.tooLong"),void(this.confirmPasswordErr="");if(!/^[a-zA-Z\d~!@#$%^&*()_+`\-={}:";'<>?,.]+$/.test(this.password))return this.passwordErr=this.$t("pwdErr.format"),void(this.confirmPasswordErr="");if(/^[a-zA-Z]+$/.test(this.password)||/^\d+$/.test(this.password)||/^[~!@#$%^&*()_+`\-={}:";'<>?,.]+$/.test(this.password))return this.passwordErr=this.$t("pwdErr.simple"),void(this.confirmPasswordErr="");this.passwordErr="",this.confirmPassword===this.password?(this.confirmPasswordErr="",this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{lock:!0},success:function(){t.$router.back()},fail:function(e){t.error=e.message}})),this.$httpPost.request({token:this.user.token,oldPwd:this.$md5(this.oldPassword),newPwd:this.$md5(this.password)})):this.confirmPasswordErr=this.$t("pwdErr.notMatch")}}},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Js=Ys,Zs=Object(d["a"])(Js,Vs,zs,!1,null,null,null);Zs.options.__file="ModifyPwd.vue";var Qs=Zs.exports,Xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("attendance.title")}},[a("weekly-calendar",{staticClass:"l-navigation__placeholder",attrs:{"default-date":t.date},on:{change:t.change,toggle:t.toggle}}),a("router-view",{staticClass:"l-navigation__content",attrs:{date:t.date}}),t.showCalendar?a("div",{staticClass:"c-attendance-calendar",on:{click:function(e){t.showCalendar=!1}}},[a("div",{on:{click:function(t){t.stopPropagation()}}},[a("calendar",{attrs:{weeks:t.weeks,"default-date":t.selectedDate},on:{change:t.change}})],1)]):t._e()],1)},Ks=[];function tn(t){return t<10?"0".concat(t):t}function en(t){return"".concat(t.getFullYear(),"-").concat(tn(t.getMonth()+1),"-").concat(tn(t.getDate()))}var an=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-weekly-calendar"},[a("div",{staticClass:"c-weekly-calendar__date"},[t._v(t._s(t.date))]),a("div",{staticClass:"c-weekly-calendar__wrapper"},[a("div",{ref:"swiper",staticClass:"c-weekly-calendar__slide swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.blocks,function(e,i){return a("div",{key:i,staticClass:"c-weekly-calendar__block swiper-slide"},t._l(e.items,function(e,i){return a("div",{key:i,staticClass:"c-weekly-calendar__item",attrs:{id:e.date},on:{click:function(a){t.choose(e.date)}}},[a("div",{staticClass:"c-weekly-calendar__label",class:{"is-active":t.selected===e.date,"is-disabled":e.disabled}},[t._v(t._s(e.label))])])}))}))]),a("div",{staticClass:"c-weekly-calendar__extend"},[a("i",{staticClass:"c-weekly-calendar__icon",on:{click:t.toggle}})])])])},sn=[],nn={name:"calendar-weekly",props:{defaultDate:{type:String,default:""},range:{type:Boolean,default:!0},rangeStart:{type:String,default:""},rangeEnd:{type:String,default:""}},data:function(){return{startDate:null,endDate:null,minDate:null,maxDate:null,index:1,date:"",blocks:[],selected:null}},methods:{fillZero:function(t){return t<10?"0".concat(t):t},format:function(t){return"".concat(t.getFullYear(),"-").concat(this.fillZero(t.getMonth()+1),"-").concat(this.fillZero(t.getDate()))},isValid:function(t){return!this.range||(!this.minDate||t>=this.minDate)&&t<this.maxDate},createBlock:function(t){for(var e,a=[],i=0;i<7;i++)e=this.offsetDay(t,i),a[i]={label:e.getDate(),date:this.format(e),disabled:!this.isValid(e)};return{label:this.$t("format.year-month",{year:t.getFullYear(),month:this.$d(t,"month")}),items:a}},addPreBlock:function(){return(!this.minDate||this.startDate>this.minDate)&&(this.startDate=this.offsetDay(this.startDate,-7),this.blocks.unshift(this.createBlock(this.startDate)),!0)},addNextBlock:function(){return(!this.maxDate||this.endDate<this.maxDate)&&(this.blocks.push(this.createBlock(this.endDate)),this.endDate=this.offsetDay(this.endDate,7),!0)},refresh:function(){var t=this;this.$swiper&&this.$nextTick(function(){t.$swiper.updateSlides(),t.$swiper.slideTo(t.index,0,!1)})},notify:function(){this.$emit("change",this.selected)},choose:function(t){this.selected!==t&&this.isValid(new Date(t))&&(this.selected=t,this.notify())},toggle:function(){this.$emit("toggle",this.selected)},offsetDay:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},init:function(){var t=!this.defaultDate;if(this.range){this.rangeStart?this.minDate=new Date(this.rangeStart):this.minDate=null,this.rangeEnd?this.maxDate=new Date(this.rangeEnd):this.maxDate=this.offsetDay(new Date,1),this.minDate>=this.maxDate&&(this.minDate=null);var e=this.defaultDate?new Date(this.defaultDate):new Date;e>=this.maxDate?(e=this.offsetDay(this.maxDate,-1),t=!0):this.minDate&&e<this.minDate&&(e=this.minDate,t=!0),this.selected=this.format(e)}else this.minDate=null,this.maxDate=null,this.selected=this.defaultDate||this.format(new Date);var a=new Date(this.selected),i=a.getDay();this.startDate=i>0?this.offsetDay(a,-i):a,this.endDate=this.offsetDay(this.startDate,7),this.blocks=[this.createBlock(this.startDate)],this.index=0,this.addPreBlock()&&(this.index=1),this.addNextBlock(),t&&this.notify()}},watch:{defaultDate:function(){this.init(),this.refresh()}},created:function(){this.init()},mounted:function(){var t=this;this.$swiper=new Ue.a(this.$refs.swiper,{preventInteractionOnTransition:!0,longSwipesRatio:.3,initialSlide:this.index,on:{slideChangeTransitionEnd:function(){t.$nextTick(function(){t.date=t.blocks[t.$swiper.activeIndex].label,0===t.$swiper.activeIndex?t.addPreBlock()&&t.refresh():t.$swiper.activeIndex===t.blocks.length-1?t.addNextBlock()&&(t.index+=1,t.refresh()):t.index=t.$swiper.activeIndex})}}})},beforeDestroy:function(){this.$swiper&&this.$swiper.destroy()}},on=nn,rn=(a("59e6"),Object(d["a"])(on,an,sn,!1,null,null,null));rn.options.__file="CalendarWeekly.vue";var cn=rn.exports,ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-calendar"},[a("div",{staticClass:"c-calendar__header"},[a("div",{staticClass:"c-calendar__today",on:{click:t.toToday}},[t._v(t._s(t.$t("calendar.today")))]),a("div",{staticClass:"c-calendar__current"},[t._v(t._s(t.date))])]),a("div",{staticClass:"c-calendar__row"},t._l(t.weeks,function(e,i){return a("div",{key:i,staticClass:"c-calendar__item"},[t._v(t._s(e))])})),a("div",{ref:"swiper",staticClass:"c-calendar__slide swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.blocks,function(e,i){return a("div",{key:i,staticClass:"c-calendar__block swiper-slide"},t._l(e.rows,function(e,i){return a("div",{key:i,staticClass:"c-calendar__row"},t._l(e,function(e,i){return a("div",{key:i,staticClass:"c-calendar__item",attrs:{id:e.date},on:{click:function(a){t.choose(e.date)}}},[a("div",{staticClass:"c-calendar__label",class:{"is-active":t.selected===e.date,"is-disabled":e.disabled}},[t._v(t._s(e.label))])])}))}))}))])])},dn=[],hn={name:"calendar",props:{weeks:{type:Array,default:function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},defaultDate:{type:String,default:""},range:{type:Boolean,default:!0},rangeStart:{type:String,default:""},rangeEnd:{type:String,default:""}},data:function(){return{minDate:null,maxDate:null,index:1,date:"",blocks:[],selected:null}},methods:{fillZero:function(t){return t<10?"0".concat(t):t},formatToYYYYMM:function(t){return"".concat(t.getFullYear(),"-").concat(this.fillZero(t.getMonth()+1))},formatToYYYYMMDD:function(t){return"".concat(t.getFullYear(),"-").concat(this.fillZero(t.getMonth()+1),"-").concat(this.fillZero(t.getDate()))},isValid:function(t){return!this.range||(!this.minDate||t>=this.minDate)&&t<this.maxDate},createItem:function(t,e){return{label:t.getDate(),date:this.formatToYYYYMMDD(t),disabled:!0===e||!this.isValid(t)}},createBlock:function(t){var e,a=t.getFullYear(),i=t.getMonth(),s=new Date(a,i,1).getDay(),n=new Date(a,i+1,0),o=n.getDay(),r=n.getDate(),c=[[]],l=0;if(0!==s)for(var d=s;d>0;d--)c[l].push(this.createItem(new Date(a,i,1-d),!0));for(var h=1;h<=r;h++)e=new Date(a,i,h),c[l].push(this.createItem(e)),6===e.getDay()&&(l+=1,h<r&&(c[l]=[]));if(6!==o)for(var u=0,p=6-o;u<p;u++)c[l].push(this.createItem(new Date(a,i+1,1+u),!0));return{label:this.$t("format.year-month",{year:a,month:this.$d(t,"month")}),date:this.formatToYYYYMM(t),rows:c}},addPreBlock:function(){return(!this.minDate||this.startDate>this.minDate)&&(this.startDate.setMonth(this.startDate.getMonth()-1),this.blocks.unshift(this.createBlock(this.startDate)),!0)},addNextBlock:function(){return(!this.maxDate||this.endDate<this.maxDate)&&(this.blocks.push(this.createBlock(this.endDate)),this.endDate.setMonth(this.endDate.getMonth()+1),!0)},refresh:function(){var t=this;this.$swiper&&this.$nextTick(function(){t.$swiper.updateSlides(),t.$swiper.slideTo(t.index,0,!1)})},notify:function(){this.$emit("change",this.selected)},choose:function(t){this.selected!==t&&this.isValid(new Date(t))&&(this.selected=t,this.notify())},offsetDay:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},toToday:function(){if(this.$swiper){var t=this.today||new Date;if(t<this.minDate||t>=this.maxDate)this.init(this.formatToYYYYMMDD(t)),this.refresh();else{this.choose(this.formatToYYYYMMDD(t));var e=this.formatToYYYYMM(t);this.index=this.blocks.findIndex(function(t){return t.date===e}),this.$swiper.slideTo(this.index,0,!1)}}},init:function(t){var e=!t;if(this.range){this.rangeStart?this.minDate=new Date(this.rangeStart):this.minDate=null,this.rangeEnd?this.maxDate=new Date(this.rangeEnd):this.maxDate=this.offsetDay(new Date,1),this.minDate>=this.maxDate&&(this.minDate=null);var a=t?new Date(t):new Date;a>=this.maxDate?(a=this.offsetDay(this.maxDate,-1),e=!0):this.minDate&&a<this.minDate&&(a=this.minDate,e=!0),this.selected=this.formatToYYYYMMDD(a),this.today=new Date}else this.minDate=null,this.maxDate=null,this.selected=t||this.formatToYYYYMMDD(new Date);var i=new Date(this.selected),s=i.getFullYear(),n=i.getMonth();this.startDate=new Date(s,n,1),this.endDate=new Date(s,n+1,1),this.blocks=[this.createBlock(this.startDate)],this.index=0,this.addPreBlock()&&(this.index=1),this.addNextBlock(),e&&this.notify()}},watch:{defaultDate:function(){this.init(this.defaultDate),this.refresh()}},created:function(){this.init(this.defaultDate)},mounted:function(){var t=this;this.$swiper=new Ue.a(this.$refs.swiper,{preventInteractionOnTransition:!0,longSwipesRatio:.3,initialSlide:this.index,on:{slideChangeTransitionEnd:function(){t.$nextTick(function(){t.date=t.blocks[t.$swiper.activeIndex].label,0===t.$swiper.activeIndex?t.addPreBlock()&&t.refresh():t.$swiper.activeIndex===t.blocks.length-1?t.addNextBlock()&&(t.index+=1,t.refresh()):t.index=t.$swiper.activeIndex})}}})},beforeDestroy:function(){this.$swiper&&this.$swiper.destroy()}},un=hn,pn=(a("e611"),Object(d["a"])(un,ln,dn,!1,null,null,null));pn.options.__file="Calendar.vue";var fn=pn.exports,mn={name:"attendance-wrapper",components:{navigationWrapper:Ie,weeklyCalendar:cn,calendar:fn},data:function(){return{date:null,showCalendar:!1,selectedDate:null}},computed:{weeks:function(){return"zh-hk"===this.$i18n.locale?["日","一","二","三","四","五","六"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},beforeRouteUpdate:function(t,e,a){t.params.date&&this.change(t.params.date),a()},methods:{change:function(t){this.date!==t&&(this.date=t),this.showCalendar=!1},toggle:function(t){this.selectedDate=t,this.showCalendar=!0}},created:function(){this.date=this.$route.params.date||en(new Date)}},vn=mn,gn=(a("3f8d"),Object(d["a"])(vn,Xs,Ks,!1,null,null,null));gn.options.__file="AttendanceWrapper.vue";var bn=gn.exports,_n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("attendance-statistics",{attrs:{title:t.$t("attendance."+t.type),result:t.result,attendances:t.attendances},on:{choose:t.toGradeAttendance}})},yn=[],Cn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-attendance-statistics"},[a("attendance-block",{staticClass:"c-attendance-statistics__total",attrs:{title:t.title,supplement:t.supplement,attendance:t.result}},[a("div",{staticClass:"c-attendance-statistics__desc"},[t._v(t._s(t.$t("attendance.total")))])]),a("div",{staticClass:"c-attendance-statistics__list"},t._l(t.attendances,function(e,i){return a("attendance-item",{key:i,attrs:{attendance:e},nativeOn:{click:function(a){t.choose(e)}}})}))],1)},wn=[],kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-attendance-item"},[a("div",{staticClass:"c-attendance-item__tip"},[t._v(t._s(t.attendance.label))]),a("div",{staticClass:"o-progress",style:{width:t.attendance.proportion+"%"}},[a("div",{staticClass:"o-pregress__inner",style:{width:t.attendance.precent+"%"}})]),a("div",{staticClass:"c-attendance-item__percent u-more"},[a("span",{staticClass:"c-attendance-item__arrived"},[t._v(t._s(t.attendance.arrived))]),t._v("/"+t._s(t.attendance.total))])])},$n=[],Sn={name:"attendance-item",props:["attendance"]},Pn=Sn,Tn=(a("58ac"),Object(d["a"])(Pn,kn,$n,!1,null,null,null));Tn.options.__file="AttendanceItem.vue";var An=Tn.exports,xn={name:"attendance-statistics",props:{title:{type:String,default:""},supplement:{type:String,default:""},result:{type:Object,default:function(){return{arrived:0,total:0}}},attendances:{type:Array,default:function(){return[]}}},components:{attendanceBlock:da,attendanceItem:An},methods:{choose:function(t){this.$emit("choose",t)}}},In=xn,Dn=(a("9422"),Object(d["a"])(In,Cn,wn,!1,null,null,null));Dn.options.__file="AttendanceStatistics.vue";var On=Dn.exports,En={name:"attendance-school",props:["date"],components:{attendanceStatistics:On},data:function(){return{result:{arrived:0,total:0},attendances:[]}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isAdmin"]),{type:function(){return this.$route.params.type},isTeacher:function(){return"teacher"===this.type},url:function(){return this.isTeacher?"admin/teacher/attendance":"admin/student/schoollevel/attendance"}}),methods:{analysis:function(t){var e={arrived:this.isTeacher?t.arrivedStaffTotal:t.arrivedStudentTotal,total:this.isTeacher?t.staffTotal:t.studentTotal};this.isTeacher?this.attendances=t.staffStat.map(function(t){return t.label=t.schoolLevel,t.arrived=t.arrivedStaffSchoolLevelTotal,t.total=t.staffSchoolLevelTotal,t.precent=t.total>0?t.arrived/t.total*100:0,t.proportion=t.total>0&&e.total>0?t.total/t.result*100:0,t}):this.attendances=t.studentStat.map(function(t){return t.label=t.schoolLevel,t.arrived=t.arrivedStudentSchoolLevelTotal,t.total=t.studentSchoolLevelTotal,t.proportion=t.studentSchoolLevelTotal>0?t.arrivedStudentSchoolLevelTotal/t.studentSchoolLevelTotal*100:0,t.precent=t.total>0?t.arrived/t.total*100:0,t.proportion=t.total>0&&e.total>0?t.total/t.result*100:0,t}),this.result=e},toGradeAttendance:function(t){this.isTeacher?this.$router.push({name:"attendance-details",params:{mode:"teacher",id:t.idSchoolLevel}}):this.$router.push({name:"attendance-grade",params:{schoolLevelId:t.idSchoolLevel}})},fetch:function(){var t=this;this.isAdmin&&(this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{success:function(e){return t.analysis(e.data)}})),this.$httpPost.force({token:this.user.token,queryDate:this.date},{cycle:en(new Date)===this.date?6e4:0}))},reset:function(){this.result={arrived:0,total:0},this.attendances=[],this.fetch()}},watch:{date:function(){this.reset()}},created:function(){this.fetch()},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Mn=En,Nn=Object(d["a"])(Mn,_n,yn,!1,null,null,null);Nn.options.__file="AttendanceSchool.vue";var Ln=Nn.exports,jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("attendance-statistics",{attrs:{title:t.$t("attendance.student"),result:t.result,attendances:t.attendances},on:{choose:t.toClassAttendance}})},Un=[],Hn={name:"attendance-grade",props:["date"],components:{attendanceStatistics:On},data:function(){return{result:{arrived:0,total:0},attendances:[]}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isAdmin"]),{schoolLevelId:function(){return Number(this.$route.params.schoolLevelId)}}),methods:{analysis:function(t){var e={arrived:t.arrivedStudentSchoolLevelTotal,total:t.studentSchoolLevelTotal};this.attendances=t.gradeStudentStat.map(function(t){return t.label=t.gradeLevel,t.arrived=t.arrivedStudentGradeTotal,t.total=t.studentGradeTotal,t.precent=t.total>0?t.arrived/t.total*100:0,t.proportion=t.total>0&&e.total>0?t.total/e.total*100:0,t}),this.result=e},toClassAttendance:function(t){this.$router.push({name:"attendance-classes",params:{gradeId:t.idGrade}})},fetch:function(){var t=this;this.isAdmin&&(this.$httpPost||(this.$httpPost=this.$http.createPost("admin/student/grade/attendance",{success:function(e){return t.analysis(e.data)}})),this.$httpPost.force({token:this.user.token,idSchoolLevel:this.schoolLevelId,queryDate:this.date},{cycle:en(new Date)===this.date?6e4:0}))},reset:function(){this.result={arrived:0,total:0},this.attendances=[],this.fetch()}},watch:{date:function(){this.reset()}},created:function(){this.fetch()},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Bn=Hn,Fn=Object(d["a"])(Bn,jn,Un,!1,null,null,null);Fn.options.__file="AttendanceGrade.vue";var Rn=Fn.exports,Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("attendance-statistics",{attrs:{title:t.$t("attendance.student"),result:t.result,attendances:t.attendances},on:{choose:t.toClassAttendance}})},qn=[],Gn={name:"attendance-classes",props:["date"],components:{attendanceStatistics:On},data:function(){return{result:{arrived:0,total:0},attendances:[]}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isAdmin"]),{gradeId:function(){return Number(this.$route.params.gradeId)}}),methods:{analysis:function(t){var e={arrived:t.arrivedStudentGradeTotal,total:t.studentGradeTotal};this.attendances=t.classStudentStat.map(function(t){return t.label=t.classId,t.arrived=t.arrivedStudentClassTotal,t.total=t.studentClassTotal,t.precent=t.total>0?t.arrived/t.total*100:0,t.proportion=t.total>0&&e.total>0?t.total/e.total*100:0,t}),this.result=e},toClassAttendance:function(t){this.$router.push({name:"attendance-details",params:{mode:"student",id:t.idClass}})},fetch:function(){var t=this;this.isAdmin&&(this.$httpPost||(this.$httpPost=this.$http.createPost("admin/student/class/attendance",{success:function(e){return t.analysis(e.data)}})),this.$httpPost.force({token:this.user.token,idGrade:this.gradeId,queryDate:this.date},{cycle:en(new Date)===this.date?6e4:0}))},reset:function(){this.result={arrived:0,total:0},this.attendances=[],this.fetch()}},watch:{date:function(){this.reset()}},created:function(){this.fetch()},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},Vn=Gn,zn=Object(d["a"])(Vn,Wn,qn,!1,null,null,null);zn.options.__file="AttendanceClasses.vue";var Yn=zn.exports,Jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-attendance-details"},[a("percent-circle",{staticClass:"c-attendance-clas__percent",attrs:{result:t.result,tip:t.$t("attendance.arrived"),description:t.description}}),a("div",{staticClass:"c-attendance-details__list"},t._l(t.array,function(e,i){return a("div",{key:i,staticClass:"c-attendance-detail",class:{"is-nonarrival":1===e.status,"is-leave":4===e.status,"is-manual":2===e.status&&0===e.isManual,"is-recorded":2===e.status&&0!==e.isManual},on:{click:function(a){t.viewSignInInformation(e)}}},[a("div",{staticClass:"c-attendance-detail__avatar"},[a("div",{staticClass:"c-solid-avatar",class:{"has-avatar":!!e.headUrl}},[e.headUrl?a("div",{staticClass:"c-solid-avatar__icon"},[a("i",{style:{backgroundImage:"url("+e.headUrl+")"}})]):t._e()])]),a("div",{staticClass:"c-attendance-detail__name"},[t._v(t._s(e.firstName+" "+e.lastName))])])}))],1)},Zn=[],Qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-percent-circle"},[a("canvas",{ref:"canvas"}),a("div",{staticClass:"c-percent-circle__info"},[a("div",{staticClass:"c-percent-circle__total"},[a("span",{staticClass:"c-percent-circle__arrived"},[t._v(t._s(t.result.arrived))]),t._v("/"+t._s(t.result.total))]),a("div",{staticClass:"c-percent-circle__tip",class:{"is-empty":!t.tip}},[t._v(t._s(t.tip))]),a("div",{staticClass:"c-percent-circle__description",class:{"is-empty":!t.description}},[t._v(t._s(t.description))])])])},Xn=[],Kn=function(t,e){var a={colorArr:["#4ebafc","#4a85f5"],lineWidth:20,colorBg:"#e6eaed",r:100,startPoint:.7*Math.PI,targetPercent:0,point:{show:!1,color:"#ffffff"}};Object.assign(a,e),this.options=a;var i=t;this.ctx=i.getContext("2d"),this.currentPercent=0,this.targetPercent=this.options.targetPercent,this.exec=!1;var s=this.options.r+this.options.lineWidth,n=this.options.r+this.options.lineWidth;i.width=2*s,i.height=2*n,i.style.width=s+"px",i.style.height=n+"px",this.width=i.width,this.height=i.height,this.draw()};function to(t){return t.slice(0,2)+","+t.slice(2,4)+","+t.slice(4,6)}function eo(t){var e=t.substring(1,t.length),a=to(e).split(","),i=[];return a.forEach(function(t){i.push(parseInt(t,16))}),i}function ao(t,e){for(var a=eo(t),i=eo(e),s=[],n=0;n<a.length;n++)a[n]+i[n]?s.push(parseInt((a[n]+i[n])/2)):s.push(0);var o=[];return s.forEach(function(t){t<10&&(t="0"+t),o.push(t.toString(16))}),"#"+o.join("")}Kn.prototype.draw=function(){var t=this;this.ctx.clearRect(0,0,this.width,this.height);var e=this.options.r;if(this.ctx.lineWidth=this.options.lineWidth,this.ctx.save(),this.ctx.beginPath(),this.ctx.lineCap="round",this.ctx.strokeStyle=this.options.colorBg,this.ctx.arc(this.width/2,e+this.options.lineWidth,e,this.options.startPoint,Math.PI-this.options.startPoint,!1),this.ctx.stroke(),this.ctx.restore(),this.currentPercent>0){var a=ao(this.options.colorArr[0],this.options.colorArr[1]);this.ctx.save();var i=this.ctx.createLinearGradient(0,this.height,0,this.height/2+30-e);i.addColorStop(0,this.options.colorArr[0]),i.addColorStop(1,a),this.ctx.strokeStyle=i,this.ctx.lineCap="round";var s=-.5;if(this.currentPercent<.5&&(s=(2-2*(this.options.startPoint/Math.PI-.5))*this.currentPercent-(2-this.options.startPoint/Math.PI)),this.ctx.beginPath(),this.ctx.arc(this.width/2,e+this.options.lineWidth,e,this.options.startPoint,s*Math.PI,!1),this.ctx.stroke(),this.ctx.restore(),this.currentPercent>.5){var n=this.ctx.createLinearGradient(this.width/2,this.height,this.width/2,this.height/2+30-e);n.addColorStop(0,a),n.addColorStop(1,this.options.colorArr[1]),this.ctx.save(),this.ctx.strokeStyle=n,this.ctx.lineCap="round";var o=(this.currentPercent-.5)*(2-2*(this.options.startPoint/Math.PI-.5))-.5;this.ctx.beginPath(),this.ctx.arc(this.width/2,e+this.options.lineWidth,e,-.5*Math.PI,o*Math.PI,!1),this.ctx.stroke(),this.ctx.restore()}if(this.options.point.show){var r=(2-2*(this.options.startPoint/Math.PI-.5))*this.currentPercent-(2-this.options.startPoint/Math.PI),c=this.width/2+(this.width/2-this.options.lineWidth)*Math.cos(r*Math.PI),l=this.height/2+(this.width/2-this.options.lineWidth)*Math.sin(r*Math.PI);this.ctx.save(),this.ctx.fillStyle=t.options.point.color,this.ctx.beginPath(),this.ctx.arc(c,l,10,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.restore()}}},Kn.prototype.execAnimation=function(){var t=this;this.exec||(this.exec=!0,this.timer=setInterval(function(){t.currentPercent<t.targetPercent?(t.currentPercent+=.02,t.currentPercent>t.targetPercent&&(t.currentPercent=t.targetPercent),t.draw()):t.currentPercent>t.targetPercent&&(t.currentPercent-=.02,t.currentPercent<t.targetPercent&&(t.currentPercent=t.targetPercent),t.draw())},1e3/90))},Kn.prototype.stopAnimation=function(){this.exec&&(this.exec=!1,clearInterval(this.timer))};var io=Kn,so={name:"percent-circle",props:{result:{type:Object,default:function(){return{arrived:0,total:0,percent:0}}},tip:{type:String,default:""},description:{type:String,default:""}},methods:{refresh:function(){this.$canvas&&(this.$canvas.targetPercent=this.result.percent)}},watch:{result:function(){var t=this;this.$nextTick(function(){t.refresh()})}},mounted:function(){this.$canvas=new io(this.$refs.canvas,{lineWidth:14,r:180,startPoint:.7*Math.PI,targetPercent:this.result.percent,point:{show:!1,color:"#ffffff"}}),this.$canvas.execAnimation()},beforeDestroy:function(){this.$canvas&&this.$canvas.stopAnimation()}},no=so,oo=(a("0553"),Object(d["a"])(no,Qn,Xn,!1,null,null,null));oo.options.__file="PercentCircle.vue";var ro=oo.exports,co={name:"attendance-details",props:["date"],components:{percentCircle:ro},data:function(){return{result:{arrived:0,total:0,percent:0},description:"",array:[]}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isAdmin","isHeadTeacher"]),{mode:function(){return this.$route.params.mode},isTeacher:function(){return"teacher"===this.mode},isStudent:function(){return"student"===this.mode},id:function(){return Number(this.$route.params.id)},isValid:function(){return this.isAdmin||this.isStudent&&this.isHeadTeacher},url:function(){if(this.isValid){if(this.isStudent)return this.isAdmin?"admin/class/studentattendance":"teacher/class/studentattendance";if(this.isTeacher)return"admin/schoollevel/staff/attendancedetail"}return""}}),methods:{analysisStudent:function(t){this.result={arrived:t.arrivedStudentClassTotal,total:t.studentClassTotal,percent:t.studentClassTotal>0?t.arrivedStudentClassTotal/t.studentClassTotal:0};var e=t.gradeLevel,a=t.classId;this.description=this.$t("format.classInfo",{gradeLevel:e,classId:a}),this.array=t.studentAttendanceInfo},analysisTeacher:function(t){this.result={arrived:t.arrivedStaffSchoolLevelTotal,total:t.staffSchoolLevelTotal,percent:t.staffSchoolLevelTotal>0?t.arrivedStaffSchoolLevelTotal/t.staffSchoolLevelTotal:0},this.description=t.schoolLevelName,this.array=t.staffAttendanceInfoList},analysis:function(t){this.isStudent?this.analysisStudent(t):this.analysisTeacher(t)},viewSignInInformation:function(t){this.$router.push({name:"sign-in-information",params:{mode:this.mode,id:this.isStudent?t.idStudent:t.idStaff,info:encodeURI(this.description)}})},fetch:function(){var t=this;this.isValid&&(this.$httpPost||(this.$httpPost=this.$http.createPost(this.url,{opts:{cycle:6e4},success:function(e){return t.analysis(e.data)}})),this.$httpPost.force(this.isStudent?{token:this.user.token,idClass:this.id,queryDate:this.date}:{token:this.user.token,idSchoolLevel:this.id,queryDate:this.date},{cycle:en(new Date)===this.date?6e4:0}))},reset:function(){this.result={arrived:0,total:0,percent:0},this.students=[],this.fetch()}},watch:{date:function(){this.reset()}},created:function(){this.fetch()},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel()}},lo=co,ho=(a("39b3"),Object(d["a"])(lo,Jn,Zn,!1,null,null,null));ho.options.__file="AttendanceDetails.vue";var uo=ho.exports,po=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{staticClass:"c-sign-in-information",class:{"is-teacher":t.isTeacher,"is-student":t.isStudent},attrs:{title:t.$t("attendance.title")}},[a("div",{staticClass:"l-navigation__content"},[a("div",{staticClass:"c-sign-in-information__wrapper"},[a("character-intro",{staticClass:"c-sign-in-information__intro c-character-intro--black",attrs:{person:t.person,smaller:!1}},[a("div",{staticClass:"c-sign-in-information__phone_wrapper"},[a("div",{staticClass:"c-sign-in-information__phone",on:{click:t.ringUp}})])]),t.canManual?a("div",{staticClass:"c-sign-in-information__operation c-sign-in"},[a("div",{staticClass:"c-sign-in__item"},[t._v(t._s(t.$t("signInType.2"))),a("i",{staticClass:"c-sign-in__icon",class:{"c-sign-in__icon--checked":1===t.signInType},on:{click:function(e){t.signIn(1)}}})]),a("div",{staticClass:"c-sign-in__item"},[t._v(t._s(t.$t("signInType.3"))),a("i",{staticClass:"c-sign-in__icon",class:{"c-sign-in__icon--checked":3===t.signInType},on:{click:function(e){t.signIn(3)}}})])]):t._e(),a("div",{staticClass:"c-sign-in-information__data"},[a("div",{staticClass:"c-sign-in-data",on:{click:function(e){t.toHistory("normal")}}},[a("div",{staticClass:"c-sign-in-data__count"},[t._v(t._s(t.normal))]),t._m(0)]),a("div",{staticClass:"c-sign-in-data",on:{click:function(e){t.toHistory("abnormal")}}},[a("div",{staticClass:"c-sign-in-data__count c-sign-in-data__count--prominent"},[t._v(t._s(t.abnormal))]),t._m(1)])])],1)])])},fo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-sign-in-data__label"},[t._v(t._s(t.$t("signIn.normal")))])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-sign-in-data__label"},[t._v(t._s(t.$t("signIn.abnormal")))])}],mo={name:"sign-in-infomation",components:{navigationWrapper:Ie,characterIntro:Xe},data:function(){return{person:null,phoneNumber:null,normal:0,abnormal:0,signInType:0,submitType:0}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isAdmin","isHeadTeacher"]),{mode:function(){return this.$route.params.mode},isTeacher:function(){return"teacher"===this.mode},isStudent:function(){return"student"===this.mode},id:function(){return Number(this.$route.params.id)},info:function(){return decodeURI(this.$route.params.info)},isValid:function(){return this.isAdmin||this.isStudent&&this.isHeadTeacher},canManual:function(){return this.isStudent&&this.isHeadTeacher||this.isTeacher&&this.isAdmin}}),methods:{analysis:function(t){this.person={id:this.id,name:"".concat(t.firstName," ").concat(t.lastName),headUrl:t.headUrl,info:this.isStudent?t.parentEmail:t.email,tag:this.info},this.phoneNumber=this.isStudent?t.parentMobile:null,this.normal=t.accReachCount,this.abnormal=t.accAbsenceCount},signIn:function(t){var e=this;this.submitType!==t&&(this.$siginInHttpPost||(this.$siginInHttpPost=this.$http.createPost(this.isStudent?"teacher/student/signin":"admin/staff/signin",{opts:{lock:!0},success:function(){e.signInType=e.submitType},fail:function(){e.submitType=0}})),this.submitType=t,this.$siginInHttpPost.force(this.isStudent?{token:this.user.token,idStudent:this.id,type:t}:{token:this.user.token,idStaff:this.id,type:t}))},toHistory:function(t){this.person&&this.$router.push({name:"attendance-history",params:{mode:this.mode,id:this.id,type:t}})},ringUp:function(){this.phoneNumber&&this.$native.ringUp(this.phoneNumber)}},created:function(){var t=this;this.isValid&&(this.$httpPost=this.$http.createPost(this.isStudent?"teacher/student/info":"admin/staff/info",{opts:{cycle:6e4},success:function(e){return t.analysis(e.data)}}),this.$httpPost.request(this.isStudent?{token:this.user.token,idStudent:this.id}:{token:this.user.token,idStaff:this.id}))},beforeDestroy:function(){this.$httpPost&&this.$httpPost.cancel(),this.$siginInHttpPost&&this.$siginInHttpPost.cancel()}},vo=mo,go=(a("9aa5"),Object(d["a"])(vo,po,fo,!1,null,null,null));go.options.__file="SignInInformation.vue";var bo=go.exports,_o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{staticClass:"p-attendance-history",attrs:{title:t.$t("attendance.history")}},[a("div",{staticClass:"l-navigation__placeholder c-attendance-type"},[a("router-link",{staticClass:"o-tab c-attendance-type__tab",class:{"is-active":t.isNormal},attrs:{to:{params:{type:"normal"}},replace:""}},[t._v(t._s(t.$t("signIn.normal")))]),a("router-link",{staticClass:"o-tab c-attendance-type__tab",class:{"is-active":t.isAbnormal},attrs:{to:{params:{type:"abnormal"}},replace:""}},[t._v(t._s(t.$t("signIn.abnormal")))])],1),a("div",{staticClass:"l-navigation__content u-overflow-hidden"},[a("div",{ref:"wrapper",staticClass:"p-attendance-history__content",class:{"p-attendance-history__content--current":t.isNormal}},[a("div",[a("ul",{ref:"listWrapper"},t._l(t.normalAttendances,function(e,i){return a("li",{key:i},[t._o(a("div",{staticClass:"p-attendance-history__time"},[t._v(t._s(e.label))]),0,i),a("div",{staticClass:"p-attendance-history__list"},t._l(e.attendances,function(e,i){return a("div",{key:i,staticClass:"c-attendance-history-item"},[a("div",{staticClass:"c-attendance-history-item__info u-clearfix"},[a("div",{staticClass:"c-attendance-history-item__date"},[t._v(t._s(e.date))]),a("div",{staticClass:"c-attendance-history-item__state"},[t._v(t._s(1===e.isManual?t.$t("signInType.2"):t.$t("signInType.1")))])]),a("div",{staticClass:"c-attendance-history-item__time"},[t._v(t._s(e.time))])])}))])})),t.normalCanPullUp?a("div",{staticClass:"p-sign-in-history__pullup"},[t._v(t._s(t.normalPullUpTip))]):t._e()]),a("loading",{attrs:{fetching:t.normalLoading,isError:t.normalIsError,retry:t.fetchNormal}}),t.normalEmpty?a("div",{staticClass:"p-attendance-history__time"},[t._v(t._s(t.$t("common.empty")))]):t._e()],1),a("div",{ref:"wrapper2",staticClass:"p-attendance-history__content",class:{"p-attendance-history__content--current":t.isAbnormal}},[a("div",[a("ul",{ref:"listWrapper2"},t._l(t.abnormalAttendances,function(e,i){return a("li",{key:i},[t._o(a("div",{staticClass:"p-attendance-history__time"},[t._v(t._s(e.label))]),1,i),a("div",{staticClass:"p-attendance-history__list"},t._l(e.attendances,function(e,i){return a("div",{key:i,staticClass:"c-attendance-history-item"},[a("div",{staticClass:"c-attendance-history-item__info u-clearfix"},[a("div",{staticClass:"c-attendance-history-item__date"},[t._v(t._s(e.date))]),a("div",{staticClass:"c-attendance-history-item__state"},[t._v(t._s(t.$t("signInType.3")))])]),a("div",{staticClass:"c-attendance-history-item__time"},[t._v(t._s(e.time))])])}))])})),t.abnormalCanPullUp?a("div",{staticClass:"p-sign-in-history__pullup"},[t._v(t._s(t.abnormalPullUpTip))]):t._e()]),a("loading",{attrs:{fetching:t.abnormalLoading,isError:t.abnormalIsError,retry:t.fetchAbnormal}}),t.abnormalEmpty?a("div",{staticClass:"p-attendance-history__time"},[t._v(t._s(t.$t("common.empty")))]):t._e()],1)])])},yo=[],Co={name:"attendance-history",components:{navigationWrapper:Ie,loading:Ba},data:function(){return{currentType:null,normalHttpPost:null,normalPage:1,normalPageSize:20,normalIsPullUpLoad:!1,normalError:!1,normalHasMore:!0,normalHasFetched:!1,normalAttendances:[],abnormalHttpPost:null,abnormalPage:1,abnormalPageSize:20,abnormalIsPullUpLoad:!1,abnormalError:!1,abnormalHasMore:!0,abnormalHasFetched:!1,abnormalAttendances:[]}},computed:Object(q["a"])({},Object(f["d"])(["user"]),{mode:function(){return this.$route.params.mode},isTeacher:function(){return"teacher"===this.mode},isStudent:function(){return"student"===this.mode},url:function(){return this.isTeacher?"staff/history/attendance":"teacher/student/history/attendance"},id:function(){return Number(this.$route.params.id)},normalFetching:function(){return!!this.normalHttpPost&&this.normalHttpPost.isRequesting()},normalLoading:function(){return this.normalFetching&&!this.normalHasFetched},normalIsError:function(){return this.normalError&&!this.normalHasFetched},normalHas:function(){return this.normalAttendances.length>0},normalEmpty:function(){return this.normalHasFetched&&!this.normalHas},normalCanPullUp:function(){return this.normalHasFetched&&this.normalHas},normalPullUpTip:function(){return this.normalIsPullUpLoad?this.$t("pullUp.loading"):this.normalHasMore?this.$t("pullUp.more"):this.$t("pullUp.finished")},abnormalFetching:function(){return!!this.abnormalHttpPost&&this.abnormalHttpPost.isRequesting()},abnormalLoading:function(){return this.abnormalFetching&&!this.abnormalHasFetched},abnormalIsError:function(){return this.abnormalError&&!this.abnormalHasFetched},abnormalHas:function(){return this.abnormalAttendances.length>0},abnormalEmpty:function(){return this.abnormalHasFetched&&!this.abnormalHas},abnormalCanPullUp:function(){return this.abnormalHasFetched&&this.abnormalHas},abnormalPullUpTip:function(){return this.abnormalIsPullUpLoad?this.$t("pullUp.loading"):this.abnormalHasMore?this.$t("pullUp.more"):this.$t("pullUp.finished")},isNormal:function(){return"normal"===this.currentType},isAbnormal:function(){return"abnormal"===this.currentType}}),methods:{isSameMonth:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()},isSameDay:function(t,e){return this.isSameMonth(t,e)&&t.getDate()===e.getDate()},checkDateStr:function(t){var e=new Date;return this.isSameDay(e,t)?this.$t("history.today"):(e.setDate(e.getDate()-1),this.isSameDay(e,t)?this.$t("history.yesterday"):this.$t("format.month-day",{month:this.$d(t,"month"),day:t.getDate()}))},addData:function(t,e){var a=e[e.length-1],i=new Date(t.checkTime);a&&this.isSameMonth(a.date,i)||(a={label:this.$t("format.year-month",{year:i.getFullYear(),month:this.$d(i,"month")}),date:i,attendances:[]},e.push(a)),a.attendances.push({date:this.checkDateStr(i),time:t.checkTimeStr.split(" ")[1],isManual:t.isManual})},initNormalScroll:function(){var t=this;this.$refs.wrapper&&this.normalHas&&!this.$normalScroll&&(this.$refs.listWrapper.style.minHeight="".concat(Ma(this.$refs.wrapper).height+1,"px"),this.$normalScroll=new et["a"](this.$refs.wrapper,{scrollY:!0,probeType:2,pullUpLoad:{threshold:10}}),this.$normalScroll.on("pullingUp",function(){t.normalHasMore&&!t.normalFetching?(t.normalIsPullUpLoad=!0,t.fetchNormal()):t.$normalScroll.finishPullUp()}))},normalPullUpFnished:function(){this.normalIsPullUpLoad&&(this.normalIsPullUpLoad=!1,this.$normalScroll.finishPullUp())},normalForceUpdate:function(){var t=this;this.$nextTick(function(){t.$normalScroll?(t.normalPullUpFnished(),t.$normalScroll.refresh()):t.initNormalScroll()})},addNormal:function(t){if(this.normalHasFetched=!0,t.length<this.normalPageSize&&(this.normalHasMore=!1),0!==t.length){for(var e=0,a=t.length;e<a;e++)this.addData(t[e],this.normalAttendances);this.normalPage+=1}},fetchNormal:function(){this.normalHttpPost.request({token:this.user.token,idStudent:this.id,checkType:1,page:this.normalPage,pageSize:this.normalPageSize})},initNormal:function(){var t=this;this.normalHttpPost||(this.normalHttpPost=this.$http.createPost(this.url,{success:function(e){t.normalError=!1,t.addNormal(e.data)},fail:function(){t.normalError=!0}})),this.normalHasFetched||this.fetchNormal()},initAbnormalScroll:function(){var t=this;this.$refs.wrapper2&&this.abnormalHas&&!this.$abnormalScroll&&(this.$refs.listWrapper2.style.minHeight="".concat(Ma(this.$refs.wrapper).height+1,"px"),this.$abnormalScroll=new et["a"](this.$refs.wrapper2,{scrollY:!0,probeType:2,pullUpLoad:{threshold:10}}),this.$abnormalScroll.on("pullingUp",function(){t.abnormalHasMore&&!t.abnormalFetching?(t.abnormalIsPullUpLoad=!0,t.fetchAbnormal()):t.$abnormalScroll.finishPullUp()}))},abnormalPullUpFnished:function(){this.abnormalIsPullUpLoad&&(this.abnormalIsPullUpLoad=!1,this.$abnormalScroll.finishPullUp())},addAbnormal:function(t){if(this.abnormalHasFetched=!0,t.length<this.abnormalPageSize&&(this.abnormalHasMore=!1),0!==t.length){for(var e=0,a=t.length;e<a;e++)this.addData(t[e],this.abnormalAttendances);this.abnormalPage+=1}},fetchAbnormal:function(){this.abnormalHttpPost.request(this.isStudent?{token:this.user.token,idStudent:this.id,checkType:3,page:this.abnormalPage,pageSize:this.abnormalPageSize}:{token:this.user.token,idStaff:this.id,checkType:3,page:this.abnormalPage,pageSize:this.abnormalPageSize})},abnormalForceUpdate:function(){var t=this;this.$nextTick(function(){t.$abnormalScroll?(t.abnormalPullUpFnished(),t.$abnormalScroll.refresh()):t.initAbnormalScroll()})},initAbnormal:function(){var t=this;this.abnormalHttpPost||(this.abnormalHttpPost=this.$http.createPost(this.url,{success:function(e){t.abnormalError=!1,t.addAbnormal(e.data)},fail:function(){t.abnormalError=!0}})),this.abnormalHasFetched||this.fetchAbnormal()},updateAttendances:function(t){if(this.currentType!==t)switch(this.currentType=t,this.currentType){case"normal":this.initNormal();break;case"abnormal":this.initAbnormal();break;default:break}}},watch:{normalFetching:function(t,e){var a=this;e&&!t&&setTimeout(function(){a.normalForceUpdate()},20)},abnormalFetching:function(t,e){var a=this;e&&!t&&setTimeout(function(){a.abnormalForceUpdate()},20)}},beforeRouteUpdate:function(t,e,a){this.updateAttendances(t.params.type),a()},created:function(){this.updateAttendances(this.$route.params.type)},mounted:function(){switch(this.currentType){case"normal":this.initNormalScroll();break;case"abnormal":this.initAbnormalScroll();break;default:break}},beforeDestroy:function(){this.normalHttpPost&&this.normalHttpPost.cancel(),this.$normalScroll&&this.$normalScroll.destroy(),this.abnormalHttpPost&&this.abnormalHttpPost.cancel(),this.$abnormalScroll&&this.$abnormalScroll.destroy()}},wo=Co,ko=(a("7344"),Object(d["a"])(wo,_o,yo,!1,null,"5182f526",null));ko.options.__file="AttendanceHistory.vue";var $o=ko.exports,So=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("navigation-wrapper",{attrs:{title:t.$t("busMap.title")}},[a("div",{ref:"map",staticClass:"l-navigation__content c-bus-map"}),a("div",{staticClass:"c-bus"},[a("div",{staticClass:"c-bus-info c-bus__info"},[a("div",{staticClass:"c-bus-info__logo c-bus-logo"},[a("div",{staticClass:"c-bus-logo__icon"})]),a("div",{staticClass:"c-bus-info__route"},[t._v(t._s(t.routeNo))]),t.plateNo?a("div",{staticClass:"c-bus-info__license"},[t._v(t._s(t.plateNo))]):t._e()]),a("div",{staticClass:"c-bus__time"},[a("div",{staticClass:"c-bus-time"},[a("div",{staticClass:"c-bus-time__label"},[t._v(t._s(t.$t("busMap.boarding")))]),a("div",{staticClass:"c-bus-time__value"},[t._v(t._s(t.boarding))])]),a("div",{staticClass:"c-bus-time"},[a("div",{staticClass:"c-bus-time__label"},[t._v(t._s(t.$t("busMap.unloading")))]),a("div",{staticClass:"c-bus-time__value"},[t._v(t._s(t.unloading))])])])])])},Po=[],To=!1,Ao=null,xo=null;function Io(t){To||Ao||(Ao=document.createElement("script"),Ao.type="text/javascript",Ao.src="http://ditu.google.cn/maps/api/js?&key=AIzaSyDjPJDlzhSHNACgzsLbaBZHjb2N9vwGt3s",document.body.appendChild(Ao),Ao.onload=function(){console.log("load google-map success"),To=!0,Ao=null,xo&&xo()},Ao.onerror=function(){console.log("load google-map error"),To=!1,document.body.removeChild(Ao),Ao=null}),To?t():xo=t}function Do(){xo=null,Ao&&Ao.abort&&Ao.abort()}var Oo={name:"bus-map",components:{navigationWrapper:Ie},data:function(){return{map:null,loaded:!1,googleMapLoaded:!1,icon:"./bus@2x.png",routeNo:"",plateNo:"",boarding:"",unloading:"",gaps:[]}},computed:Object(q["a"])({},Object(f["d"])(["user"]),Object(f["c"])(["isStaff"])),methods:{analysis:function(t){this.loaded=!0,this.routeNo="No.".concat(t.routeNo),this.plateNo=t.plateNo,this.boarding=t.boardingTimeStr,this.unloading=t.unloadingTimeStr,this.gaps=t.tripGps.map(function(t){return{lat:Number(t.latitude),lng:Number(t.longitude)}}),this.draw()},draw:function(){var t=this;if(this.$refs.map&&this.loaded&&0!==this.gaps.length)if(this.googleMapLoaded){var e=new google.maps.LatLngBounds;this.gaps.forEach(function(t){return e.extend(t),t});var a=e.getCenter();this.$map?(this.$map.setCenter(a),this.$marker.setPosition(this.gaps[this.gaps.length-1]),this.$polyline.setPath(this.gaps)):(this.$map=new google.maps.Map(this.$refs.map,{center:a,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0}),this.$marker=new google.maps.Marker({position:this.gaps[this.gaps.length-1],icon:"./bus@2x.png",map:this.$map}),this.$polyline=new google.maps.Polyline({path:this.gaps,geodesic:!0,strokeColor:"#ff0000",strokeOpacity:1,strokeWeight:2,map:this.$map})),this.$map.fitBounds(e)}else Io(function(){t.googleMapLoaded=!0,t.draw()})}},created:function(){var t=this;this.$httpPost=this.$http.createPost(this.isStaff?"staff/bustrip":"parent/child/bustrip",{opts:{cycle:6e4},success:function(e){return t.analysis(e.data)}}),this.$httpPost.request({token:this.user.token,idBus:this.$route.params.busId,checkDetailId:this.$route.params.id})},mounted:function(){this.draw()},beforeDestroy:function(){Do(),this.$httpPost&&this.$httpPost.cancel()}},Eo=Oo,Mo=(a("d1f9"),Object(d["a"])(Eo,So,Po,!1,null,null,null));Mo.options.__file="BusMap.vue";var No=Mo.exports;i["a"].use(F["a"]);var Lo=new F["a"]({routes:[{path:"/login/:mode(parent|staff)?",name:"login",component:At,meta:{type:"login"}},{path:"/user",component:Bt,children:[{path:"boot/pwd/:token?",name:"set-pwd",component:Mt,meta:{login:!0,mode:!0}},{path:"bind/:type?",name:"bind",component:Vt,meta:{login:!0,mode:!0}},{path:"scan/:id",name:"scan",component:de,meta:{login:!0,mode:!0}},{path:"bind/success/:id",name:"bind-success",component:Xt,meta:{login:!0,mode:!0}},{path:"bind/failure/:id",name:"bind-failure",component:se,meta:{login:!0,mode:!0}},{path:"unbind/:id",name:"unbind",component:ve,meta:{login:!0,mode:!0}},{path:"home/:index(\\d+)?",name:"home",component:Da,meta:{login:!0,mode:!0}},{path:"history/:id",name:"history",component:qa,meta:{login:!0,mode:!0}},{path:"motion/:id",name:"motion",component:ii,meta:{login:!0,mode:!0}},{path:"bracelet",name:"bracelet",component:Me,meta:{login:!0,mode:!0}},{path:"account",name:"account",component:li,meta:{login:!0,mode:!0}},{path:"pwd",component:Hs,children:[{path:"preset",name:"pre-modify-pwd",component:Gs,meta:{login:!0,mode:!0}},{path:"modify",name:"modify-pwd",component:Qs,meta:{login:!0,mode:!0}}],meta:{login:!0,mode:!0}},{path:"email/modify",name:"modify-email",component:Ti,meta:{login:!0,mode:!0}},{path:"mobile",component:ms,children:[{path:"confirm",name:"modify-mobile-confirm",component:Cs,meta:{login:!0,mode:!0}},{path:"validate",name:"pre-modify-mobile",component:Ts,meta:{login:!0,mode:!0}},{path:"modify",name:"modify-mobile",component:Es,meta:{login:!0,mode:!0}}],meta:{login:!0,mode:!0}},{path:"bluetooth",name:"bluetooth",component:mi,meta:{login:!0,mode:!0}},{path:"setting",name:"setting",component:Ci,meta:{login:!0}},{path:"setting/language",name:"modify-language",component:Ei,meta:{login:!0}}]},{path:"/children",name:"children",component:Qi,meta:{login:!0,mode:"parent"}},{path:"/children/:id",name:"children-info",component:is,meta:{login:!0,mode:"parent"}},{path:"/children/:id/bus",name:"modify-bus",component:ls,meta:{login:!0,mode:"parent"}},{path:"/attendance",component:bn,children:[{path:":type(teacher|student)/school/:date?",name:"attendance-school",component:Ln,meta:{login:!0,mode:"staff"}},{path:"student/grade/:schoolLevelId/:date?",name:"attendance-grade",component:Rn,meta:{login:!0,mode:"staff"}},{path:"student/classes/:gradeId/:date?",name:"attendance-classes",component:Yn,meta:{login:!0,mode:"staff"}},{path:":mode(teacher|student)/details/:id/:date?",name:"attendance-details",component:uo,meta:{login:!0,mode:"staff"}}],meta:{login:!0,mode:"staff"}},{path:"/signin/:mode(teacher|student)/:info/:id",name:"sign-in-information",component:bo,meta:{login:!0}},{path:"/attendance/:mode(teacher|student)/history/:id/:type(normal|abnormal)",name:"attendance-history",component:$o,meta:{login:!0}},{path:"/map/bus/:busId/:id?",name:"bus-map",component:No,meta:{login:!0}},{path:"/about",name:"about",component:Hi},{path:"/faq",name:"faq",component:Gi},{path:"*",redirect:"/login"}]});Lo.beforeEach(function(t,e,a){if(fr.getters.isLogined)if("login"===t.meta.type)a({name:"home",params:{mode:fr.state.user.mode},replace:!0});else{var i=fr.state.user.mode;t.meta.mode&&t.meta.mode!==i?!0===t.meta.mode?t.params.mode&&t.params.mode!==i?a({name:t.name,params:Object.assign({},t.params,{mode:i}),replace:!0}):a():a({name:"home",params:{mode:fr.state.user.mode},replace:!0}):a()}else t.meta.login?a({name:"login",replace:!0}):a()});var jo=Lo,Uo=new i["a"],Ho=Uo;y.a.defaults.baseURL=j.base_url,y.a.defaults.timeout=j.timeout;var Bo=1,Fo={RETRY:0,CYCLE:1,WAIT:100,REQUEST:101,COMPELETED:102,SLEEP:103,DESTROY:999},Ro=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(g["a"])(this,t),this.url=e,this.state=Fo.WAIT,this.cancelSource=null,this.timer={};var i=a.data,s=void 0===i?null:i,n=a.opts,o=void 0===n?{}:n,r=a.success,c=a.fail,l=a.complet;this.data=s,this.opts=Object.assign({cancel:!0,retry:!1,delay:3e3,sleep:!1,lock:!1,cycle:0},o),this.opts.cycle>0&&(this.opts.retry=!1!==o.retry),this.success=r,this.fail=c,this.complet=l}return Object(b["a"])(t,[{key:"isWait",value:function(){return this.state<=Fo.WAIT}},{key:"isRequesting",value:function(){return this.state===Fo.REQUEST}},{key:"isSleep",value:function(){return this.state===Fo.SLEEP}},{key:"_request",value:function(){var t=this;this.state=Fo.REQUEST;var e={};this.opts.lock&&(this.opts.lockId=Bo++,e.lock=!0,e.lockId=this.opts.lockId),this.opts.cancel&&(this.cancelSource=zo.cancelSource(),e.cancelToken=this.cancelSource.token),zo.post(this.url,this.data,e).then(function(e){t.state!==Fo.DESTROY&&(t.opts.sleep?t.state=Fo.SLEEP:t.opts.cycle>0&&(t.state=Fo.CYCLE,t.timer=setTimeout(function(){return t._request()},t.opts.cycle)),t.state=Fo.WAIT,t.success&&t.success(e,t.data))},function(e){t.state!==Fo.DESTROY&&(t.opts.retry&&e.code<0?(t.state=Fo.RETRY,t.timer=setTimeout(function(){return t._request()},t.opts.delay)):t.state=Fo.WAIT,t.state=Fo.WAIT,t.fail&&t.fail(e))}).then(function(){t.state!==Fo.DESTROY&&(t.cancelSource=null,t.complet&&t.complet())})}},{key:"_clearTimer",value:function(){clearTimeout(this.timer)}},{key:"request",value:function(t){return this.isWait()&&(t&&(this.data=t),this._clearTimer(),this._request()),this}},{key:"awaken",value:function(){return this.isSleep()&&(this.state=Fo.WAIT),this}},{key:"reset",value:function(){this._clearTimer(),this.state=Fo.WAIT}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"destroy";this.state=Fo.DESTROY,this.isRequesting()&&(this.opts.lock&&Ho.$emit(r,this.opts.lockId),this.opts.cancel&&(this.cancelSource.cancel(t),this.cancelSource=null)),this._clearTimer()}}]),t}(),Wo=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(g["a"])(this,t),this.url=e,this.props=a,this.httpPost=null}return Object(b["a"])(t,[{key:"_getHttpPost",value:function(){return this.httpPost||(this.httpPost=new Ro(this.url,this.props)),this.httpPost}},{key:"_destoryHttpPost",value:function(t){this.isRequesting()?(this.httpPost.destroy(t),this.httpPost=null):this.httpPost&&this.httpPost.reset()}},{key:"isWait",value:function(){return null===this.httpPost||this.httpPost.isWait()}},{key:"isRequesting",value:function(){return null!==this.httpPost&&this.httpPost.isRequesting()}},{key:"isSleep",value:function(){return null!==this.httpPost&&this.httpPost.isSleep()}},{key:"request",value:function(t){return this._getHttpPost().request(t),this}},{key:"force",value:function(t,e){return this._destoryHttpPost("force"),this.setOpts(e),this.request(t),this}},{key:"setUrl",value:function(t){return this._destoryHttpPost("url changed"),this.url=t,this.httpPost&&(this.httpPost.url=t),this}},{key:"setOpts",value:function(t){return this.props.opts?Object.assign(this.props.opts,t):this.props.opts=t,this.httpPost&&Object.assign(this.httpPost.opts,t),this}},{key:"awaken",value:function(){return this.isSleep()&&this.httpPost.awaken(),this}},{key:"cancel",value:function(){return this._destoryHttpPost(),this}}]),t}();function qo(t){var e=t.code,a=t.message;if(B("server error ".concat(e,": ").concat(a)),607===e){var i=fr.getters.mode;fr.dispatch(v),jo.replace({name:"login",params:{mode:i}})}}var Go,Vo,zo={post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.lock&&(a.lockId=a.lockId||Bo++,Ho.$emit(o,a.lockId)),new Promise(function(i,s){y.a.post(t,a.origin?e:w.a.stringify(e),a).then(function(t){a.lock&&Ho.$emit(r,a.lockId);var e=t.data.code;200===e?i(t.data):(qo(t.data),s(t.data))},function(t){var e,i;a.lock&&Ho.$emit(r,a.lockId),t.response?(e=-999,i="Server error ".concat(t.response.status)):t.request?(e=-1e3,i=t.message):(e=-1001,i=t.message||"unknown"),B("".concat(e,": ").concat(i)),s({code:e,message:i})})})},cancelSource:function(){return y.a.CancelToken.source()},createPost:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Wo(t,e)},uploadFile:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a.headers={"Content-Type":"multipart/form-data"},a.origin=!0;var i=new FormData;return i.append("file",e),this.post(t,i,a)},createLockId:function(){return Bo++}},Yo=zo,Jo={UNKNOWN:"unknown",PARENT:"parent",STAFF:"staff"},Zo={HEADMASTER:1,HEADMASTER_MIDDLE:2,HEADMASTER_LOWER:3,DIRECTOR:4,HEADTEACHER:5,GENERAL:6};i["a"].use(f["a"]);var Qo=window.localStorage.getItem("smart_campus__user");Qo&&(Qo=JSON.parse(Qo));var Xo="SET_RUNTIME_MODE",Ko="CLEAR",tr="UPDATE_USER",er="SAVE_USER",ar="UPDATE_RELATED_FIGURES",ir="UPDATE_RELATED_FIGURE",sr="TRANSFORM_NAME",nr={};function or(t,e){return nr[t]||(nr[t]=Yo.createPost(t,e)),nr[t]}function rr(){for(var t in nr)nr[t].cancel();nr={}}var cr={runtimmeMode:"normal",user:Qo,figures:[]},lr={isLogined:function(t){return!!t.user},mode:function(t,e){return e.isLogined?t.user.mode:Jo.UNKNOWN},isParent:function(t,e){return e.mode===Jo.PARENT},isStaff:function(t,e){return e.mode===Jo.STAFF},isAdmin:function(t,e){if(e.isStaff)switch(t.user.roles){case Zo.HEADMASTER:case Zo.HEADMASTER_MIDDLE:case Zo.HEADMASTER_LOWER:case Zo.DIRECTOR:return!0;default:return!1}return!1},isHeadTeacher:function(t,e){return!!e.isStaff&&t.user.roles===Zo.HEADTEACHER},getFigure:function(t,e){return function(a){switch(e.mode){case Jo.PARENT:case Jo.STAFF:return t.figures.find(function(t){return t.id===a});default:return null}}},phoneNumber:function(t,e){return e.isLogined&&t.user.areaCode&&t.user.mobilePhone?"852"===t.user.areaCode?t.user.mobilePhone:t.user.areaCode+t.user.mobilePhone:""}};function dr(t,e){if(t&&e)for(var a in e)i["a"].set(t,a,e[a])}var hr=(Go={},Object(p["a"])(Go,m,function(t,e){t.user=e}),Object(p["a"])(Go,v,function(t){t.user=null,window.localStorage.removeItem("smart_campus__user")}),Object(p["a"])(Go,Ko,function(t){t.figures=[],t.runtimmeMode="normal",rr()}),Object(p["a"])(Go,ar,function(t,e){t.figures=e}),Object(p["a"])(Go,Xo,function(t,e){t.runtimmeMode=e}),Object(p["a"])(Go,tr,function(t,e){dr(t.user,e)}),Object(p["a"])(Go,er,function(t){t.user&&window.localStorage.setItem("smart_campus__user",JSON.stringify(t.user))}),Object(p["a"])(Go,ir,function(t,e){dr(t.figures.find(function(t){return t.id===e.id}),e.info)}),Object(p["a"])(Go,sr,function(t){var e;switch(t.user.relationship){case 1:e="Mr.".concat(t.user.lastName);break;case 2:e="Ms.".concat(t.user.lastName);break;default:e=t.user.lastName||t.user.userName;break}t.user.name=e}),Go),ur=(Vo={},Object(p["a"])(Vo,m,function(t,e){var a=t.commit,i=t.dispatch;a(Ko),a(m,e),a(sr,e),i(ar)}),Object(p["a"])(Vo,v,function(t){var e=t.commit;e(Ko),e(v)}),Object(p["a"])(Vo,tr,function(t,e){var a=t.commit;a(tr,e),a(sr),a(er)}),Object(p["a"])(Vo,ar,function(t){var e=t.state,a=t.getters,i=t.commit;if(a.isLogined)switch(e.user.mode){case"parent":or("parent/children",{data:{token:e.user.token},opts:{retry:!0},success:function(t){return i(ar,t.data.map(function(t){return t.name="".concat(t.firstName," ").concat(t.lastName),t}))}}).request();break;case"staff":i(ar,[e.user]);break;default:break}}),Object(p["a"])(Vo,"setRuntimeMode",function(t,e){var a=t.commit;a(Xo,e)}),Object(p["a"])(Vo,"updateUserInfo",function(t,e){var a=t.state,i=t.getters,s=t.commit;i.isLogined&&(s(tr,e),0===a.user.isFirstLogin&&s(er))}),Object(p["a"])(Vo,"updateFigureInfo",function(t,e){var a=t.commit;a(ir,e)}),Object(p["a"])(Vo,"saveUser",function(t){var e=t.commit;lr.isLogined&&(1===cr.user.isFirstLogin&&e(tr,{isFirstLogin:0}),e(er))}),Vo),pr=new f["a"].Store({state:cr,getters:lr,mutations:hr,actions:ur,modules:{}}),fr=pr;function mr(){return new Promise(function(t){if(pr.getters.isLogined){var e;switch(pr.state.user.mode){case"parent":e="parent/info";break;case"staff":e="staff/info";break;default:return void t()}Yo.createPost(e,{success:function(t){pr.dispatch(tr,t.data),pr.dispatch(ar)},fail:function(){pr.dispatch(v)},complet:function(){t()}}).request({token:pr.state.user.token})}else t()})}var vr,gr=a("8237"),br=a.n(gr),_r={toHome:function(){jo.replace({name:"home"})}},yr=_r,Cr=!1,wr=null;function kr(t,e){return Cr?(B("call native ".concat(t)),new Promise(function(a){wr.callHandler(t,e,function(e){B("native ".concat(t,": ").concat(e)),a(e)})})):Promise.reject({code:-1})}var $r=[],Sr={_bluetooth:"waiting",get bluetooth(){return"waiting"===this._bluetooth||"open"===this._bluetooth},get bluetoothState(){return this._bluetooth},get isReady(){return Cr},ready:function(){return Cr?Promise.resolve():new Promise(function(t){$r.push(t)})},getNativeOS:function(){var t=window.localStorage.getItem("os");return t?Promise.resolve(t):kr("getNativeOS",null).then(function(t){return window.localStorage.setItem("os",t),t})},getNativeAPPVer:function(){return kr("getNativeAPPVer",null)},openSysSetting:function(){return kr("openSysSetting",null).then(function(t){return"true"===t})},scan:function(){return kr("scanQRCode",null).then(function(t){return JSON.parse(t)})},ringUp:function(t){return t?kr("ringUp",{phoneNumber:t}).then(function(t){return"true"===t}):Promise.reject({code:101})},isBraceletConnected:function(){return kr("isBraceletConnected",null).then(function(t){return JSON.parse(t)})},connectBracelet:function(t){return kr("connectBracelet",{mac:t}).then(function(t){return"true"===t})},disConnectBracelet:function(){return kr("disConnectBracelet",null).then(function(t){return"true"===t})},unbindBracelet:function(t){return kr("unbindBracelet",{mac:t}).then(function(t){return"true"===t})}};function Pr(t,e){Ho.$emit(t,e)}var Tr={BLUETOOTH_OPEN:102,BLUETOOTH_CLOSE:103,BRACELET_CONNECTED:200,BRACELET_DISCONNECT:201},Ar=(vr={},Object(p["a"])(vr,Tr.BLUETOOTH_OPEN,ka),Object(p["a"])(vr,Tr.BLUETOOTH_CLOSE,$a),Object(p["a"])(vr,Tr.BRACELET_CONNECTED,Pa),Object(p["a"])(vr,Tr.BRACELET_DISCONNECT,Ta),vr);function xr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Ar[t];if(a){switch(a){case ka:case $a:var i=t===ka;Sr._bluetooth=i?"open":"close",Pr(a),Pr(Sa,{open:i});break;default:Pr(a,e);break}Pr(Ca,{type:a,data:e})}}function Ir(t){B("nativeEventCallback: ".concat(t)),t=JSON.parse(t),xr(t.type,t.data)}function Dr(t){Cr||(Cr=!0,wr=t,t.registerHandler("setEventCallback",function(t){Ir(t)}),kr("isBluetoothOpen",null).then(function(t){var e="true"===t?"open":"close";Sr._bluetooth!==e&&xr(t?Tr.BLUETOOTH_OPEN:Tr.BLUETOOTH_CLOSE)}),$r.forEach(function(t){t()}),Pr(wa))}window.setEventCallback=Ir,window.JsNativeApi=Sr;var Or=Sr;function Er(){return new Promise(function(t){window.setupWebViewJavascriptBridge=function(t){if(window.WebViewJavascriptBridge)return t(window.WebViewJavascriptBridge);if(document.addEventListener("WebViewJavascriptBridgeReady",function(){t(window.WebViewJavascriptBridge)},!1),window.WVJBCallbacks)return window.WVJBCallbacks.push(t);window.WVJBCallbacks=[t];var e=document.createElement("iframe");e.style.display="none",e.src="https://__bridge_loaded__",document.documentElement.appendChild(e),setTimeout(function(){document.documentElement.removeChild(e)},0)},window.setupWebViewJavascriptBridge(function(t){Dr(t)}),t()})}function Mr(){return Er()}i["a"].prototype.$eventBus=Ho,i["a"].prototype.$http=Yo,i["a"].prototype.$jumper=yr,i["a"].prototype.$native=Or,i["a"].prototype.$md5=br.a,i["a"].prototype.$log=B;var Nr=!1;i["a"].config.productionTip=Nr,i["a"].config.debug=Nr,i["a"].config.devtools=Nr,i["a"].directive("overflow",{inserted:function(t){t.offsetWidth<=t.parentNode.offsetWidth?t.classList.remove("is-overflow"):t.classList.add("is-overflow")},componentUpdated:function(t){t.offsetWidth<=t.parentNode.offsetWidth?t.classList.remove("is-overflow"):t.classList.add("is-overflow")}}),Promise.all([Mr(),mr()]).then(function(){new i["a"]({store:fr,router:jo,i18n:rt,render:function(t){return t(u)}}).$mount("#app")})},"58ac":function(t,e,a){"use strict";var i=a("4b84"),s=a.n(i);s.a},"59e6":function(t,e,a){"use strict";var i=a("ab95"),s=a.n(i);s.a},"5c0b":function(t,e,a){"use strict";var i=a("5e27"),s=a.n(i);s.a},"5e27":function(t,e,a){},"60ba":function(t,e,a){},6217:function(t,e,a){},"63bd":function(t,e,a){"use strict";var i=a("9f57"),s=a.n(i);s.a},6617:function(t,e,a){"use strict";var i=a("44bf"),s=a.n(i);s.a},"69fe":function(t,e,a){"use strict";var i=a("1641"),s=a.n(i);s.a},"6ba9":function(t,e,a){"use strict";var i=a("cabc"),s=a.n(i);s.a},"6cde":function(t,e,a){"use strict";var i=a("03ac"),s=a.n(i);s.a},"6d6d":function(t,e,a){"use strict";var i=a("c02a"),s=a.n(i);s.a},"718c":function(t,e,a){},7344:function(t,e,a){"use strict";var i=a("c0e5"),s=a.n(i);s.a},7578:function(t,e,a){"use strict";var i=a("6217"),s=a.n(i);s.a},8310:function(t,e,a){},8853:function(t,e,a){},"88a7":function(t,e){t.exports="data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQFAAAEACwAAAAAZABkAAAD/0i63P4wykmrvTjrzbv/YCiOZGme6CasbOqObPvOXRzTeGbLeT/tK18KQLwABZeBUlghOgGVY0VJHTAlT2cUOK0ur4+s9sedeKngsBhK3lHO3zRjXZRIJfC4fEFv28xwew50bBB3EHlWgg2EEYcOiYtqYo5lD3mSk5QPjwyRmYNrhpYNmKChog6dCp+njKkNqwSmrq+wDG6QtD4BvRiNsX+lu296Hb3IARd9qjyegRZnH8nUTbfR0IDZG9TdFJsa0trEGd3eE08eVcWJihzm5ovt6x7w8WDz9CD25z35aCT4Vcvxz9gIgchwFJyBUOG8HvwckqNhT6K4K/1oXJST0P8HwFogQ4ocSbKkyVoFP8pJaRARS31MXsJ0KdNdzJo2L+FsqXFnzmE7r/j8CVRmmqDjXh7F2UXpSqMno0qdSrWq1ZNENWby4m/mzY0uJvYUa6JdV7NjW4XNZ1Ft2X9nH5ZIKYSuiIX44ILAu5StOr8RvGIQ/EwuB8OBuW4Aq9NtBseNCbOTXJjx4G14MDdVPJny5qyROS9gDJkmzxkTLZM95ZhcaVCQU6+WJ1v17D2lxb4WRLa3Zkmvff/mPZxV8VnH8x5fvfur5cqem3tMjvw5dJW4qd++HRe7ac/GRWcX/9176NNCwYcn//3qevXuz6OPn9g6/czw7xedrz9x//8KAAYo4IAEFthAAgAh+QQFAAAEACwLAAUAPwAjAAADxUi63P4QyAmrvfhNmrvP2/aNJBNyZdqdkvoFsMcCnmCTcB6AbGb/gpcuhpn5gLfOMFfsXZA/z5JoMT6hQeV0V3VWsEnt8mL9YkdbbsT7AGeF00rZ4U5t5ewGWJVenyB1fHEaeQt7Ln0Oc4aHiIMNiwqNjo8mIW2TCwObcGOQl3qZCpukA1KVCyJ0Zw6lrhl3I6IErrUYniRQELW2FzouQBW8vC7FDcPExsrIvcouzK/OxdCk0sbU1svI2drJ3NfR387V4hgJACH5BAUAAAQALBoABQA/ACMAAAPFSLrcHjC6Sau9L0LMu1ea9o0kE0pl6p2b6g3wynpATcL4wLEBV/+ATw63m2GAv9cwduEdkbbOkmlxXqBRzpRKsVawWe20afxiR1tdxTsBB9HbddnhTsW78wZYlcafKHV8YxNsDHsufRl/dIeIgw2FCo2OjyYhbZOUS4oohpkXAqEVd5CdnlAeoaoCFKQ0Zxirsq1DKaigsrO0XCRAsbm6LsIKwMDDwsXGxynJucsqzcHPI9Gq09DR1y7N2sjF3cPO4MfWHQkAIfkEBQAABAAsLgAFADEAMAAAA71Is0z+MMpJJ2s1a33v/qDTYWFJjYupSugQBvAKtR9sB7KI1ncs05qeLQfMCH2rIuWIVCknzJxiV2HiiFRoVPqEbLnZiFWqGy2P5HJHi053CV/3WjJOq1Pi+AbAz3jobR98gwAyehSEiYY9e4mKi02Ijo92kpOUlRCXk5kRm46dnp+EoZqjfaWmn6kSq6ytl6+Wg7IZtLW4ubq7vL2dAsDBwsPApcTHyL/Iy8GZzM/FdtDPztPHytbDodnCDgkAIfkEBQAABAAsOwAKACQAPwAAA69IujzOMMpJnB0062u1h1z3jeEzeqV5Zum6te6UYrFc1vaNR/De9D4FMDgLLoqngDLHSSqfkuHkSV3ympqqlunRbndeLy4sjpG/5jN1rLayz0a4kUCeL9B2BTTP7/v/gIERAISFhoeELoiLjCeMj4YjkJOJHpSTkpeLjpqIK52RgqKjpKUjAoECqqp+q66oea+vdrKyRrW2Qbi5O7u8OL6uusGsw8Fzx7S4fMt9sxEJACH5BAUAAAQALDsAGQAkAD8AAAOtSLrcziO+SV+8o2qL8f5d+GmhOHJldzZpuS6t+RKxOtO1dCv5DrU+VirokBGFmaNyyWw6n8yAdEqtSl/WrPak7VJH3vB1Iw6Dy1ku2rpaf6HwuHzuBMQBePwzz7cz+31LgIBHg4REhoc+iYo7jHyIj3oTApUCGpJ+DZaWG48PnJ2ehg6hoqONCqanqJOlq02rlbGyTLKXtrW5prSwu6G9vL/Aw6xHusW4yU/EOwkAIfkEBQAABAAsLgAtADEAMQAAA7lIutz+ZMhJq4Q4L8u7/k0nUmA5nlepoaf6sZ67wpb80pOt73zv/8CgcLgLEGWBZPIIUjqNTMzzGX1Mp1XGFZtVbLnZL7gqdnYJZWUPwAZo0lBbu/0p7+b0+laHz+vHCwKCgw59fn9LD4OEhYZCi4uNjkCQjA2GbJSVAg+Ybj+bnJ2YoJsYpD6hp6g8qqt9qaavsK2ys3i1lR+sNq4ZvDK+v7Q6wreZO8a3PcpdzVnP0JBnitPU1dcOCQAh+QQFAAAEACwaADoAPwAkAAADyEi63P4wkiGrvXhojbu3W0h9ZCmKZZqdqOo+7PnOTCzTs33jrh7yL99GIigKXIFkoCIcOYzGlFIJ0j2g0dKUWmVdsUXSltttMcBZBmDNdozJZecZ/WC33W8cOtyw2/F5L3tHDn53DW9Jgnt1hgAPiUsqgxCOj5CJk3SVjhGZJZSchp6fH4wRlhKlHaGifqqrFq2uf7CBF6cSqRWxRJu6nby3smAXu8JbrMUWx7ZTHlgYzc6SQIXB1jPT2Snb3CWj39qv4jRr5QwJACH5BAUAAAQALAsAOgA/ACQAAAPHSLrcJC7KSesUGNvNu8og5I3kE4Jlap2n6kZs+86xPKu1fZc5uuM9zS8VFE0ASIBrwBxccpZkMtVsSmob6bRUtTpiHO3W0/V+fVkx0hFoux1l80ytZLvbkbjzRq8z7ndwenN0EYBvgnEvfYaHAXmDKoyNhxJ6eyWFEo6PloqZmpSAE5egYhScFJEek5uOqqtpahWpsJ+yWha1tl0doRO7pLdRp7qvFsMVs8aVyGWsUhzBvJhDDdPWKtjZJdvcJM3fL+Hi450qCQAh+QQFAAAEACwFAC0AMQAxAAADukgq3P5MyUmrlTDryzvRoOONU2hG5HiaKblurfpCsTs3da7vfO//wKBwCAQQa4Bk8jhSOo1My/MZpUynVckVW91ymd7vMezMkpXmsyfADvDIo3Z75yXJ57pt6o7PUfd8bBUDhIVDgW6DhYRCiIkTi4tAjhaRhj+UipaYiBeWjD6dnp+hopWkPaanmzyZo6w6rq+RrYEjnwO1fLeosbu8sDm2wLS6giS4WavFypC9zQrJ0M6S09SX1s4SCQAh+QQFAAAEACwFABkAJAA/AAADrki6Ks4wytmcpRjb/bJfXPh5oThSZXlOqbpGrfmC8TZD9XUz+Q63vp8riOMQUZ2jcslsOp8MgHRKrUpf1qz2pO1SR97w1SMOg8tZLtq6Wn+h8Lh8Tj8F4oF83qnv35V+fkeBgUSEhTuHiDOKiy+NfT6QepKTGQOYAxOQHpmZEoofnp8RhyOjpBCCp6iYTK2aS7CxR7OvsLK4uai3rb2jv8BKtrvCxZ5Nvsm8TsYRCQAh+QQFAAAEACwFAAoAJAA/AAADrki63K4ivklnvKJqi+X+S3eBoOiRmnmilMqm7tvG8kPXjZrhzs1Dvl+Qp6MAjqii48gEkILN6AcalcIwj2p1g81qt7yv9icG18pWHJr5I6zbijI8/p0vzHa6M8/v+/+AGgGDhIWGgyyHioski46FII+SiBuTkpGWio2ZhyickIGhoqOkogOAA6mpfKqtp3Curm2xsT+0tTW3uC+6uyy9rTjAqsLDtr2wt3bKebI/CQA7"},"8f81":function(t,e,a){"use strict";var i=a("3a5b"),s=a.n(i);s.a},9422:function(t,e,a){"use strict";var i=a("60ba"),s=a.n(i);s.a},"9aa5":function(t,e,a){"use strict";var i=a("9cec"),s=a.n(i);s.a},"9abc":function(t,e,a){},"9cec":function(t,e,a){},"9f57":function(t,e,a){},ab95:function(t,e,a){},ac30:function(t,e,a){"use strict";var i=a("8853"),s=a.n(i);s.a},add2:function(t,e,a){},b1fa:function(t,e,a){"use strict";var i=a("ca48"),s=a.n(i);s.a},b235:function(t,e,a){},b46e:function(t,e,a){},bace:function(t,e,a){"use strict";var i=a("e795"),s=a.n(i);s.a},bdca:function(t,e,a){"use strict";var i=a("c7f8"),s=a.n(i);s.a},c02a:function(t,e,a){},c0e5:function(t,e,a){},c23c:function(t,e,a){},c58e:function(t,e,a){},c7f8:function(t,e,a){},ca48:function(t,e,a){},ca86:function(t,e,a){},cabc:function(t,e,a){},d1f9:function(t,e,a){"use strict";var i=a("8310"),s=a.n(i);s.a},dbc7:function(t,e,a){},dd4a:function(t,e,a){},de91:function(t,e,a){"use strict";var i=a("add2"),s=a.n(i);s.a},e2c3:function(t,e,a){},e611:function(t,e,a){"use strict";var i=a("dbc7"),s=a.n(i);s.a},e795:function(t,e,a){},eb4a:function(t,e,a){"use strict";var i=a("b46e"),s=a.n(i);s.a},f67e:function(t,e,a){"use strict";var i=a("10e3"),s=a.n(i);s.a},f894:function(t,e,a){},fd2b:function(t,e,a){},ff01:function(t,e,a){"use strict";var i=a("b235"),s=a.n(i);s.a}},[[0,"runtime","chunk-vendors"]]]);
//# sourceMappingURL=app.c061d55b.js.map